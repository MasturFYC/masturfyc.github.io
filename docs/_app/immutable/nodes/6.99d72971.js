import{s as Je,n as Ee,r as je}from"../chunks/scheduler.c913b84b.js";import{S as Fe,i as qe,g as s,s as k,m as R,C as Ge,h as o,f as r,c as y,j as b,x as Q,n as J,k as m,y as e,a as Z,A as W,E as Ke,o as ce,H as Xe,D as Me}from"../chunks/index.96e38b57.js";import{g as Ye}from"../chunks/globals.7f7f1b26.js";import{e as Oe}from"../chunks/each.9a39eae0.js";import{c as Ve}from"../chunks/browser.54b85836.js";import{f as ze}from"../chunks/fetch-api.03dee818.js";const{document:_e}=Ye;function He(l,t,n){const a=l.slice();return a[21]=t[n],a[22]=t,a[23]=n,a}function Qe(l){let t,n,a,h,d,C,E,_;return{c(){t=s("input"),n=k(),a=s("span"),h=R("CSV Format ("),d=R(ie),C=R(")"),this.h()},l(u){t=o(u,"INPUT",{type:!0,class:!0,accept:!0}),n=y(u),a=o(u,"SPAN",{});var f=b(a);h=J(f,"CSV Format ("),d=J(f,ie),C=J(f,")"),f.forEach(r),this.h()},h(){m(t,"type","file"),m(t,"class","mb-4 mt-2"),m(t,"accept","text/csv")},m(u,f){Z(u,t,f),Z(u,n,f),Z(u,a,f),e(a,h),e(a,d),e(a,C),E||(_=W(t,"change",Xe(l[11])),E=!0)},p:Ee,d(u){u&&(r(t),r(n),r(a)),E=!1,_()}}}function We(l){let t,n,a,h,d,C,E,_,u,f;return{c(){t=s("div"),n=s("label"),a=s("span"),h=R("CSV Text (comma delimited) format: ("),d=R(ie),C=R("):"),E=k(),_=s("textarea"),this.h()},l(v){t=o(v,"DIV",{class:!0});var P=b(t);n=o(P,"LABEL",{class:!0});var N=b(n);a=o(N,"SPAN",{});var w=b(a);h=J(w,"CSV Text (comma delimited) format: ("),d=J(w,ie),C=J(w,"):"),w.forEach(r),E=y(N),_=o(N,"TEXTAREA",{class:!0,rows:!0}),b(_).forEach(r),N.forEach(r),P.forEach(r),this.h()},h(){m(_,"class","textarea column is-full svelte-5e1234"),m(_,"rows","10"),m(n,"class","label svelte-5e1234"),m(t,"class","field block")},m(v,P){Z(v,t,P),e(t,n),e(n,a),e(a,h),e(a,d),e(a,C),e(n,E),e(n,_),Me(_,l[3]),u||(f=W(_,"input",l[10]),u=!0)},p(v,P){P&8&&Me(_,v[3])},d(v){v&&r(t),u=!1,f()}}}function Re(l){let t,n,a,h,d,C=l[21].noSl+"",E,_,u,f=l[21].name+"",v,P,N,w=l[21].address+"",B,M,q,V=l[21].city+"",G,K,U,D=l[21].cabang+"",T,g,O,S;function Y(){l[16].call(a,l[22],l[23])}return{c(){t=s("tr"),n=s("td"),a=s("input"),h=k(),d=s("td"),E=R(C),_=k(),u=s("td"),v=R(f),P=k(),N=s("td"),B=R(w),M=k(),q=s("td"),G=R(V),K=k(),U=s("td"),T=R(D),g=k(),this.h()},l(x){t=o(x,"TR",{});var c=b(t);n=o(c,"TD",{});var X=b(n);a=o(X,"INPUT",{type:!0}),X.forEach(r),h=y(c),d=o(c,"TD",{});var A=b(d);E=J(A,C),A.forEach(r),_=y(c),u=o(c,"TD",{});var $=b(u);v=J($,f),$.forEach(r),P=y(c),N=o(c,"TD",{});var j=b(N);B=J(j,w),j.forEach(r),M=y(c),q=o(c,"TD",{});var ee=b(q);G=J(ee,V),ee.forEach(r),K=y(c),U=o(c,"TD",{});var z=b(U);T=J(z,D),z.forEach(r),g=y(c),c.forEach(r),this.h()},h(){m(a,"type","checkbox")},m(x,c){Z(x,t,c),e(t,n),e(n,a),a.checked=l[21].selected,e(t,h),e(t,d),e(d,E),e(t,_),e(t,u),e(u,v),e(t,P),e(t,N),e(N,B),e(t,M),e(t,q),e(q,G),e(t,K),e(t,U),e(U,T),e(t,g),O||(S=W(a,"change",Y),O=!0)},p(x,c){l=x,c&2&&(a.checked=l[21].selected),c&2&&C!==(C=l[21].noSl+"")&&ce(E,C),c&2&&f!==(f=l[21].name+"")&&ce(v,f),c&2&&w!==(w=l[21].address+"")&&ce(B,w),c&2&&V!==(V=l[21].city+"")&&ce(G,V),c&2&&D!==(D=l[21].cabang+"")&&ce(T,D)},d(x){x&&r(t),O=!1,S()}}}function Ze(l){let t,n,a,h,d,C="Kartu PDAM",E,_,u,f,v,P="CSV Text",N,w,B,M,q="File",V,G,K,U,D,T,g,O,S,Y="Download",x,c,X,A,$,j,ee,z,Ae="No. SL",pe,te,ke="NAMA",me,le,ye="ALAMAT",ve,ae,Se="CABANG",be,ne,xe="ALAMAT CABANG",ge,se,Te,De;function Ne(i,L){return i[0]==="text"?We:Qe}let de=Ne(l),F=de(l),oe=Oe(l[1]),I=[];for(let i=0;i<oe.length;i+=1)I[i]=Re(He(l,oe,i));return{c(){t=s("meta"),n=s("meta"),a=k(),h=s("section"),d=s("div"),d.textContent=C,E=k(),_=s("div"),u=s("ul"),f=s("li"),v=s("a"),v.textContent=P,w=k(),B=s("li"),M=s("a"),M.textContent=q,G=k(),F.c(),K=k(),U=s("div"),D=s("button"),T=R("Parse to JSON"),O=k(),S=s("button"),S.textContent=Y,x=k(),c=s("table"),X=s("thead"),A=s("tr"),$=s("th"),j=s("input"),ee=k(),z=s("th"),z.textContent=Ae,pe=k(),te=s("th"),te.textContent=ke,me=k(),le=s("th"),le.textContent=ye,ve=k(),ae=s("th"),ae.textContent=Se,be=k(),ne=s("th"),ne.textContent=xe,ge=k(),se=s("tbody");for(let i=0;i<I.length;i+=1)I[i].c();this.h()},l(i){const L=Ge("svelte-15hq90y",_e.head);t=o(L,"META",{property:!0,content:!0}),n=o(L,"META",{name:!0,content:!0}),L.forEach(r),a=y(i),h=o(i,"SECTION",{});var p=b(h);d=o(p,"DIV",{class:!0,"data-svelte-h":!0}),Q(d)!=="svelte-14g43s4"&&(d.textContent=C),E=y(p),_=o(p,"DIV",{class:!0});var re=b(_);u=o(re,"UL",{});var ue=b(u);f=o(ue,"LI",{class:!0});var Ie=b(f);v=o(Ie,"A",{href:!0,"data-svelte-h":!0}),Q(v)!=="svelte-q1uj1g"&&(v.textContent=P),Ie.forEach(r),w=y(ue),B=o(ue,"LI",{class:!0});var Le=b(B);M=o(Le,"A",{href:!0,"data-svelte-h":!0}),Q(M)!=="svelte-1a2fnp4"&&(M.textContent=q),Le.forEach(r),ue.forEach(r),re.forEach(r),G=y(p),F.l(p),K=y(p),U=o(p,"DIV",{class:!0});var fe=b(U);D=o(fe,"BUTTON",{class:!0});var Pe=b(D);T=J(Pe,"Parse to JSON"),Pe.forEach(r),O=y(fe),S=o(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(S)!=="svelte-16clbi9"&&(S.textContent=Y),fe.forEach(r),p.forEach(r),x=y(i),c=o(i,"TABLE",{class:!0});var he=b(c);X=o(he,"THEAD",{});var we=b(X);A=o(we,"TR",{});var H=b(A);$=o(H,"TH",{});var Ue=b($);j=o(Ue,"INPUT",{type:!0}),Ue.forEach(r),ee=y(H),z=o(H,"TH",{"data-svelte-h":!0}),Q(z)!=="svelte-ordyps"&&(z.textContent=Ae),pe=y(H),te=o(H,"TH",{"data-svelte-h":!0}),Q(te)!=="svelte-s0ordp"&&(te.textContent=ke),me=y(H),le=o(H,"TH",{"data-svelte-h":!0}),Q(le)!=="svelte-hx9f2o"&&(le.textContent=ye),ve=y(H),ae=o(H,"TH",{"data-svelte-h":!0}),Q(ae)!=="svelte-4f99bg"&&(ae.textContent=Se),be=y(H),ne=o(H,"TH",{"data-svelte-h":!0}),Q(ne)!=="svelte-1fywyle"&&(ne.textContent=xe),H.forEach(r),we.forEach(r),ge=y(he),se=o(he,"TBODY",{});var Be=b(se);for(let Ce=0;Ce<I.length;Ce+=1)I[Ce].l(Be);Be.forEach(r),he.forEach(r),this.h()},h(){m(t,"property","og:description"),m(t,"content","PDAM Card"),_e.title="PDAM Card",m(n,"name","description"),m(n,"content","PDAM Card"),m(d,"class","title"),m(v,"href","#"),m(f,"class",N=l[0]==="text"?"is-active":""),m(M,"href","#"),m(B,"class",V=l[0]==="file"?"is-active":""),m(_,"class","tabs is-toggle is-toggle-rounded is-small"),D.disabled=g=l[0]!=="text",m(D,"class","button is-link block"),m(S,"class","button block is-primary"),m(U,"class","buttons block"),m(j,"type","checkbox"),m(c,"class","table")},m(i,L){e(_e.head,t),e(_e.head,n),Z(i,a,L),Z(i,h,L),e(h,d),e(h,E),e(h,_),e(_,u),e(u,f),e(f,v),e(u,w),e(u,B),e(B,M),e(h,G),F.m(h,null),e(h,K),e(h,U),e(U,D),e(D,T),e(U,O),e(U,S),Z(i,x,L),Z(i,c,L),e(c,X),e(X,A),e(A,$),e($,j),j.checked=l[2],e(A,ee),e(A,z),e(A,pe),e(A,te),e(A,me),e(A,le),e(A,ve),e(A,ae),e(A,be),e(A,ne),e(c,ge),e(c,se);for(let p=0;p<I.length;p+=1)I[p]&&I[p].m(se,null);Te||(De=[W(v,"click",l[8]),W(M,"click",l[9]),W(D,"click",l[12]),W(S,"click",l[13]),W(j,"change",l[14]),W(j,"input",l[15])],Te=!0)},p(i,[L]){if(L&1&&N!==(N=i[0]==="text"?"is-active":"")&&m(f,"class",N),L&1&&V!==(V=i[0]==="file"?"is-active":"")&&m(B,"class",V),de===(de=Ne(i))&&F?F.p(i,L):(F.d(1),F=de(i),F&&(F.c(),F.m(h,K))),L&1&&g!==(g=i[0]!=="text")&&(D.disabled=g),L&4&&(j.checked=i[2]),L&2){oe=Oe(i[1]);let p;for(p=0;p<oe.length;p+=1){const re=He(i,oe,p);I[p]?I[p].p(re,L):(I[p]=Re(re),I[p].c(),I[p].m(se,null))}for(;p<I.length;p+=1)I[p].d(1);I.length=oe.length}},i:Ee,o:Ee,d(i){i&&(r(a),r(h),r(x),r(c)),r(t),r(n),F.d(),Ke(I,i),Te=!1,je(De)}}}let ie="noSl, name, address, city";function $e(l,t,n){var D;let a="text";const h=[{name:"Jatibarang",address:"Jl. Purna Brata No. 1001 Telp. (0234)  351491"},{name:"Sindang",address:"Jl. Singalodra  - Sindang Telp. (0234) 277564"},{name:"Indramayu",address:"Jl. Tanjungpura No. 197 Kepandean - Indramayu Telp (0234) 7121205"}];let d=[],C=!1,E="";const _=T=>h.filter(g=>g.name===T)[0].address;function u(T){const g=T.currentTarget;if(g&&g.files&&g.files[0]){const O=g.files[0],S=new FileReader;S.onload=Y=>{var c;const x=((c=Y.target)==null?void 0:c.result)??"";Ve().fromString(x).then(X=>{n(1,d=[...d,...X.map(A=>({...A,cabang:_(A.city),selected:!0}))])})},S.readAsText(O,"utf-8")}}function f(T){n(1,d=d.map(g=>({...g,selected:!C})))}function v(T){Ve().fromString(ie+`
`+E).then(g=>{n(1,d=[...d,...g.map(O=>({...O,cabang:_(O.city),selected:!0}))])})}async function P(T){let g="pdam-card.pdf";const O="/v1/pdam";await ze.headers({Accept:"application/pdf","Content-Type":"application/json"}).url(O).post({data:d.filter(S=>S.selected)}).blob(S=>{var Y=window.URL.createObjectURL(S),x=document.createElement("a");x.href=Y,x.download=g,x.click(),x.remove(),setTimeout(()=>!1,1e3),window.URL.revokeObjectURL(Y)}).catch(S=>{console.log(S)})}const N=()=>n(0,a="text"),w=()=>n(0,a="file");function B(){E=this.value,n(3,E)}const M=T=>u(T),q=T=>v(),V=T=>P();function G(){C=this.checked,n(2,C)}const K=T=>f();function U(T,g){T[g].selected=this.checked,n(1,d)}return(D=document.getElementById("username"))==null||D.innerText,[a,d,C,E,u,f,v,P,N,w,B,M,q,V,G,K,U]}class ot extends Fe{constructor(t){super(),qe(this,t,$e,Ze,Je,{})}}export{ot as component};
