import{X as ls,s as Se,B as rs,C as ns,D as is,E as os,o as nt,H as je,f,a as Q,l as Y,g as v,h as b,d as h,c as N,m as Z,r as oe,j as d,k as cs,i as x,y as n,I as be,z as te,n as ue,w as _e,A as Le,U as He,t as us,p as Ke,W as ot,u as Zt,T as rt,V as $t,Q as ds,S as hs,x as fs}from"../chunks/scheduler.97f5e078.js";import{S as Oe,i as we,a as ce,t as he,b as Te,d as Ve,m as Ae,g as ct,c as ut,e as Qe,j as dt}from"../chunks/index.f980ec4e.js";import{g as vs}from"../chunks/globals.7f7f1b26.js";import{f as Re}from"../chunks/fetch-api.03dee818.js";import{e as Ee,u as ze,d as We}from"../chunks/each.48317335.js";import{r as xt}from"../chunks/index.4730266f.js";import{S as es,h as ms,n as ts,u as St,i as Ot,t as ps,k as _s,r as wt,b as Tt,v as bs,a as gs,c as Me,w as ys,l as Vt,x as At}from"../chunks/mutation.1fce78fe.js";import{a as Es}from"../chunks/dayjs.min.6559d33b.js";import{c as Is}from"../chunks/browser.54b85836.js";class ks extends es{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=[],this.previousSelectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Qt(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Rs(this.currentQuery,this.options)}shouldFetchOnWindowFocus(){return Ss(this.currentQuery,this.options)}destroy(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)}setOptions(e,t){const s=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const i=this.hasListeners();i&&Nt(this.currentQuery,r,this.options,s)&&this.executeFetch(),this.updateResult(t),i&&(this.currentQuery!==r||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();const l=this.computeRefetchInterval();i&&(this.currentQuery!==r||this.options.enabled!==s.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)}updateOptions(e,t){const s=Object.assign(Object.assign({},this.options),e);e.queryKey&&!e.queryHash&&e.queryKey!==this.options.queryKey&&(s.queryHash=ms(e.queryKey,s)),this.setOptions(s,t)}getOptimisticResult(e){const t=this.client.defaultQueryObserverOptions(e),s=this.client.getQueryCache().build(this.client,t);return this.createResult(s,t)}getCurrentResult(){return this.currentResult}trackResult(e,t){const s={},r=i=>{this.trackedProps.includes(i)||this.trackedProps.push(i)};return Object.keys(e).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(r(i),e[i])})}),(t.useErrorBoundary||t.suspense)&&r("error"),s}getNextResult(e){return new Promise((t,s)=>{const r=this.subscribe(i=>{i.isFetching||(r(),i.isError&&(e!=null&&e.throwOnError)?s(i.error):t(i))})})}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch(e){return this.fetch(Object.assign(Object.assign({},e),{meta:{refetchPage:e==null?void 0:e.refetchPage}}))}fetchOptimistic(e){const t=this.client.defaultQueryObserverOptions(e),s=this.client.getQueryCache().build(this.client,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.executeFetch(e).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(ts)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),St||this.currentResult.isStale||!Ot(this.options.staleTime))return;const t=ps(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!==null&&e!==void 0?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(St||this.options.enabled===!1||!Ot(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||_s.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearTimers(){this.clearStaleTimeout(),this.clearRefetchInterval()}clearStaleTimeout(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0}clearRefetchInterval(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0}createResult(e,t){var s;const r=this.currentQuery,i=this.options,l=this.currentResult,o=this.currentResultState,u=this.currentResultOptions,g=e!==r,c=g?e.state:this.currentQueryInitialState,p=g?this.currentResult:this.previousQueryResult,{state:_}=e;let{dataUpdatedAt:S,error:R,errorUpdatedAt:m,isFetching:D,status:C}=_,I=!1,k=!1,y;if(t.optimisticResults){const E=this.hasListeners(),T=!E&&Qt(e,t),L=E&&Nt(e,r,t,i);(T||L)&&(D=!0,S||(C="loading"))}if(t.keepPreviousData&&!_.dataUpdateCount&&(p!=null&&p.isSuccess)&&C!=="error")y=p.data,S=p.dataUpdatedAt,C=p.status,I=!0;else if(t.select&&typeof _.data<"u")if(l&&_.data===(o==null?void 0:o.data)&&t.select===((s=this.previousSelect)===null||s===void 0?void 0:s.fn)&&!this.previousSelectError)y=this.previousSelect.result;else try{y=t.select(_.data),t.structuralSharing!==!1&&(y=wt(l==null?void 0:l.data,y)),this.previousSelect={fn:t.select,result:y},this.previousSelectError=null}catch(E){Tt().error(E),R=E,this.previousSelectError=E,m=Date.now(),C="error"}else y=_.data;if(typeof t.placeholderData<"u"&&typeof y>"u"&&(C==="loading"||C==="idle")){let E;if(l!=null&&l.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData))E=l.data;else if(E=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof E<"u")try{E=t.select(E),t.structuralSharing!==!1&&(E=wt(l==null?void 0:l.data,E)),this.previousSelectError=null}catch(T){Tt().error(T),R=T,this.previousSelectError=T,m=Date.now(),C="error"}typeof E<"u"&&(C="success",y=E,k=!0)}return{status:C,isLoading:C==="loading",isSuccess:C==="success",isError:C==="error",isIdle:C==="idle",data:y,dataUpdatedAt:S,error:R,errorUpdatedAt:m,failureCount:_.fetchFailureCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>c.dataUpdateCount||_.errorUpdateCount>c.errorUpdateCount,isFetching:D,isRefetching:D&&C!=="loading",isLoadingError:C==="error"&&_.dataUpdatedAt===0,isPlaceholderData:k,isPreviousData:I,isRefetchError:C==="error"&&_.dataUpdatedAt!==0,isStale:Je(e,t),refetch:this.refetch,remove:this.remove}}shouldNotifyListeners(e,t){if(!t)return!0;const{notifyOnChangeProps:s,notifyOnChangePropsExclusions:r}=this.options;if(!s&&!r||s==="tracked"&&!this.trackedProps.length)return!0;const i=s==="tracked"?this.trackedProps:s;return Object.keys(e).some(l=>{const o=l,u=e[o]!==t[o],g=i==null?void 0:i.some(p=>p===l),c=r==null?void 0:r.some(p=>p===l);return u&&!c&&(!i||g)})}updateResult(e){const t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,bs(this.currentResult,t))return;const s={cache:!0};(e==null?void 0:e.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,t)&&(s.listeners=!0),this.notify(Object.assign(Object.assign({},s),e))}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!0:e.type==="error"&&!gs(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){Me.batch(()=>{var t,s,r,i,l,o,u,g;e.onSuccess?((s=(t=this.options).onSuccess)===null||s===void 0||s.call(t,this.currentResult.data),(i=(r=this.options).onSettled)===null||i===void 0||i.call(r,this.currentResult.data,null)):e.onError&&((o=(l=this.options).onError)===null||o===void 0||o.call(l,this.currentResult.error),(g=(u=this.options).onSettled)===null||g===void 0||g.call(u,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(c=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Ds(a,e){return e.enabled!==!1&&!a.state.dataUpdatedAt&&!(a.state.status==="error"&&e.retryOnMount===!1)}function Cs(a,e){return e.enabled!==!1&&a.state.dataUpdatedAt>0&&(e.refetchOnMount==="always"||e.refetchOnMount!==!1&&Je(a,e))}function Qt(a,e){return Ds(a,e)||Cs(a,e)}function Rs(a,e){return e.enabled!==!1&&(e.refetchOnReconnect==="always"||e.refetchOnReconnect!==!1&&Je(a,e))}function Ss(a,e){return e.enabled!==!1&&(e.refetchOnWindowFocus==="always"||e.refetchOnWindowFocus!==!1&&Je(a,e))}function Nt(a,e,t,s){return t.enabled!==!1&&(a!==e||s.enabled===!1)&&(!t.suspense||a.state.status!=="error")&&Je(a,t)}function Je(a,e){return a.isStaleByTime(e.staleTime)}class Os extends es{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){this.options=this.client.defaultMutationOptions(e)}onUnsubscribe(){var e;this.listeners.length||(e=this.currentMutation)===null||e===void 0||e.removeObserver(this)}onMutationUpdate(e){this.updateResult();const t={listeners:!0};e.type==="success"?t.onSuccess=!0:e.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object.assign(Object.assign({},this.options),{variables:typeof e<"u"?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:ys(),t=Object.assign(Object.assign({},e),{isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=t}notify(e){Me.batch(()=>{var t,s,r,i,l,o,u,g;this.mutateOptions&&(e.onSuccess?((s=(t=this.mutateOptions).onSuccess)===null||s===void 0||s.call(t,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(r=this.mutateOptions).onSettled)===null||i===void 0||i.call(r,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&((o=(l=this.mutateOptions).onError)===null||o===void 0||o.call(l,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(g=(u=this.mutateOptions).onSettled)===null||g===void 0||g.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))),e.listeners&&this.listeners.forEach(c=>{c(this.currentResult)})})}}function Xe(){const a=ls("queryClient");if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a}function Mt(a){return a.optimisticResults=!0,a.onError&&(a.onError=Me.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Me.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Me.batchCalls(a.onSettled)),a}function ss(a,e,t){const s=Vt(a,e,t),r=Xe();let i=r.defaultQueryObserverOptions(s);i=Mt(i);const l=new ks(r,i),{subscribe:o}=xt(l.getCurrentResult(),p=>l.subscribe(Me.batchCalls(p)));l.updateResult();function u(p,_,S){const R=Vt(p,_,S);let m=r.defaultQueryObserverOptions(R);m=Mt(m),l.hasListeners()&&l.setOptions(m,{listeners:!1})}function g(p){l.updateOptions(p)}function c(p){g({enabled:p})}return{subscribe:o,setOptions:u,updateOptions:g,setEnabled:c}}const ws=a=>({queryResult:a&1}),Ut=a=>({queryResult:a[0]});function Ts(a){let e;const t=a[6].query,s=rs(t,a,a[5],Ut);return{c(){s&&s.c()},l(r){s&&s.l(r)},m(r,i){s&&s.m(r,i),e=!0},p(r,[i]){s&&s.p&&(!e||i&33)&&ns(s,t,r,r[5],e?os(t,r[5],i,ws):is(r[5]),Ut)},i(r){e||(ce(s,r),e=!0)},o(r){he(s,r),e=!1},d(r){s&&s.d(r)}}}function Vs(a,e,t){let s,{$$slots:r={},$$scope:i}=e,{options:l}=e,{queryResult:o=void 0}=e,u=!0;nt(()=>{t(3,u=!1)});const g=ss(l);return je(a,g,c=>t(4,s=c)),a.$$set=c=>{"options"in c&&t(2,l=c.options),"queryResult"in c&&t(0,o=c.queryResult),"$$scope"in c&&t(5,i=c.$$scope)},a.$$.update=()=>{a.$$.dirty&16&&t(0,o=s),a.$$.dirty&12&&(u||g.setOptions(l))},[o,g,l,u,s,i,r]}class As extends Oe{constructor(e){super(),we(this,e,Vs,Ts,Se,{options:2,queryResult:0})}}const as=As;function Fe(a,e,t){const s=At(a,e,t),r=Xe(),i=new Os(r,s),l=(p,_)=>{i.mutate(p,_).catch(ts)},o=i.getCurrentResult(),u=Object.assign(Object.assign({},o),{mutate:l,mutateAsync:o.mutate}),{subscribe:g}=xt(u,p=>i.subscribe(Me.batchCalls(_=>{i.hasListeners()&&p(Object.assign(Object.assign({},_),{mutate:l,mutateAsync:_.mutate}))})));function c(p,_,S){if(i.hasListeners()){const R=At(p,_,S);i.setOptions(R)}}return{subscribe:g,setOptions:c}}function Qs(a){let e,t,s,r,i,l,o=a[0].id===0?"Cabang Baru":"Cabang "+a[0].name,u,g,c,p,_,S,R,m,D="Nama",C,I,k,y,O,E,T="Alamat",L,P,X,M,F,V,A,j,J,$,se="Cancel",H,U,w,z,K,G;return{c(){e=f("div"),t=f("div"),s=Q(),r=f("div"),i=f("header"),l=f("p"),u=Y(o),g=Q(),c=f("button"),p=Q(),_=f("section"),S=f("div"),R=f("label"),m=f("span"),m.textContent=D,C=Q(),I=f("input"),k=Q(),y=f("div"),O=f("label"),E=f("span"),E.textContent=T,L=Q(),P=f("textarea"),X=Q(),M=f("footer"),F=f("div"),V=f("div"),A=Q(),j=f("div"),J=f("div"),$=f("button"),$.textContent=se,H=Q(),U=f("button"),w=Y("Save"),this.h()},l(ae){e=v(ae,"DIV",{class:!0});var ne=b(e);t=v(ne,"DIV",{class:!0}),b(t).forEach(h),s=N(ne),r=v(ne,"DIV",{class:!0,style:!0});var B=b(r);i=v(B,"HEADER",{class:!0});var q=b(i);l=v(q,"P",{class:!0});var W=b(l);u=Z(W,o),W.forEach(h),g=N(q),c=v(q,"BUTTON",{class:!0,"aria-label":!0}),b(c).forEach(h),q.forEach(h),p=N(B),_=v(B,"SECTION",{class:!0});var re=b(_);S=v(re,"DIV",{class:!0});var ve=b(S);R=v(ve,"LABEL",{});var de=b(R);m=v(de,"SPAN",{class:!0,"data-svelte-h":!0}),oe(m)!=="svelte-zhk08k"&&(m.textContent=D),C=N(de),I=v(de,"INPUT",{type:!0,class:!0,placeholder:!0}),de.forEach(h),ve.forEach(h),k=N(re),y=v(re,"DIV",{class:!0});var fe=b(y);O=v(fe,"LABEL",{class:!0});var Ie=b(O);E=v(Ie,"SPAN",{class:!0,"data-svelte-h":!0}),oe(E)!=="svelte-rl919z"&&(E.textContent=T),L=N(Ie),P=v(Ie,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),b(P).forEach(h),Ie.forEach(h),fe.forEach(h),re.forEach(h),X=N(B),M=v(B,"FOOTER",{class:!0});var Ce=b(M);F=v(Ce,"DIV",{class:!0});var ke=b(F);V=v(ke,"DIV",{class:!0}),b(V).forEach(h),A=N(ke),j=v(ke,"DIV",{class:!0});var ge=b(j);J=v(ge,"DIV",{class:!0});var ie=b(J);$=v(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),oe($)!=="svelte-87vz0h"&&($.textContent=se),H=N(ie),U=v(ie,"BUTTON",{class:!0});var me=b(U);w=Z(me,"Save"),me.forEach(h),ie.forEach(h),ge.forEach(h),ke.forEach(h),Ce.forEach(h),B.forEach(h),ne.forEach(h),this.h()},h(){d(t,"class","modal-background"),d(l,"class","modal-card-title"),d(c,"class","delete has-background-danger-dark"),d(c,"aria-label","close"),d(i,"class","modal-card-head"),d(m,"class","label is-small"),d(I,"type","text"),d(I,"class","input is-primary"),d(I,"placeholder","Nama cabang"),d(S,"class","block"),d(E,"class","label is-small"),d(P,"class","input is-info textarea py-2"),d(P,"rows","2"),d(P,"placeholder","Alamat cabang"),d(O,"class","block"),d(y,"class","block"),d(_,"class","modal-card-body px-4"),d(V,"class","column"),d($,"class","button is-link is-light"),U.disabled=a[3],d(U,"class","button is-primary"),d(J,"class","buttons"),d(j,"class","column is-narrow"),d(F,"class","container columns is-mobile"),d(M,"class","modal-card-foot"),d(r,"class","modal-card box is-paddingless"),cs(r,"max-width","460px"),d(e,"class",z="modal "+a[1]+" px-4")},m(ae,ne){x(ae,e,ne),n(e,t),n(e,s),n(e,r),n(r,i),n(i,l),n(l,u),n(i,g),n(i,c),n(r,p),n(r,_),n(_,S),n(S,R),n(R,m),n(R,C),n(R,I),a[7](I),be(I,a[0].name),n(_,k),n(_,y),n(y,O),n(O,E),n(O,L),n(O,P),be(P,a[0].address),n(r,X),n(r,M),n(M,F),n(F,V),n(F,A),n(F,j),n(j,J),n(J,$),n(J,H),n(J,U),n(U,w),K||(G=[te(t,"click",a[5]),te(c,"click",a[6]),te(I,"input",a[8]),te(P,"input",a[9]),te($,"click",a[10]),te(U,"click",a[11])],K=!0)},p(ae,[ne]){ne&1&&o!==(o=ae[0].id===0?"Cabang Baru":"Cabang "+ae[0].name)&&ue(u,o),ne&1&&I.value!==ae[0].name&&be(I,ae[0].name),ne&1&&be(P,ae[0].address),ne&8&&(U.disabled=ae[3]),ne&2&&z!==(z="modal "+ae[1]+" px-4")&&d(e,"class",z)},i:_e,o:_e,d(ae){ae&&h(e),a[7](null),K=!1,Le(G)}}}function Ns(a,e,t){let s;const r=He();let i,{isActive:l=""}=e,{data:o}=e;nt(async()=>{await us(),i.focus()});const u=()=>t(1,l=""),g=()=>t(1,l="");function c(m){Ke[m?"unshift":"push"](()=>{i=m,t(2,i)})}function p(){o.name=this.value,t(0,o)}function _(){o.address=this.value,t(0,o)}const S=()=>t(1,l=""),R=()=>r("onSave",o);return a.$$set=m=>{"isActive"in m&&t(1,l=m.isActive),"data"in m&&t(0,o=m.data)},a.$$.update=()=>{a.$$.dirty&1&&t(3,s=o.name.trim().length===0||o.address.trim().length===0)},[o,l,i,s,r,u,g,c,p,_,S,R]}class Ms extends Oe{constructor(e){super(),we(this,e,Ns,Qs,Se,{isActive:1,data:0})}}function Pt(a,e,t){const s=a.slice();return s[18]=e[t],s[20]=t,s}function Us(a){let e,t,s,r=[],i=new Map,l=Ee(a[17].data??[]);const o=u=>u[18].id;for(let u=0;u<l.length;u+=1){let g=Pt(a,l,u),c=o(g);i.set(c,r[u]=qt(c,g))}return{c(){e=f("div"),t=f("hr"),s=Q();for(let u=0;u<r.length;u+=1)r[u].c();this.h()},l(u){e=v(u,"DIV",{class:!0});var g=b(e);t=v(g,"HR",{class:!0}),s=N(g);for(let c=0;c<r.length;c+=1)r[c].l(g);g.forEach(h),this.h()},h(){d(t,"class","p-0 m-0 my-2"),d(e,"class","container")},m(u,g){x(u,e,g),n(e,t),n(e,s);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null)},p(u,g){g&131075&&(l=Ee(u[17].data??[]),r=ze(r,g,o,1,u,l,i,e,We,qt,null,Pt))},d(u){u&&h(e);for(let g=0;g<r.length;g+=1)r[g].d()}}}function Ps(a){let e,t="Loading branch...";return{c(){e=f("div"),e.textContent=t},l(s){e=v(s,"DIV",{"data-svelte-h":!0}),oe(e)!=="svelte-u90sd0"&&(e.textContent=t)},m(s,r){x(s,e,r)},p:_e,d(s){s&&h(e)}}}function qt(a,e){let t,s,r=e[18].name+"",i,l,o,u=e[18].address+"",g,c,p,_,S="Edit",R,m,D,C;function I(){return e[8](e[18])}return{key:a,first:null,c(){t=f("div"),s=f("div"),i=Y(r),l=Q(),o=f("div"),g=Y(u),c=Q(),p=f("div"),_=f("button"),_.textContent=S,R=Q(),m=f("hr"),this.h()},l(k){t=v(k,"DIV",{class:!0});var y=b(t);s=v(y,"DIV",{class:!0});var O=b(s);i=Z(O,r),O.forEach(h),l=N(y),o=v(y,"DIV",{class:!0});var E=b(o);g=Z(E,u),E.forEach(h),c=N(y),p=v(y,"DIV",{class:!0});var T=b(p);_=v(T,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(_)!=="svelte-uno30"&&(_.textContent=S),T.forEach(h),y.forEach(h),R=N(k),m=v(k,"HR",{class:!0}),this.h()},h(){d(s,"class","column has-text-weight-bold pb-0"),d(o,"class","column is-8 pb-0"),d(_,"class","button is-small is-link is-light"),d(p,"class","column is-narrow pb-0"),d(t,"class","columns"),d(m,"class","p-0 m-0 my-2"),this.first=t},m(k,y){x(k,t,y),n(t,s),n(s,i),n(t,l),n(t,o),n(o,g),n(t,c),n(t,p),n(p,_),x(k,R,y),x(k,m,y),D||(C=te(_,"click",I),D=!0)},p(k,y){e=k,y&131072&&r!==(r=e[18].name+"")&&ue(i,r),y&131072&&u!==(u=e[18].address+"")&&ue(g,u)},d(k){k&&(h(t),h(R),h(m)),D=!1,C()}}}function qs(a){let e;function t(i,l){return i[17].status==="loading"?Ps:Us}let s=t(a),r=s(a);return{c(){e=f("div"),r.c(),this.h()},l(i){e=v(i,"DIV",{slot:!0});var l=b(e);r.l(l),l.forEach(h),this.h()},h(){d(e,"slot","query")},m(i,l){x(i,e,l),r.m(e,null)},p(i,l){s===(s=t(i))&&r?r.p(i,l):(r.d(1),r=s(i),r&&(r.c(),r.m(e,null)))},d(i){i&&h(e),r.d()}}}function jt(a){let e,t,s;function r(l){a[9](l)}let i={data:{...a[0]}};return a[1]!==void 0&&(i.isActive=a[1]),e=new Ms({props:i}),Ke.push(()=>dt(e,"isActive",r)),e.$on("onSave",a[6]),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,o){Ae(e,l,o),s=!0},p(l,o){const u={};o&1&&(u.data={...l[0]}),!t&&o&2&&(t=!0,u.isActive=l[1],ot(()=>t=!1)),e.$set(u)},i(l){s||(ce(e.$$.fragment,l),s=!0)},o(l){he(e.$$.fragment,l),s=!1},d(l){Qe(e,l)}}}function js(a){let e,t,s,r='<div class="subtitle block">Cabang</div>',i,l,o,u="+ New",g,c,p,_,S,R;c=new as({props:{options:a[2],$$slots:{query:[qs,({queryResult:D})=>({17:D}),({queryResult:D})=>D?131072:0]},$$scope:{ctx:a}}});let m=a[1]==="is-active"&&jt(a);return{c(){e=f("div"),t=f("div"),s=f("div"),s.innerHTML=r,i=Q(),l=f("div"),o=f("button"),o.textContent=u,g=Q(),Te(c.$$.fragment),p=Q(),m&&m.c(),this.h()},l(D){e=v(D,"DIV",{class:!0});var C=b(e);t=v(C,"DIV",{class:!0});var I=b(t);s=v(I,"DIV",{class:!0,"data-svelte-h":!0}),oe(s)!=="svelte-ama811"&&(s.innerHTML=r),i=N(I),l=v(I,"DIV",{class:!0});var k=b(l);o=v(k,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-wn8spz"&&(o.textContent=u),k.forEach(h),I.forEach(h),g=N(C),Ve(c.$$.fragment,C),p=N(C),m&&m.l(C),C.forEach(h),this.h()},h(){d(s,"class","column"),d(o,"class","button is-success is-light"),d(l,"class","column is-narrow"),d(t,"class","columns is-mobile"),d(e,"class","container fluid")},m(D,C){x(D,e,C),n(e,t),n(t,s),n(t,i),n(t,l),n(l,o),n(e,g),Ae(c,e,null),n(e,p),m&&m.m(e,null),_=!0,S||(R=te(o,"click",a[7]),S=!0)},p(D,[C]){const I={};C&4&&(I.options=D[2]),C&2228227&&(I.$$scope={dirty:C,ctx:D}),c.$set(I),D[1]==="is-active"?m?(m.p(D,C),C&2&&ce(m,1)):(m=jt(D),m.c(),ce(m,1),m.m(e,null)):m&&(ct(),he(m,1,1,()=>{m=null}),ut())},i(D){_||(ce(c.$$.fragment,D),ce(m),_=!0)},o(D){he(c.$$.fragment,D),he(m),_=!1},d(D){D&&h(e),Qe(c),m&&m.d(),S=!1,R()}}}function Ls(a,e,t){let s,r,i;const l=Xe(),o=async()=>await Re.get("/v2/pdam/branch/").json(),u=async k=>await Re.headers({"Content-Type":"application/json",Accept:"application/json"}).put(k,`/v2/pdam/branch/${k.id}`).json(),c=Fe(async k=>await Re.headers({"Content-Type":"application/json",Accept:"application/json"}).post(k,"/v2/pdam/branch/").json(),{onMutate:async k=>{await l.cancelQueries();const y=l.getQueryData(["pdam","branch","list"]);return y&&l.setQueryData(["pdam","branch","list"],[...y]),y},onSuccess:async(k,y,O)=>{setTimeout(()=>{},1e3)},onError:(k,y,O)=>{O!=null&&O.previousData&&l.setQueryData(["pdam","branch","list"],O.previousData)},onSettled:async(k,y,O,E)=>{await l.invalidateQueries(["pdam","branch","list"])}});je(a,c,k=>t(12,i=k));const p=Fe(u,{onMutate:async k=>{await l.cancelQueries();const y=l.getQueryData(["pdam","branch","list"]);return y&&l.setQueryData(["pdam","branch","list"],y),y},onSuccess:async(k,y,O)=>{setTimeout(()=>{},1e3)},onError:(k,y,O)=>{O!=null&&O.previousData&&l.setQueryData(["pdam","branch","list"],O.previousData)},onSettled:async(k,y,O,E)=>{await l.invalidateQueries(["pdam","branch","list"])}});je(a,p,k=>t(11,r=k));const _={id:0,name:"",address:""};let S=_,R="";function m(k){const y=k.detail;y.id===0?i.mutate(y):r.mutate(y),t(1,R="")}const D=()=>{t(0,S={..._}),t(1,R="is-active")},C=k=>{t(0,S=k),t(1,R="is-active")};function I(k){R=k,t(1,R)}return t(2,s={queryKey:["pdam","branch","list"],queryFn:()=>o(),keepPreviousData:!0}),[S,R,s,c,p,_,m,D,C,I]}class Bs extends Oe{constructor(e){super(),we(this,e,Ls,js,Se,{})}}function Lt(a,e,t){const s=a.slice();return s[17]=e[t],s}function Bt(a,e){let t,s=e[17].name+"",r,i;return{key:a,first:null,c(){t=f("option"),r=Y(s),this.h()},l(l){t=v(l,"OPTION",{});var o=b(t);r=Z(o,s),o.forEach(h),this.h()},h(){t.__value=i=e[17].id,be(t,t.__value),this.first=t},m(l,o){x(l,t,o),n(t,r)},p(l,o){e=l,o&4&&s!==(s=e[17].name+"")&&ue(r,s),o&4&&i!==(i=e[17].id)&&(t.__value=i,be(t,t.__value))},d(l){l&&h(t)}}}function Fs(a){let e,t,s,r,i,l,o=(a[0].isNew?"Pelanggan Baru":a[0].name)+"",u,g,c,p,_,S,R,m,D="Nama",C,I,k,y,O,E,T,L,P="No. SL",X,M,F,V,A,j,J="Cabang",$,se,H,U=[],w=new Map,z,K,G,ae,ne="Alamat",B,q,W,re,ve,de,fe,Ie,Ce,ke,ge,ie,me,Be="Cancel",Ue,ye,Pe,Ne,De,ht,Ge=Ee(a[2]);const ft=ee=>ee[17].id;for(let ee=0;ee<Ge.length;ee+=1){let le=Lt(a,Ge,ee),pe=ft(le);w.set(pe,U[ee]=Bt(pe,le))}return{c(){e=f("div"),t=f("div"),s=Q(),r=f("div"),i=f("header"),l=f("p"),u=Y(o),g=Q(),c=f("button"),p=Q(),_=f("section"),S=f("div"),R=f("label"),m=f("span"),m.textContent=D,C=Q(),I=f("input"),k=Q(),y=f("div"),O=f("div"),E=f("div"),T=f("label"),L=f("span"),L.textContent=P,X=Q(),M=f("input"),F=Q(),V=f("div"),A=f("label"),j=f("span"),j.textContent=J,$=Q(),se=f("div"),H=f("select");for(let ee=0;ee<U.length;ee+=1)U[ee].c();z=Q(),K=f("div"),G=f("label"),ae=f("span"),ae.textContent=ne,B=Q(),q=f("textarea"),W=Q(),re=f("footer"),ve=f("div"),de=f("div"),fe=f("button"),Ie=Y("Remove"),ke=Q(),ge=f("div"),ie=f("div"),me=f("button"),me.textContent=Be,Ue=Q(),ye=f("button"),Pe=Y("Save"),this.h()},l(ee){e=v(ee,"DIV",{class:!0});var le=b(e);t=v(le,"DIV",{class:!0}),b(t).forEach(h),s=N(le),r=v(le,"DIV",{class:!0});var pe=b(r);i=v(pe,"HEADER",{class:!0});var Ye=b(i);l=v(Ye,"P",{class:!0});var vt=b(l);u=Z(vt,o),vt.forEach(h),g=N(Ye),c=v(Ye,"BUTTON",{class:!0,"aria-label":!0}),b(c).forEach(h),Ye.forEach(h),p=N(pe),_=v(pe,"SECTION",{class:!0});var qe=b(_);S=v(qe,"DIV",{class:!0});var mt=b(S);R=v(mt,"LABEL",{});var Ze=b(R);m=v(Ze,"SPAN",{class:!0,"data-svelte-h":!0}),oe(m)!=="svelte-zhk08k"&&(m.textContent=D),C=N(Ze),I=v(Ze,"INPUT",{type:!0,maxlength:!0,class:!0,placeholder:!0}),Ze.forEach(h),mt.forEach(h),k=N(qe),y=v(qe,"DIV",{class:!0});var pt=b(y);O=v(pt,"DIV",{class:!0});var $e=b(O);E=v($e,"DIV",{class:!0});var _t=b(E);T=v(_t,"LABEL",{});var xe=b(T);L=v(xe,"SPAN",{class:!0,"data-svelte-h":!0}),oe(L)!=="svelte-p9pzvr"&&(L.textContent=P),X=N(xe),M=v(xe,"INPUT",{maxlength:!0,type:!0,class:!0,placeholder:!0}),xe.forEach(h),_t.forEach(h),F=N($e),V=v($e,"DIV",{class:!0});var bt=b(V);A=v(bt,"LABEL",{});var et=b(A);j=v(et,"SPAN",{class:!0,"data-svelte-h":!0}),oe(j)!=="svelte-xv7er7"&&(j.textContent=J),$=N(et),se=v(et,"DIV",{class:!0});var gt=b(se);H=v(gt,"SELECT",{});var yt=b(H);for(let it=0;it<U.length;it+=1)U[it].l(yt);yt.forEach(h),gt.forEach(h),et.forEach(h),bt.forEach(h),$e.forEach(h),pt.forEach(h),z=N(qe),K=v(qe,"DIV",{class:!0});var Et=b(K);G=v(Et,"LABEL",{class:!0});var tt=b(G);ae=v(tt,"SPAN",{class:!0,"data-svelte-h":!0}),oe(ae)!=="svelte-rl919z"&&(ae.textContent=ne),B=N(tt),q=v(tt,"TEXTAREA",{maxlength:!0,rows:!0,class:!0,placeholder:!0}),b(q).forEach(h),tt.forEach(h),Et.forEach(h),qe.forEach(h),W=N(pe),re=v(pe,"FOOTER",{class:!0});var It=b(re);ve=v(It,"DIV",{class:!0});var st=b(ve);de=v(st,"DIV",{class:!0});var kt=b(de);fe=v(kt,"BUTTON",{class:!0});var Dt=b(fe);Ie=Z(Dt,"Remove"),Dt.forEach(h),kt.forEach(h),ke=N(st),ge=v(st,"DIV",{class:!0});var Ct=b(ge);ie=v(Ct,"DIV",{class:!0});var at=b(ie);me=v(at,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(me)!=="svelte-s7m26"&&(me.textContent=Be),Ue=N(at),ye=v(at,"BUTTON",{class:!0});var Rt=b(ye);Pe=Z(Rt,"Save"),Rt.forEach(h),at.forEach(h),Ct.forEach(h),st.forEach(h),It.forEach(h),pe.forEach(h),le.forEach(h),this.h()},h(){d(t,"class","modal-background"),d(l,"class","modal-card-title"),d(c,"class","delete has-background-danger-dark"),d(c,"aria-label","close"),d(i,"class","modal-card-head"),d(m,"class","label is-small"),d(I,"type","text"),d(I,"maxlength",50),d(I,"class","input is-primary"),d(I,"placeholder","Nama pelanggan"),d(S,"class","block"),d(L,"class","label is-small"),d(M,"maxlength",10),d(M,"type","text"),d(M,"class","input is-primary"),d(M,"placeholder","No SL pelanggan"),d(E,"class","column"),d(j,"class","label is-small"),a[0].branchId===void 0&&Zt(()=>a[11].call(H)),d(se,"class","select is-primary is-fullwidth"),d(V,"class","column is-narrow"),d(O,"class","columns"),d(y,"class","block"),d(ae,"class","label is-small"),d(q,"maxlength",128),d(q,"rows","2"),d(q,"class","textarea is-info py-1 pb-2"),d(q,"placeholder","Alamat pelanggan"),d(G,"class","block"),d(K,"class","block"),d(_,"class","modal-card-body"),fe.disabled=Ce=a[0].isNew,d(fe,"class","button is-danger is-light"),d(de,"class","column"),d(me,"class","button is-link is-light"),ye.disabled=a[4],d(ye,"class","button is-primary"),d(ie,"class","buttons"),d(ge,"class","column is-narrow"),d(ve,"class","columns container is-mobile"),d(re,"class","modal-card-foot py-4"),d(r,"class","modal-card box is-paddingless"),d(e,"class",Ne="modal "+a[1]+" px-4")},m(ee,le){x(ee,e,le),n(e,t),n(e,s),n(e,r),n(r,i),n(i,l),n(l,u),n(i,g),n(i,c),n(r,p),n(r,_),n(_,S),n(S,R),n(R,m),n(R,C),n(R,I),be(I,a[0].name),a[9](I),n(_,k),n(_,y),n(y,O),n(O,E),n(E,T),n(T,L),n(T,X),n(T,M),be(M,a[0].slId),n(O,F),n(O,V),n(V,A),n(A,j),n(A,$),n(A,se),n(se,H);for(let pe=0;pe<U.length;pe+=1)U[pe]&&U[pe].m(H,null);rt(H,a[0].branchId,!0),n(_,z),n(_,K),n(K,G),n(G,ae),n(G,B),n(G,q),be(q,a[0].address),n(r,W),n(r,re),n(re,ve),n(ve,de),n(de,fe),n(fe,Ie),n(ve,ke),n(ve,ge),n(ge,ie),n(ie,me),n(ie,Ue),n(ie,ye),n(ye,Pe),De||(ht=[te(t,"click",a[6]),te(c,"click",a[7]),te(I,"input",a[8]),te(M,"input",a[10]),te(H,"change",a[11]),te(q,"input",a[12]),te(fe,"click",a[13]),te(me,"click",a[14]),te(ye,"click",a[15])],De=!0)},p(ee,[le]){le&1&&o!==(o=(ee[0].isNew?"Pelanggan Baru":ee[0].name)+"")&&ue(u,o),le&5&&I.value!==ee[0].name&&be(I,ee[0].name),le&5&&M.value!==ee[0].slId&&be(M,ee[0].slId),le&4&&(Ge=Ee(ee[2]),U=ze(U,le,ft,1,ee,Ge,w,H,We,Bt,null,Lt)),le&5&&rt(H,ee[0].branchId),le&5&&be(q,ee[0].address),le&5&&Ce!==(Ce=ee[0].isNew)&&(fe.disabled=Ce),le&16&&(ye.disabled=ee[4]),le&2&&Ne!==(Ne="modal "+ee[1]+" px-4")&&d(e,"class",Ne)},i:_e,o:_e,d(ee){ee&&h(e),a[9](null);for(let le=0;le<U.length;le+=1)U[le].d();De=!1,Le(ht)}}}function Hs(a,e,t){let s;const r=He();let i,{isActive:l=""}=e,{data:o}=e,{branchs:u=[]}=e;nt(async()=>{i.focus()});const g=y=>{const O=u.filter(E=>E.id===y)[0];O&&t(0,o.branchName=O.name,o)},c=()=>t(1,l=""),p=()=>t(1,l="");function _(){o.name=this.value,t(0,o),t(2,u)}function S(y){Ke[y?"unshift":"push"](()=>{i=y,t(3,i)})}function R(){o.slId=this.value,t(0,o),t(2,u)}function m(){o.branchId=$t(this),t(0,o),t(2,u)}function D(){o.address=this.value,t(0,o),t(2,u)}const C=()=>r("removeCustomer",o),I=()=>t(1,l=""),k=()=>r("onSave",o);return a.$$set=y=>{"isActive"in y&&t(1,l=y.isActive),"data"in y&&t(0,o=y.data),"branchs"in y&&t(2,u=y.branchs)},a.$$.update=()=>{a.$$.dirty&1&&g(o.branchId),a.$$.dirty&1&&t(4,s=o.name.trim().length===0||o.address.trim().length===0||o.branchId===0||o.slId.trim().length===0)},[o,l,u,i,s,r,c,p,_,S,R,m,D,C,I,k]}class Ks extends Oe{constructor(e){super(),we(this,e,Hs,Fs,Se,{isActive:1,data:0,branchs:2})}}function Ft(a,e,t){const s=a.slice();return s[36]=e[t],s}function Ht(a,e,t){const s=a.slice();return s[36]=e[t],s[40]=t,s}function zs(a){let e,t=[],s=new Map,r,i,l,o,u,g,c,p,_,S,R,m,D,C,I,k,y,O,E,T,L,P,X,M,F=a[1]+1+"",V,A,j,J,$,se,H,U,w=Ee(a[35].data??[]);const z=B=>B[36].slId;for(let B=0;B<w.length;B+=1){let q=Ht(a,w,B),W=z(q);s.set(W,t[B]=Kt(W,q))}let K=Ee(a[7]),G=[];for(let B=0;B<K.length;B+=1)G[B]=zt(Ft(a,K,B));function ae(){return a[20](a[35])}function ne(){return a[22](a[35])}return{c(){e=f("div");for(let B=0;B<t.length;B+=1)t[B].c();r=Q(),i=f("hr"),l=Q(),o=f("div"),u=f("div"),g=f("div"),c=f("div"),p=f("div"),_=f("div"),S=f("select");for(let B=0;B<G.length;B+=1)G[B].c();R=Q(),m=f("div"),D=f("button"),C=Y("Select All"),k=Q(),y=f("div"),O=f("div"),E=f("button"),T=Y("< Previous"),P=Q(),X=f("div"),M=f("div"),V=Y(F),A=Q(),j=f("div"),J=f("button"),$=Y("Next >"),this.h()},l(B){e=v(B,"DIV",{});var q=b(e);for(let De=0;De<t.length;De+=1)t[De].l(q);r=N(q),i=v(q,"HR",{class:!0}),q.forEach(h),l=N(B),o=v(B,"DIV",{class:!0});var W=b(o);u=v(W,"DIV",{class:!0});var re=b(u);g=v(re,"DIV",{class:!0});var ve=b(g);c=v(ve,"DIV",{class:!0});var de=b(c);p=v(de,"DIV",{class:!0});var fe=b(p);_=v(fe,"DIV",{class:!0});var Ie=b(_);S=v(Ie,"SELECT",{});var Ce=b(S);for(let De=0;De<G.length;De+=1)G[De].l(Ce);Ce.forEach(h),Ie.forEach(h),fe.forEach(h),R=N(de),m=v(de,"DIV",{class:!0});var ke=b(m);D=v(ke,"BUTTON",{title:!0,class:!0});var ge=b(D);C=Z(ge,"Select All"),ge.forEach(h),ke.forEach(h),de.forEach(h),ve.forEach(h),k=N(re),y=v(re,"DIV",{class:!0});var ie=b(y);O=v(ie,"DIV",{class:!0});var me=b(O);E=v(me,"BUTTON",{class:!0});var Be=b(E);T=Z(Be,"< Previous"),Be.forEach(h),me.forEach(h),P=N(ie),X=v(ie,"DIV",{class:!0});var Ue=b(X);M=v(Ue,"DIV",{class:!0});var ye=b(M);V=Z(ye,F),ye.forEach(h),Ue.forEach(h),A=N(ie),j=v(ie,"DIV",{class:!0});var Pe=b(j);J=v(Pe,"BUTTON",{class:!0});var Ne=b(J);$=Z(Ne,"Next >"),Ne.forEach(h),Pe.forEach(h),ie.forEach(h),re.forEach(h),W.forEach(h),this.h()},h(){d(i,"class","p-0 m-0 my-2"),a[2]===void 0&&Zt(()=>a[19].call(S)),d(_,"class","select"),d(p,"class","column"),d(D,"title","Select all customer to print request"),d(D,"class","button"),D.disabled=I=a[35].data&&a[35].data.length===0,d(m,"class","column is-narrow"),d(c,"class","columns is-mobile"),d(g,"class","column"),E.disabled=L=a[1]===0,d(E,"class","button"),d(O,"class","column is-narrow"),d(M,"class","has-text-centered"),d(X,"class","column"),d(J,"class","button"),J.disabled=se=a[35].data&&a[35].data.length!==a[2],d(j,"class","column is-narrow"),d(y,"class","column is-narrow columns is-mobile"),d(u,"class","columns"),d(o,"class","block mt-4")},m(B,q){x(B,e,q);for(let W=0;W<t.length;W+=1)t[W]&&t[W].m(e,null);n(e,r),n(e,i),x(B,l,q),x(B,o,q),n(o,u),n(u,g),n(g,c),n(c,p),n(p,_),n(_,S);for(let W=0;W<G.length;W+=1)G[W]&&G[W].m(S,null);rt(S,a[2],!0),n(c,R),n(c,m),n(m,D),n(D,C),n(u,k),n(u,y),n(y,O),n(O,E),n(E,T),n(y,P),n(y,X),n(X,M),n(M,V),n(y,A),n(y,j),n(j,J),n(J,$),H||(U=[te(S,"change",a[19]),te(D,"click",ae),te(E,"click",a[21]),te(J,"click",ne)],H=!0)},p(B,q){if(a=B,q[0]&16408|q[1]&16&&(w=Ee(a[35].data??[]),t=ze(t,q,z,1,a,w,s,e,We,Kt,r,Ht)),q[0]&128){K=Ee(a[7]);let W;for(W=0;W<K.length;W+=1){const re=Ft(a,K,W);G[W]?G[W].p(re,q):(G[W]=zt(re),G[W].c(),G[W].m(S,null))}for(;W<G.length;W+=1)G[W].d(1);G.length=K.length}q[0]&132&&rt(S,a[2]),q[1]&16&&I!==(I=a[35].data&&a[35].data.length===0)&&(D.disabled=I),q[0]&2&&L!==(L=a[1]===0)&&(E.disabled=L),q[0]&2&&F!==(F=a[1]+1+"")&&ue(V,F),q[0]&132|q[1]&16&&se!==(se=a[35].data&&a[35].data.length!==a[2])&&(J.disabled=se)},d(B){B&&(h(e),h(l),h(o));for(let q=0;q<t.length;q+=1)t[q].d();ds(G,B),H=!1,Le(U)}}}function Ws(a){let e,t="Loading customer...";return{c(){e=f("div"),e.textContent=t},l(s){e=v(s,"DIV",{"data-svelte-h":!0}),oe(e)!=="svelte-1kcp520"&&(e.textContent=t)},m(s,r){x(s,e,r)},p:_e,d(s){s&&h(e)}}}function Kt(a,e){let t,s,r,i,l,o=e[36].name+"",u,g,c,p,_,S,R,m=e[36].slId+"",D,C,I,k=e[36].address+"",y,O,E,T,L,P=(e[36].branchName??"-")+"",X,M,F,V,A="Edit",j,J;function $(){return e[17](e[36])}function se(){return e[18](e[36])}return{key:a,first:null,c(){t=f("hr"),s=Q(),r=f("div"),i=f("div"),l=f("div"),u=Y(o),g=Q(),c=f("div"),p=f("label"),_=f("input"),S=Q(),R=f("span"),D=Y(m),C=Q(),I=f("div"),y=Y(k),O=Q(),E=f("div"),T=f("div"),L=f("div"),X=Y(P),M=Q(),F=f("div"),V=f("button"),V.textContent=A,this.h()},l(H){t=v(H,"HR",{class:!0}),s=N(H),r=v(H,"DIV",{class:!0});var U=b(r);i=v(U,"DIV",{class:!0});var w=b(i);l=v(w,"DIV",{class:!0});var z=b(l);u=Z(z,o),z.forEach(h),g=N(w),c=v(w,"DIV",{class:!0});var K=b(c);p=v(K,"LABEL",{});var G=b(p);_=v(G,"INPUT",{type:!0}),S=N(G),R=v(G,"SPAN",{class:!0});var ae=b(R);D=Z(ae,m),ae.forEach(h),G.forEach(h),K.forEach(h),w.forEach(h),C=N(U),I=v(U,"DIV",{class:!0});var ne=b(I);y=Z(ne,k),ne.forEach(h),O=N(U),E=v(U,"DIV",{class:!0});var B=b(E);T=v(B,"DIV",{class:!0});var q=b(T);L=v(q,"DIV",{class:!0});var W=b(L);X=Z(W,P),W.forEach(h),M=N(q),F=v(q,"DIV",{class:!0});var re=b(F);V=v(re,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(V)!=="svelte-1uzwm17"&&(V.textContent=A),re.forEach(h),q.forEach(h),B.forEach(h),U.forEach(h),this.h()},h(){d(t,"class","p-0 m-0 my-2 is-bordered"),d(l,"class","column pb-0 has-text-weight-bold"),d(_,"type","checkbox"),d(R,"class","ml-2"),d(c,"class","column pb-0 is-narrow"),d(i,"class","column pb-0 columns is-mobile is-5 is-gapless"),d(I,"class","column pb-0 is-4"),d(L,"class","column pb-0"),d(V,"class","button is-small is-link is-light"),d(F,"class","column pb-0 is-narrow"),d(T,"class","columns is-mobile is-gapless"),d(E,"class","column pb-0 is-3"),d(r,"class","columns"),this.first=t},m(H,U){x(H,t,U),x(H,s,U),x(H,r,U),n(r,i),n(i,l),n(l,u),n(i,g),n(i,c),n(c,p),n(p,_),n(p,S),n(p,R),n(R,D),n(r,C),n(r,I),n(I,y),n(r,O),n(r,E),n(E,T),n(T,L),n(L,X),n(T,M),n(T,F),n(F,V),j||(J=[te(_,"click",$),te(V,"click",se)],j=!0)},p(H,U){e=H,U[1]&16&&o!==(o=e[36].name+"")&&ue(u,o),U[1]&16&&m!==(m=e[36].slId+"")&&ue(D,m),U[1]&16&&k!==(k=e[36].address+"")&&ue(y,k),U[1]&16&&P!==(P=(e[36].branchName??"-")+"")&&ue(X,P)},d(H){H&&(h(t),h(s),h(r)),j=!1,Le(J)}}}function zt(a){let e,t=a[36]+"",s;return{c(){e=f("option"),s=Y(t),this.h()},l(r){e=v(r,"OPTION",{});var i=b(e);s=Z(i,t),i.forEach(h),this.h()},h(){e.__value=a[36],be(e,e.__value)},m(r,i){x(r,e,i),n(e,s)},p:_e,d(r){r&&h(e)}}}function Js(a){let e;function t(i,l){return i[35].status==="loading"?Ws:zs}let s=t(a),r=s(a);return{c(){e=f("div"),r.c(),this.h()},l(i){e=v(i,"DIV",{slot:!0});var l=b(e);r.l(l),l.forEach(h),this.h()},h(){d(e,"slot","query")},m(i,l){x(i,e,l),r.m(e,null)},p(i,l){s===(s=t(i))&&r?r.p(i,l):(r.d(1),r=s(i),r&&(r.c(),r.m(e,null)))},d(i){i&&h(e),r.d()}}}function Wt(a){let e,t,s;function r(l){a[23](l)}let i={branchs:a[0],data:{...a[3]}};return a[4]!==void 0&&(i.isActive=a[4]),e=new Ks({props:i}),Ke.push(()=>dt(e,"isActive",r)),e.$on("onSave",a[12]),e.$on("removeCustomer",a[15]),{c(){Te(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,o){Ae(e,l,o),s=!0},p(l,o){const u={};o[0]&1&&(u.branchs=l[0]),o[0]&8&&(u.data={...l[3]}),!t&&o[0]&16&&(t=!0,u.isActive=l[4],ot(()=>t=!1)),e.$set(u)},i(l){s||(ce(e.$$.fragment,l),s=!0)},o(l){he(e.$$.fragment,l),s=!1},d(l){Qe(e,l)}}}function Xs(a){let e,t,s,r='<div class="subtitle block">Customer</div>',i,l,o,u="+ New",g,c,p,_,S,R;c=new as({props:{options:a[5],$$slots:{query:[Js,({queryResult:D})=>({35:D}),({queryResult:D})=>[0,D?16:0]]},$$scope:{ctx:a}}});let m=a[4]==="is-active"&&Wt(a);return{c(){e=f("div"),t=f("div"),s=f("div"),s.innerHTML=r,i=Q(),l=f("div"),o=f("button"),o.textContent=u,g=Q(),Te(c.$$.fragment),p=Q(),m&&m.c(),this.h()},l(D){e=v(D,"DIV",{class:!0});var C=b(e);t=v(C,"DIV",{class:!0});var I=b(t);s=v(I,"DIV",{class:!0,"data-svelte-h":!0}),oe(s)!=="svelte-s6vxt3"&&(s.innerHTML=r),i=N(I),l=v(I,"DIV",{class:!0});var k=b(l);o=v(k,"BUTTON",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-1rkcc1h"&&(o.textContent=u),k.forEach(h),I.forEach(h),g=N(C),Ve(c.$$.fragment,C),p=N(C),m&&m.l(C),C.forEach(h),this.h()},h(){d(s,"class","column"),d(o,"class","button is-success is-light"),d(l,"class","column is-narrow"),d(t,"class","columns is-mobile"),d(e,"class","container")},m(D,C){x(D,e,C),n(e,t),n(t,s),n(t,i),n(t,l),n(l,o),n(e,g),Ae(c,e,null),n(e,p),m&&m.m(e,null),_=!0,S||(R=te(o,"click",a[16]),S=!0)},p(D,C){const I={};C[0]&32&&(I.options=D[5]),C[0]&30|C[1]&1040&&(I.$$scope={dirty:C,ctx:D}),c.$set(I),D[4]==="is-active"?m?(m.p(D,C),C[0]&16&&ce(m,1)):(m=Wt(D),m.c(),ce(m,1),m.m(e,null)):m&&(ct(),he(m,1,1,()=>{m=null}),ut())},i(D){_||(ce(c.$$.fragment,D),ce(m),_=!0)},o(D){he(c.$$.fragment,D),he(m),_=!1},d(D){D&&h(e),Qe(c),m&&m.d(),S=!1,R()}}}function Gs(a,e,t){let s,r,i,l;const o=He(),u=Xe();let{branchs:g=[]}=e,c=0,p=5,_=[5,10,25,50,100];const S=async(w,z)=>await Re.get(`/v2/pdam/customer/list/${z}/${z*w}`).json(),R=async w=>{w&&w.length===p&&await u.prefetchQuery(["pdam","customer","list",c+1],()=>S(c+1,p))},m=async w=>await Re.headers({"Content-Type":"application/json",Accept:"application/json"}).put(w,`/v2/pdam/customer/${w.oldSlId}`).json(),D=async w=>await Re.headers({"Content-Type":"application/json",Accept:"application/json"}).post(w,"/v2/pdam/customer/").json(),C=async w=>await Re.headers({"Content-Type":"application/json",Accept:"application/json"}).delete(`/v2/pdam/customer/${w}`).json(),I=Fe(D,{onMutate:async w=>{await u.cancelQueries();const z=u.getQueryData(["pdam","customer","list",c,p]);return z&&u.setQueryData(["pdam","customer","list",c,p],[...z]),z},onSuccess:async(w,z,K)=>{setTimeout(()=>{},1e3)},onError:(w,z,K)=>{K!=null&&K.previousData&&u.setQueryData(["pdam","customer","list",c,p],K.previousData)},onSettled:async(w,z,K,G)=>{await u.invalidateQueries(["pdam","customer","list",c,p])}});je(a,I,w=>t(27,l=w));const k=Fe(m,{onMutate:async w=>{await u.cancelQueries();const z=u.getQueryData(["pdam","customer","list",c,p]);return z&&u.setQueryData(["pdam","customer","list",c,p],z),z},onSuccess:async(w,z,K)=>{setTimeout(()=>{},1e3)},onError:(w,z,K)=>{K!=null&&K.previousData&&u.setQueryData(["pdam","customer","list",c,p],K.previousData)},onSettled:async(w,z,K,G)=>{await u.invalidateQueries(["pdam","customer","list",c,p])}});je(a,k,w=>t(26,i=w));const y=Fe(C,{onSuccess:async()=>console.log("Delete Success"),onSettled:async()=>await u.invalidateQueries(["pdam","customer","list",c,p])});je(a,y,w=>t(25,r=w));const O={slId:"",name:"",address:"",branchId:0,isNew:!0};let E=O,T="";function L(w){const z=w.detail;z.isNew?l.mutate(z):i.mutate({...z,createdAt:Es().format()}),t(4,T="")}const P=w=>{t(1,c=w)},X=w=>{P(0)};function M(w){o("selectCustomer",w)}function F(w){r.mutate(w.detail.slId),t(4,T="")}const V=()=>{t(3,E={...O}),t(4,T="is-active")},A=w=>M(w),j=w=>{t(3,E={...w,isNew:!1,oldSlId:w.slId}),t(4,T="is-active")};function J(){p=$t(this),t(2,p),t(7,_)}const $=w=>o("selectAll",w.data),se=()=>P(Math.max(c-1,0)),H=w=>{P(w.data&&w.data.length!==p?c:c+1)};function U(w){T=w,t(4,T)}return a.$$set=w=>{"branchs"in w&&t(0,g=w.branchs)},a.$$.update=()=>{a.$$.dirty[0]&4&&X(),a.$$.dirty[0]&6&&t(5,s={queryKey:["pdam","customer","list",c,p],queryFn:()=>S(c,p),onSuccess:()=>R,keepPreviousData:!0})},[g,c,p,E,T,s,o,_,I,k,y,O,L,P,M,F,V,A,j,J,$,se,H,U]}class Ys extends Oe{constructor(e){super(),we(this,e,Gs,Xs,Se,{branchs:0},null,[-1,-1])}}function Jt(a,e,t){const s=a.slice();return s[6]=e[t],s[8]=t,s}function Xt(a,e){let t,s,r,i=e[6].name+"",l,o,u,g=e[6].noSl+"",c,p,_,S=e[6].address+"",R,m,D,C,I=e[6].city+"",k,y,O,E,T="Remove",L,P,X,M;function F(){return e[5](e[6])}return{key:a,first:null,c(){t=f("div"),s=f("div"),r=f("div"),l=Y(i),o=Q(),u=f("div"),c=Y(g),p=Q(),_=f("div"),R=Y(S),m=Q(),D=f("div"),C=f("div"),k=Y(I),y=Q(),O=f("div"),E=f("button"),E.textContent=T,L=Q(),P=f("hr"),this.h()},l(V){t=v(V,"DIV",{class:!0});var A=b(t);s=v(A,"DIV",{class:!0});var j=b(s);r=v(j,"DIV",{class:!0});var J=b(r);l=Z(J,i),J.forEach(h),o=N(j),u=v(j,"DIV",{class:!0});var $=b(u);c=Z($,g),$.forEach(h),j.forEach(h),p=N(A),_=v(A,"DIV",{class:!0});var se=b(_);R=Z(se,S),se.forEach(h),m=N(A),D=v(A,"DIV",{class:!0});var H=b(D);C=v(H,"DIV",{class:!0});var U=b(C);k=Z(U,I),U.forEach(h),y=N(H),O=v(H,"DIV",{class:!0});var w=b(O);E=v(w,"BUTTON",{title:!0,class:!0,"data-svelte-h":!0}),oe(E)!=="svelte-4tdzbf"&&(E.textContent=T),w.forEach(h),H.forEach(h),A.forEach(h),L=N(V),P=v(V,"HR",{class:!0}),this.h()},h(){d(r,"class","column pb-0 has-text-weight-bold"),d(u,"class","column pb-0 is-narrow"),d(s,"class","column pb-0 columns is-mobile is-gapless"),d(_,"class","column pb-0"),d(C,"class","column pb-0"),d(E,"title","Remove from print request"),d(E,"class","button is-small is-warning"),d(O,"class","column pb-0 is-narrow"),d(D,"class","column pb-0 is-4 columns is-mobile is-gapless"),d(t,"class","columns"),d(P,"class","p-0 m-0 my-2"),this.first=t},m(V,A){x(V,t,A),n(t,s),n(s,r),n(r,l),n(s,o),n(s,u),n(u,c),n(t,p),n(t,_),n(_,R),n(t,m),n(t,D),n(D,C),n(C,k),n(D,y),n(D,O),n(O,E),x(V,L,A),x(V,P,A),X||(M=te(E,"click",F),X=!0)},p(V,A){e=V,A&1&&i!==(i=e[6].name+"")&&ue(l,i),A&1&&g!==(g=e[6].noSl+"")&&ue(c,g),A&1&&S!==(S=e[6].address+"")&&ue(R,S),A&1&&I!==(I=e[6].city+"")&&ue(k,I)},d(V){V&&(h(t),h(L),h(P)),X=!1,M()}}}function Zs(a){let e,t,s,r=a[0].length+"",i,l,o,u,g,c,p,_,S,R,m,D,C,I,k,y,O,E,T=[],L=new Map,P,X,M=Ee(a[0]);const F=V=>V[6].noSl;for(let V=0;V<M.length;V+=1){let A=Jt(a,M,V),j=F(A);L.set(j,T[V]=Xt(j,A))}return{c(){e=f("div"),t=f("div"),s=Y("Ada "),i=Y(r),l=Y(" pelanggan yang akan dicetak kartunya."),o=Q(),u=f("div"),g=f("div"),c=f("button"),p=Y("Remove All"),S=Q(),R=f("div"),m=f("button"),D=Y("Download"),I=Q(),k=f("div"),y=f("hr"),O=Q(),E=f("div");for(let V=0;V<T.length;V+=1)T[V].c();this.h()},l(V){e=v(V,"DIV",{class:!0});var A=b(e);t=v(A,"DIV",{class:!0});var j=b(t);s=Z(j,"Ada "),i=Z(j,r),l=Z(j," pelanggan yang akan dicetak kartunya."),j.forEach(h),o=N(A),u=v(A,"DIV",{class:!0});var J=b(u);g=v(J,"DIV",{class:!0});var $=b(g);c=v($,"BUTTON",{title:!0,class:!0});var se=b(c);p=Z(se,"Remove All"),se.forEach(h),$.forEach(h),S=N(J),R=v(J,"DIV",{class:!0});var H=b(R);m=v(H,"BUTTON",{class:!0});var U=b(m);D=Z(U,"Download"),U.forEach(h),H.forEach(h),J.forEach(h),A.forEach(h),I=N(V),k=v(V,"DIV",{class:!0});var w=b(k);y=v(w,"HR",{class:!0}),O=N(w),E=v(w,"DIV",{class:!0});var z=b(E);for(let K=0;K<T.length;K+=1)T[K].l(z);z.forEach(h),w.forEach(h),this.h()},h(){d(t,"class","column"),c.disabled=_=a[0].length===0,d(c,"title","Remove from print request"),d(c,"class","button is-danger"),d(g,"class","column pr-0"),m.disabled=C=!a[1],d(m,"class","button is-primary"),d(R,"class","column is-narrow"),d(u,"class","column is-narrow columns is-mobile"),d(e,"class","block columns"),d(y,"class","p-0 m-0 my-2"),d(E,"class","container is-outlined is-primary"),d(k,"class","block")},m(V,A){x(V,e,A),n(e,t),n(t,s),n(t,i),n(t,l),n(e,o),n(e,u),n(u,g),n(g,c),n(c,p),n(u,S),n(u,R),n(R,m),n(m,D),x(V,I,A),x(V,k,A),n(k,y),n(k,O),n(k,E);for(let j=0;j<T.length;j+=1)T[j]&&T[j].m(E,null);P||(X=[te(c,"click",a[4]),te(m,"click",a[3])],P=!0)},p(V,[A]){A&1&&r!==(r=V[0].length+"")&&ue(i,r),A&1&&_!==(_=V[0].length===0)&&(c.disabled=_),A&2&&C!==(C=!V[1])&&(m.disabled=C),A&5&&(M=Ee(V[0]),T=ze(T,A,F,1,V,M,L,E,We,Xt,null,Jt))},i:_e,o:_e,d(V){V&&(h(e),h(I),h(k));for(let A=0;A<T.length;A+=1)T[A].d();P=!1,Le(X)}}}function $s(a,e,t){var g;const s=He();let{data:r=[]}=e,i=!1;function l(c){s("downloadCaard",!0)}const o=()=>s("removeAllItem",!0),u=c=>s("removeItem",c);a.$$set=c=>{"data"in c&&t(0,r=c.data)};{const c=(g=document.getElementById("username"))==null?void 0:g.innerText;t(1,i=c==="mastur.st12@outlook.com")}return[r,i,s,l,o,u]}class xs extends Oe{constructor(e){super(),we(this,e,$s,Zs,Se,{data:0})}}function ea(a){let e,t,s="Import data pelanggan dari file .csv",r,i,l,o,u,g,c,p,_,S,R,m,D,C,I,k,y,O,E,T=JSON.stringify({"Jumlah data":a[1].length,data:a[1]},null,2)+"",L,P,X;return{c(){e=f("div"),t=f("div"),t.textContent=s,r=Q(),i=f("div"),l=f("div"),o=f("div"),u=f("input"),g=Q(),c=f("div"),p=f("span"),_=Y("CSV Format ("),S=Y(a[0]),R=Y(")"),m=Q(),D=f("div"),C=f("button"),I=Y("Import Now"),y=Q(),O=f("div"),E=f("pre"),L=Y(T),this.h()},l(M){e=v(M,"DIV",{});var F=b(e);t=v(F,"DIV",{"data-svelte-h":!0}),oe(t)!=="svelte-1a2g35a"&&(t.textContent=s),r=N(F),i=v(F,"DIV",{class:!0});var V=b(i);l=v(V,"DIV",{class:!0});var A=b(l);o=v(A,"DIV",{class:!0});var j=b(o);u=v(j,"INPUT",{type:!0,class:!0,accept:!0}),j.forEach(h),g=N(A),c=v(A,"DIV",{class:!0});var J=b(c);p=v(J,"SPAN",{});var $=b(p);_=Z($,"CSV Format ("),S=Z($,a[0]),R=Z($,")"),$.forEach(h),J.forEach(h),m=N(A),D=v(A,"DIV",{class:!0});var se=b(D);C=v(se,"BUTTON",{class:!0});var H=b(C);I=Z(H,"Import Now"),H.forEach(h),se.forEach(h),A.forEach(h),y=N(V),O=v(V,"DIV",{});var U=b(O);E=v(U,"PRE",{});var w=b(E);L=Z(w,T),w.forEach(h),U.forEach(h),V.forEach(h),F.forEach(h),this.h()},h(){d(u,"type","file"),d(u,"class","input"),d(u,"accept","text/csv"),d(o,"class","column"),d(c,"class","column"),C.disabled=k=a[1].length===0,d(C,"class","button is-primary"),d(D,"class","column is-narrow"),d(l,"class","columns"),d(i,"class","block")},m(M,F){x(M,e,F),n(e,t),n(e,r),n(e,i),n(i,l),n(l,o),n(o,u),n(l,g),n(l,c),n(c,p),n(p,_),n(p,S),n(p,R),n(l,m),n(l,D),n(D,C),n(C,I),n(i,y),n(i,O),n(O,E),n(E,L),P||(X=[te(u,"change",hs(a[5])),te(C,"click",a[3])],P=!0)},p(M,[F]){F&1&&ue(S,M[0]),F&2&&k!==(k=M[1].length===0)&&(C.disabled=k),F&2&&T!==(T=JSON.stringify({"Jumlah data":M[1].length,data:M[1]},null,2)+"")&&ue(L,T)},i:_e,o:_e,d(M){M&&h(e),P=!1,Le(X)}}}function ta(a,e,t){let{branchs:s=[]}=e,{header:r=""}=e,i=[];const l=He(),o=p=>{const _=s.filter(S=>S.name===p)[0];return _?_.id:1};function u(p){const _=p.currentTarget;if(_&&_.files&&_.files[0]){const S=_.files[0],R=new FileReader;R.onload=m=>{var C;const D=((C=m.target)==null?void 0:C.result)??"";Is().fromString(D).then(I=>{t(1,i=I.map(k=>({name:k.name,address:k.address,slId:k.noSl,branchId:o(k.city),branchName:k.city})))})},R.readAsText(S,"utf-8")}}async function g(p){const _=await Re.headers({"Content-Type":"application/json",Accept:"application/json"}).url("/v2/pdam/customer/import").post(i).json();_.status==="SUCCESS"&&l("success",_)}const c=p=>u(p);return a.$$set=p=>{"branchs"in p&&t(4,s=p.branchs),"header"in p&&t(0,r=p.header)},[r,i,u,g,s,c]}class sa extends Oe{constructor(e){super(),we(this,e,ta,ea,Se,{branchs:4,header:0})}}function Gt(a,e,t){const s=a.slice();return s[3]=e[t],s}function Yt(a,e){let t,s,r=e[3].name+"",i,l,o,u,g;function c(){return e[2](e[3])}return{key:a,first:null,c(){t=f("li"),s=f("a"),i=Y(r),o=Q(),this.h()},l(p){t=v(p,"LI",{});var _=b(t);s=v(_,"A",{href:!0,class:!0});var S=b(s);i=Z(S,r),S.forEach(h),o=N(_),_.forEach(h),this.h()},h(){d(s,"href","#"+e[3].id),d(s,"class",l=e[3].id===e[0]?"is-active":""),this.first=t},m(p,_){x(p,t,_),n(t,s),n(s,i),n(t,o),u||(g=te(s,"click",c),u=!0)},p(p,_){e=p,_&1&&l!==(l=e[3].id===e[0]?"is-active":"")&&d(s,"class",l)},d(p){p&&h(t),u=!1,g()}}}function aa(a){let e,t,s=[],r=new Map,i=Ee(a[1]);const l=o=>o[3].id;for(let o=0;o<i.length;o+=1){let u=Gt(a,i,o),g=l(u);r.set(g,s[o]=Yt(g,u))}return{c(){e=f("aside"),t=f("ul");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=v(o,"ASIDE",{class:!0});var u=b(e);t=v(u,"UL",{class:!0});var g=b(t);for(let c=0;c<s.length;c+=1)s[c].l(g);g.forEach(h),u.forEach(h),this.h()},h(){d(t,"class","menu-list"),d(e,"class","menu")},m(o,u){x(o,e,u),n(e,t);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(t,null)},p(o,[u]){u&3&&(i=Ee(o[1]),s=ze(s,u,l,1,o,i,r,t,We,Yt,null,Gt))},i:_e,o:_e,d(o){o&&h(e);for(let u=0;u<s.length;u+=1)s[u].d()}}}function la(a,e,t){const s=[{id:2,name:"Cabang"},{id:3,name:"Import"},{id:1,name:"Customer"},{id:4,name:"Download Card"}];let{currentMenu:r=1}=e;const i=l=>t(0,r=l.id);return a.$$set=l=>{"currentMenu"in l&&t(0,r=l.currentMenu)},[r,s,i]}class ra extends Oe{constructor(e){super(),we(this,e,la,aa,Se,{currentMenu:0})}}const{document:lt}=vs;function na(a){let e,t;return e=new xs({props:{data:a[2]}}),e.$on("downloadCaard",a[9]),e.$on("removeItem",a[6]),e.$on("removeAllItem",a[10]),{c(){Te(e.$$.fragment)},l(s){Ve(e.$$.fragment,s)},m(s,r){Ae(e,s,r),t=!0},p(s,r){const i={};r&4&&(i.data=s[2]),e.$set(i)},i(s){t||(ce(e.$$.fragment,s),t=!0)},o(s){he(e.$$.fragment,s),t=!1},d(s){Qe(e,s)}}}function ia(a){let e,t;return e=new sa({props:{branchs:a[0],header:da}}),e.$on("success",a[4]),{c(){Te(e.$$.fragment)},l(s){Ve(e.$$.fragment,s)},m(s,r){Ae(e,s,r),t=!0},p(s,r){const i={};r&1&&(i.branchs=s[0]),e.$set(i)},i(s){t||(ce(e.$$.fragment,s),t=!0)},o(s){he(e.$$.fragment,s),t=!1},d(s){Qe(e,s)}}}function oa(a){let e,t;return e=new Ys({props:{branchs:a[0]}}),e.$on("selectCustomer",a[5]),e.$on("selectAll",a[7]),{c(){Te(e.$$.fragment)},l(s){Ve(e.$$.fragment,s)},m(s,r){Ae(e,s,r),t=!0},p(s,r){const i={};r&1&&(i.branchs=s[0]),e.$set(i)},i(s){t||(ce(e.$$.fragment,s),t=!0)},o(s){he(e.$$.fragment,s),t=!1},d(s){Qe(e,s)}}}function ca(a){let e,t;return e=new Bs({}),{c(){Te(e.$$.fragment)},l(s){Ve(e.$$.fragment,s)},m(s,r){Ae(e,s,r),t=!0},p:_e,i(s){t||(ce(e.$$.fragment,s),t=!0)},o(s){he(e.$$.fragment,s),t=!1},d(s){Qe(e,s)}}}function ua(a){let e,t,s,r,i,l,o,u="PDAM",g,c,p,_,S,R,m,D;function C(E){a[8](E)}let I={};a[1]!==void 0&&(I.currentMenu=a[1]),c=new ra({props:I}),Ke.push(()=>dt(c,"currentMenu",C));const k=[ca,oa,ia,na],y=[];function O(E,T){return E[1]===2?0:E[1]===1?1:E[1]===3?2:3}return R=O(a),m=y[R]=k[R](a),{c(){e=f("meta"),t=f("meta"),s=Q(),r=f("section"),i=f("div"),l=f("div"),o=f("div"),o.textContent=u,g=Q(),Te(c.$$.fragment),_=Q(),S=f("div"),m.c(),this.h()},l(E){const T=fs("svelte-15hq90y",lt.head);e=v(T,"META",{property:!0,content:!0}),t=v(T,"META",{name:!0,content:!0}),T.forEach(h),s=N(E),r=v(E,"SECTION",{class:!0});var L=b(r);i=v(L,"DIV",{class:!0});var P=b(i);l=v(P,"DIV",{class:!0});var X=b(l);o=v(X,"DIV",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-ygruwd"&&(o.textContent=u),g=N(X),Ve(c.$$.fragment,X),X.forEach(h),_=N(P),S=v(P,"DIV",{class:!0});var M=b(S);m.l(M),M.forEach(h),P.forEach(h),L.forEach(h),this.h()},h(){d(e,"property","og:description"),d(e,"content","PDAM Card"),lt.title="PDAM Card",d(t,"name","description"),d(t,"content","PDAM Card"),d(o,"class","title is-family-secondary"),d(l,"class","column is-narrow is-one-fifth"),d(S,"class","column"),d(i,"class","columns"),d(r,"class","container is-max-desktop")},m(E,T){n(lt.head,e),n(lt.head,t),x(E,s,T),x(E,r,T),n(r,i),n(i,l),n(l,o),n(l,g),Ae(c,l,null),n(i,_),n(i,S),y[R].m(S,null),D=!0},p(E,[T]){const L={};!p&&T&2&&(p=!0,L.currentMenu=E[1],ot(()=>p=!1)),c.$set(L);let P=R;R=O(E),R===P?y[R].p(E,T):(ct(),he(y[P],1,1,()=>{y[P]=null}),ut(),m=y[R],m?m.p(E,T):(m=y[R]=k[R](E),m.c()),ce(m,1),m.m(S,null))},i(E){D||(ce(c.$$.fragment,E),ce(m),D=!0)},o(E){he(c.$$.fragment,E),he(m),D=!1},d(E){E&&(h(s),h(r)),h(e),h(t),Qe(c),y[R].d()}}}let da="noSl, name, address, city";function ha(a,e,t){let s=[];const r=Xe();let i=1,l=[];const o=I=>s.filter(k=>k.id===I)[0].address;async function u(){let I="pdam-card.pdf";const k="/v1/pdam";await Re.headers({Accept:"application/pdf","Content-Type":"application/json"}).url(k).post(l).blob(y=>{var O=window.URL.createObjectURL(y),E=document.createElement("a");E.href=O,E.download=I,E.click(),E.remove(),setTimeout(()=>!1,1e3),window.URL.revokeObjectURL(O)}).catch(y=>{console.log(y)})}const g=async()=>await Re.get("/v2/pdam/branch/").json(),c=ss({queryKey:["pdam","branch","list"],queryFn:async()=>await g()});nt(async()=>{c.subscribe(I=>t(0,s=I.data??[]))});function p(I){r.invalidateQueries(["pdam","customer","list"]),t(1,i=1)}function _(I){const k=l.filter(y=>y.noSl===I.detail.slId)[0];if(k){t(2,l=l.filter(y=>y.noSl!=k.noSl));return}t(2,l=[...l,{address:I.detail.address,cabang:o(I.detail.branchId),city:I.detail.branchName??"",name:I.detail.name,noSl:I.detail.slId}])}function S(I){t(2,l=l.filter(k=>k.noSl!=I.detail.noSl))}function R(I){if(I.detail){const k=l.map(O=>O.noSl),y=I.detail.map(O=>({address:O.address,cabang:o(O.branchId),city:O.branchName??"",name:O.name,noSl:O.slId})).filter(O=>!k.includes(O.noSl));t(2,l=[...l,...y])}}function m(I){i=I,t(1,i)}return[s,i,l,u,p,_,S,R,m,()=>u(),()=>t(2,l=[])]}class Ia extends Oe{constructor(e){super(),we(this,e,ha,ua,Se,{})}}export{Ia as component};
