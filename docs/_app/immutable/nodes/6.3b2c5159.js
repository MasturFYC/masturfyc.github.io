import{s as Ke,e as Re,i as ue,x as Me,d as u,f as c,l as b,a as m,g as d,h as f,m as k,c as p,v as t,n as $,r as At,u as de,j as J,w as Et,Q as $t,o as wt}from"../chunks/scheduler.a1a79cf5.js";import{S as We,i as Xe,t as Oe,c as St,a as Le,g as Ht,b as Tt,d as bt,m as kt,e as Dt}from"../chunks/index.f0883218.js";import{e as Te,u as It,d as Ct}from"../chunks/each.5046d998.js";import{f as ft}from"../chunks/fetch-api.03dee818.js";function ht(i,e,l){const s=i.slice();return s[1]=e[l],s}function _t(i,e){let l,s,o=e[1].id+"",v,a,n,h=e[1].name+"",g,D,C,L=e[1].comment+"",E,A,U,V=e[1].service+"",Y,N,S,B=e[1].sessionId+"",z,x,H,I=e[1].address+"",j,T,R,q=e[1].callerId+"",G,y;return{key:i,first:null,c(){l=c("tr"),s=c("td"),v=b(o),a=m(),n=c("td"),g=b(h),D=m(),C=c("td"),E=b(L),A=m(),U=c("td"),Y=b(V),N=m(),S=c("td"),z=b(B),x=m(),H=c("td"),j=b(I),T=m(),R=c("td"),G=b(q),y=m(),this.h()},l(M){l=d(M,"TR",{});var r=f(l);s=d(r,"TD",{});var K=f(s);v=k(K,o),K.forEach(u),a=p(r),n=d(r,"TD",{});var ne=f(n);g=k(ne,h),ne.forEach(u),D=p(r),C=d(r,"TD",{});var le=f(C);E=k(le,L),le.forEach(u),A=p(r),U=d(r,"TD",{});var W=f(U);Y=k(W,V),W.forEach(u),N=p(r),S=d(r,"TD",{});var re=f(S);z=k(re,B),re.forEach(u),x=p(r),H=d(r,"TD",{});var se=f(H);j=k(se,I),se.forEach(u),T=p(r),R=d(r,"TD",{});var ee=f(R);G=k(ee,q),ee.forEach(u),y=p(r),r.forEach(u),this.h()},h(){this.first=l},m(M,r){ue(M,l,r),t(l,s),t(s,v),t(l,a),t(l,n),t(n,g),t(l,D),t(l,C),t(C,E),t(l,A),t(l,U),t(U,Y),t(l,N),t(l,S),t(S,z),t(l,x),t(l,H),t(H,j),t(l,T),t(l,R),t(R,G),t(l,y)},p(M,r){e=M,r&1&&o!==(o=e[1].id+"")&&$(v,o),r&1&&h!==(h=e[1].name+"")&&$(g,h),r&1&&L!==(L=e[1].comment+"")&&$(E,L),r&1&&V!==(V=e[1].service+"")&&$(Y,V),r&1&&B!==(B=e[1].sessionId+"")&&$(z,B),r&1&&I!==(I=e[1].address+"")&&$(j,I),r&1&&q!==(q=e[1].callerId+"")&&$(G,q)},d(M){M&&u(l)}}}function Rt(i){let e=[],l=new Map,s,o=Te(i[0]);const v=a=>a[1].id;for(let a=0;a<o.length;a+=1){let n=ht(i,o,a),h=v(n);l.set(h,e[a]=_t(h,n))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();s=Re()},l(a){for(let n=0;n<e.length;n+=1)e[n].l(a);s=Re()},m(a,n){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(a,n);ue(a,s,n)},p(a,[n]){n&1&&(o=Te(a[0]),e=It(e,n,v,1,a,o,l,s.parentNode,Ct,_t,s,ht))},i:Me,o:Me,d(a){a&&u(s);for(let n=0;n<e.length;n+=1)e[n].d(a)}}}function Mt(i,e,l){let{users:s=[]}=e;return i.$$set=o=>{"users"in o&&l(0,s=o.users)},[s]}class Ot extends We{constructor(e){super(),Xe(this,e,Mt,Rt,Ke,{users:0})}}function vt(i,e,l){const s=i.slice();return s[1]=e[l],s}function mt(i,e){let l,s,o=e[1].id+"",v,a,n,h=e[1].name+"",g,D,C,L=e[1].comment+"",E,A,U,V=e[1].service+"",Y,N,S,B=e[1].profile+"",z,x,H,I=e[1].remoteAddress+"",j,T,R,q=e[1].lastCallerId+"",G,y;return{key:i,first:null,c(){l=c("tr"),s=c("td"),v=b(o),a=m(),n=c("td"),g=b(h),D=m(),C=c("td"),E=b(L),A=m(),U=c("td"),Y=b(V),N=m(),S=c("td"),z=b(B),x=m(),H=c("td"),j=b(I),T=m(),R=c("td"),G=b(q),y=m(),this.h()},l(M){l=d(M,"TR",{});var r=f(l);s=d(r,"TD",{});var K=f(s);v=k(K,o),K.forEach(u),a=p(r),n=d(r,"TD",{});var ne=f(n);g=k(ne,h),ne.forEach(u),D=p(r),C=d(r,"TD",{});var le=f(C);E=k(le,L),le.forEach(u),A=p(r),U=d(r,"TD",{});var W=f(U);Y=k(W,V),W.forEach(u),N=p(r),S=d(r,"TD",{});var re=f(S);z=k(re,B),re.forEach(u),x=p(r),H=d(r,"TD",{});var se=f(H);j=k(se,I),se.forEach(u),T=p(r),R=d(r,"TD",{});var ee=f(R);G=k(ee,q),ee.forEach(u),y=p(r),r.forEach(u),this.h()},h(){this.first=l},m(M,r){ue(M,l,r),t(l,s),t(s,v),t(l,a),t(l,n),t(n,g),t(l,D),t(l,C),t(C,E),t(l,A),t(l,U),t(U,Y),t(l,N),t(l,S),t(S,z),t(l,x),t(l,H),t(H,j),t(l,T),t(l,R),t(R,G),t(l,y)},p(M,r){e=M,r&1&&o!==(o=e[1].id+"")&&$(v,o),r&1&&h!==(h=e[1].name+"")&&$(g,h),r&1&&L!==(L=e[1].comment+"")&&$(E,L),r&1&&V!==(V=e[1].service+"")&&$(Y,V),r&1&&B!==(B=e[1].profile+"")&&$(z,B),r&1&&I!==(I=e[1].remoteAddress+"")&&$(j,I),r&1&&q!==(q=e[1].lastCallerId+"")&&$(G,q)},d(M){M&&u(l)}}}function Lt(i){let e=[],l=new Map,s,o=Te(i[0]);const v=a=>a[1].id;for(let a=0;a<o.length;a+=1){let n=vt(i,o,a),h=v(n);l.set(h,e[a]=mt(h,n))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();s=Re()},l(a){for(let n=0;n<e.length;n+=1)e[n].l(a);s=Re()},m(a,n){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(a,n);ue(a,s,n)},p(a,[n]){n&1&&(o=Te(a[0]),e=It(e,n,v,1,a,o,l,s.parentNode,Ct,mt,s,vt))},i:Me,o:Me,d(a){a&&u(s);for(let n=0;n<e.length;n+=1)e[n].d(a)}}}function Vt(i,e,l){let{users:s=[]}=e;return i.$$set=o=>{"users"in o&&l(0,s=o.users)},[s]}class Nt extends We{constructor(e){super(),Xe(this,e,Vt,Lt,Ke,{users:0})}}function pt(i,e,l){const s=i.slice();return s[10]=e[l],s}function gt(i){let e,l,s=i[10].name+"",o,v,a,n;function h(){return i[7](i[10])}return{c(){e=c("li"),l=c("a"),o=b(s),this.h()},l(g){e=d(g,"LI",{class:!0});var D=f(e);l=d(D,"A",{});var C=f(l);o=k(C,s),C.forEach(u),D.forEach(u),this.h()},h(){J(e,"class",v=i[10].isActive)},m(g,D){ue(g,e,D),t(e,l),t(l,o),a||(n=Et(l,"click",h),a=!0)},p(g,D){i=g,D&16&&s!==(s=i[10].name+"")&&$(o,s),D&16&&v!==(v=i[10].isActive)&&J(e,"class",v)},d(g){g&&u(e),a=!1,n()}}}function Ut(i){let e,l;return e=new Ot({props:{users:i[1]}}),{c(){Tt(e.$$.fragment)},l(s){bt(e.$$.fragment,s)},m(s,o){kt(e,s,o),l=!0},p(s,o){const v={};o&2&&(v.users=s[1]),e.$set(v)},i(s){l||(Le(e.$$.fragment,s),l=!0)},o(s){Oe(e.$$.fragment,s),l=!1},d(s){Dt(e,s)}}}function Bt(i){let e,l;return e=new Nt({props:{users:i[0]}}),{c(){Tt(e.$$.fragment)},l(s){bt(e.$$.fragment,s)},m(s,o){kt(e,s,o),l=!0},p(s,o){const v={};o&1&&(v.users=s[0]),e.$set(v)},i(s){l||(Le(e.$$.fragment,s),l=!0)},o(s){Oe(e.$$.fragment,s),l=!1},d(s){Dt(e,s)}}}function jt(i){let e,l,s,o,v='<div class="title">Sapulidi users</div>',a,n,h,g,D=i[0].length+"",C,L,E,A,U,V,Y,N,S,B,z,x,H,I,j,T,R,q="ID",G,y,M="NAME",r,K,ne="COMMENT",le,W,re="SERVICE",se,ee,be=i[2]===1?"PROFILE":"SESSION",Ae,Ve,fe,Ze="ADDRESS",Ne,he,xe="MAC",Ue,_e,X,Z,Be,ke,ae,ie,je,De=i[0].length+"",$e,Fe,ce,Pe,Ie=i[1].length+"",we,qe,ve,ye,Ce=i[1].length+i[0].length+"",Se,te,Qe,et,me=Te(i[4]),O=[];for(let _=0;_<me.length;_+=1)O[_]=gt(pt(i,me,_));const tt=[Bt,Ut],oe=[];function lt(_,F){return _[2]===1?0:1}return X=lt(i),Z=oe[X]=tt[X](i),{c(){e=m(),l=c("div"),s=c("div"),o=c("div"),o.innerHTML=v,a=m(),n=c("div"),h=b("Inactive user: "),g=c("b"),C=b(D),L=m(),E=c("div"),A=c("button"),U=b("Refresh"),Y=m(),N=c("div"),S=c("ul");for(let _=0;_<O.length;_+=1)O[_].c();B=m(),z=c("hr"),x=m(),H=c("div"),I=c("table"),j=c("thead"),T=c("tr"),R=c("th"),R.textContent=q,G=m(),y=c("th"),y.textContent=M,r=m(),K=c("th"),K.textContent=ne,le=m(),W=c("th"),W.textContent=re,se=m(),ee=c("th"),Ae=b(be),Ve=m(),fe=c("th"),fe.textContent=Ze,Ne=m(),he=c("th"),he.textContent=xe,Ue=m(),_e=c("tbody"),Z.c(),Be=m(),ke=c("tfoot"),ae=c("tr"),ie=c("td"),je=b("Inactive user: "),$e=b(De),Fe=m(),ce=c("td"),Pe=b("Active user: "),we=b(Ie),qe=m(),ve=c("td"),ye=b("Total user: "),Se=b(Ce),this.h()},l(_){At("svelte-glbu1b",document.head).forEach(u),e=p(_),l=d(_,"DIV",{});var P=f(l);s=d(P,"DIV",{class:!0});var w=f(s);o=d(w,"DIV",{class:!0,"data-svelte-h":!0}),de(o)!=="svelte-bu8x6w"&&(o.innerHTML=v),a=p(w),n=d(w,"DIV",{class:!0});var pe=f(n);h=k(pe,"Inactive user: "),g=d(pe,"B",{});var st=f(g);C=k(st,D),st.forEach(u),pe.forEach(u),L=p(w),E=d(w,"DIV",{class:!0});var at=f(E);A=d(at,"BUTTON",{class:!0});var nt=f(A);U=k(nt,"Refresh"),nt.forEach(u),at.forEach(u),w.forEach(u),Y=p(P),N=d(P,"DIV",{class:!0});var He=f(N);S=d(He,"UL",{});var rt=f(S);for(let Je=0;Je<O.length;Je+=1)O[Je].l(rt);rt.forEach(u),B=p(He),z=d(He,"HR",{}),He.forEach(u),x=p(P),H=d(P,"DIV",{class:!0});var ot=f(H);I=d(ot,"TABLE",{class:!0});var ge=f(I);j=d(ge,"THEAD",{});var it=f(j);T=d(it,"TR",{});var Q=f(T);R=d(Q,"TH",{"data-svelte-h":!0}),de(R)!=="svelte-1tfe9gf"&&(R.textContent=q),G=p(Q),y=d(Q,"TH",{"data-svelte-h":!0}),de(y)!=="svelte-8iw7q1"&&(y.textContent=M),r=p(Q),K=d(Q,"TH",{"data-svelte-h":!0}),de(K)!=="svelte-16rnewl"&&(K.textContent=ne),le=p(Q),W=d(Q,"TH",{"data-svelte-h":!0}),de(W)!=="svelte-1ebpx7"&&(W.textContent=re),se=p(Q),ee=d(Q,"TH",{});var ct=f(ee);Ae=k(ct,be),ct.forEach(u),Ve=p(Q),fe=d(Q,"TH",{"data-svelte-h":!0}),de(fe)!=="svelte-l4syai"&&(fe.textContent=Ze),Ne=p(Q),he=d(Q,"TH",{"data-svelte-h":!0}),de(he)!=="svelte-1sp6w1f"&&(he.textContent=xe),Q.forEach(u),it.forEach(u),Ue=p(ge),_e=d(ge,"TBODY",{});var dt=f(_e);Z.l(dt),dt.forEach(u),Be=p(ge),ke=d(ge,"TFOOT",{});var ut=f(ke);ae=d(ut,"TR",{});var Ee=f(ae);ie=d(Ee,"TD",{colspan:!0});var Ye=f(ie);je=k(Ye,"Inactive user: "),$e=k(Ye,De),Ye.forEach(u),Fe=p(Ee),ce=d(Ee,"TD",{colspan:!0});var ze=f(ce);Pe=k(ze,"Active user: "),we=k(ze,Ie),ze.forEach(u),qe=p(Ee),ve=d(Ee,"TD",{});var Ge=f(ve);ye=k(Ge,"Total user: "),Se=k(Ge,Ce),Ge.forEach(u),Ee.forEach(u),ut.forEach(u),ge.forEach(u),ot.forEach(u),P.forEach(u),this.h()},h(){document.title="Sapulidi Users",J(o,"class","column"),J(n,"class","column"),J(A,"class",V="button is-primary "+i[3]),J(E,"class","column is-narrow"),J(s,"class","columns is-align-items-end"),J(N,"class","tabs"),J(ie,"colspan","3"),J(ce,"colspan","3"),J(I,"class","table is-small is-fullwidth"),J(H,"class","table-container")},m(_,F){ue(_,e,F),ue(_,l,F),t(l,s),t(s,o),t(s,a),t(s,n),t(n,h),t(n,g),t(g,C),t(s,L),t(s,E),t(E,A),t(A,U),t(l,Y),t(l,N),t(N,S);for(let P=0;P<O.length;P+=1)O[P]&&O[P].m(S,null);t(N,B),t(N,z),t(l,x),t(l,H),t(H,I),t(I,j),t(j,T),t(T,R),t(T,G),t(T,y),t(T,r),t(T,K),t(T,le),t(T,W),t(T,se),t(T,ee),t(ee,Ae),t(T,Ve),t(T,fe),t(T,Ne),t(T,he),t(I,Ue),t(I,_e),oe[X].m(_e,null),t(I,Be),t(I,ke),t(ke,ae),t(ae,ie),t(ie,je),t(ie,$e),t(ae,Fe),t(ae,ce),t(ce,Pe),t(ce,we),t(ae,qe),t(ae,ve),t(ve,ye),t(ve,Se),te=!0,Qe||(et=Et(A,"click",i[6]),Qe=!0)},p(_,[F]){if((!te||F&1)&&D!==(D=_[0].length+"")&&$(C,D),(!te||F&8&&V!==(V="button is-primary "+_[3]))&&J(A,"class",V),F&48){me=Te(_[4]);let w;for(w=0;w<me.length;w+=1){const pe=pt(_,me,w);O[w]?O[w].p(pe,F):(O[w]=gt(pe),O[w].c(),O[w].m(S,null))}for(;w<O.length;w+=1)O[w].d(1);O.length=me.length}(!te||F&4)&&be!==(be=_[2]===1?"PROFILE":"SESSION")&&$(Ae,be);let P=X;X=lt(_),X===P?oe[X].p(_,F):(Ht(),Oe(oe[P],1,1,()=>{oe[P]=null}),St(),Z=oe[X],Z?Z.p(_,F):(Z=oe[X]=tt[X](_),Z.c()),Le(Z,1),Z.m(_e,null)),(!te||F&1)&&De!==(De=_[0].length+"")&&$($e,De),(!te||F&2)&&Ie!==(Ie=_[1].length+"")&&$(we,Ie),(!te||F&3)&&Ce!==(Ce=_[1].length+_[0].length+"")&&$(Se,Ce)},i(_){te||(Le(Z),te=!0)},o(_){Oe(Z),te=!1},d(_){_&&(u(e),u(l)),$t(O,_),oe[X].d(),Qe=!1,et()}}}function Ft(i,e,l){let s=[],o=[],v=1,a="is-loading",n=[{id:1,name:"Inactive user",isActive:"is-active"},{id:2,name:"Active user",isActive:""}];const h=async()=>{const E=await ft.url("https://mikrotik.sapulidi.site/api/v1/secret",!0).get().json();l(0,s=E)},g=async()=>{const E=await ft.url("https://mikrotik.sapulidi.site/api/v1/active",!0).get().json();l(3,a=""),l(1,o=E)};wt(async()=>{h(),g()});const D=E=>{l(2,v=E.id),l(4,n=n.map(A=>(E.id===A.id?A.isActive="is-active":A.isActive="",A)))};function C(E){l(3,a="is-loading"),h(),g()}return[s,o,v,a,n,D,C,E=>D(E)]}class Yt extends We{constructor(e){super(),Xe(this,e,Ft,jt,Ke,{})}}export{Yt as component};
