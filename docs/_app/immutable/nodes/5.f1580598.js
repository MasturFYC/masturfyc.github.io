import{s as ce,p as ue,R as fe,Q as Y,U as be,o as _e,e as T,i as w,d,l as M,m as j,n as G,a as B,f as V,N as ke,c as O,g as q,h as Q,j as S,P as g,K as J,J as we,X as ye}from"../chunks/scheduler.8f106bd9.js";import{S as me,i as pe,f as de,b as U,d as F,m as K,a as y,t as E,e as A,g as x,c as ee}from"../chunks/index.4fbda23c.js";import{e as z,u as he,o as $e}from"../chunks/each.c9d8bfb3.js";import{S as ge,O as ve,i as te,Q as Ee,c as ne}from"../chunks/store.918d4b09.js";import{u as Ie,B as se}from"../chunks/InitialFocus.a9b8a12c.js";import{d as Z,i as le}from"../chunks/axios-base.85f1402c.js";import{M as Me,a as je}from"../chunks/MemberBox.285416f3.js";function re(l,e,t){const n=l.slice();return n[8]=e[t],n}function De(l){let e=l[8].name+"",t;return{c(){t=M(e)},l(n){t=j(n,e)},m(n,o){w(n,t,o)},p(n,o){o&2&&e!==(e=n[8].name+"")&&G(t,e)},d(n){n&&d(t)}}}function ae(l,e){let t,n,o;return n=new ve({props:{value:e[8],$$slots:{default:[De]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=T(),U(n.$$.fragment),this.h()},l(s){t=T(),F(n.$$.fragment,s),this.h()},h(){this.first=t},m(s,r){w(s,t,r),K(n,s,r),o=!0},p(s,r){e=s;const a={};r&2&&(a.value=e[8]),r&2050&&(a.$$scope={dirty:r,ctx:e}),n.$set(a)},i(s){o||(y(n.$$.fragment,s),o=!0)},o(s){E(n.$$.fragment,s),o=!1},d(s){s&&d(t),A(n,s)}}}function Pe(l){let e=[],t=new Map,n,o,s=z(l[1]);const r=a=>a[8].id;for(let a=0;a<s.length;a+=1){let i=re(l,s,a),c=r(i);t.set(c,e[a]=ae(c,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=T()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);n=T()},m(a,i){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,i);w(a,n,i),o=!0},p(a,i){i&2&&(s=z(a[1]),x(),e=he(e,i,r,1,a,s,t,n.parentNode,$e,ae,n,re),ee())},i(a){if(!o){for(let i=0;i<s.length;i+=1)y(e[i]);o=!0}},o(a){for(let i=0;i<e.length;i+=1)E(e[i]);o=!1},d(a){a&&d(n);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function Se(l){let e,t,n;function o(r){l[4](r)}let s={title:"Row limit per page",key:l[2],"aria-label":"limit-control",class:"shaped-outlined",variant:"outlined",input$name:"category-control",$$slots:{default:[Pe]},$$scope:{ctx:l}};return l[0]!==void 0&&(s.value=l[0]),e=new ge({props:s}),ue.push(()=>de(e,"value",o)),{c(){U(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,a){K(e,r,a),n=!0},p(r,[a]){const i={};a&2050&&(i.$$scope={dirty:a,ctx:r}),!t&&a&1&&(t=!0,i.value=r[0],fe(()=>t=!1)),e.$set(i)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function Ve(l,e,t){let n;Y(l,Z,m=>t(1,n=m));let{unitId:o=0}=e,s;const r=be(),a=(m=void 0)=>{s&&r("search",{txt:s.id})},i=m=>m?`${m.id}`:"0",c=m=>{m>0&&t(0,s=n.filter(k=>k.id===m)[0])};_e(()=>c(o));function b(m){s=m,t(0,s)}return l.$$set=m=>{"unitId"in m&&t(3,o=m.unitId)},l.$$.update=()=>{l.$$.dirty&8&&c(o),l.$$.dirty&1&&a(s)},[s,n,i,o,b]}class qe extends me{constructor(e){super(),pe(this,e,Ve,Se,ce,{unitId:3})}}function Ce(l,e,t){const n=l.slice();return n[20]=e[t],n}function oe(l,e,t){const n=l.slice();return n[23]=e[t],n}function Ne(l){let e,t=[],n=new Map,o,s=z(l[19].data??[]);const r=a=>a[23].member_id;for(let a=0;a<s.length;a+=1){let i=oe(l,s,a),c=r(i);n.set(c,t[a]=ie(c,i))}return{c(){e=V("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=q(a,"DIV",{class:!0});var i=Q(e);for(let c=0;c<t.length;c+=1)t[c].l(i);i.forEach(d),this.h()},h(){S(e,"class","arr-box svelte-1jevwf2")},m(a,i){w(a,e,i);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);o=!0},p(a,i){i&524295&&(s=z(a[19].data??[]),x(),t=he(t,i,r,1,a,s,n,e,$e,ie,null,oe),ee())},i(a){if(!o){for(let i=0;i<s.length;i+=1)y(t[i]);o=!0}},o(a){for(let i=0;i<t.length;i+=1)E(t[i]);o=!1},d(a){a&&d(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function Qe(l){let e,t,n=l[6](l[19])+"",o;return{c(){e=V("div"),t=M("Error: "),o=M(n),this.h()},l(s){e=q(s,"DIV",{class:!0});var r=Q(e);t=j(r,"Error: "),o=j(r,n),r.forEach(d),this.h()},h(){S(e,"class","svelte-1jevwf2")},m(s,r){w(s,e,r),g(e,t),g(e,o)},p(s,r){r&524288&&n!==(n=s[6](s[19])+"")&&G(o,n)},i:J,o:J,d(s){s&&d(e)}}}function Ue(l){let e,t="Loading...";return{c(){e=V("div"),e.textContent=t,this.h()},l(n){e=q(n,"DIV",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-194gxkm"&&(e.textContent=t),this.h()},h(){S(e,"class","svelte-1jevwf2")},m(n,o){w(n,e,o)},p:J,i:J,o:J,d(n){n&&d(e)}}}function ie(l,e){let t,n,o;return n=new je({props:{member:e[23],txt:e[0],limit:e[2],page:e[1]}}),{key:l,first:null,c(){t=T(),U(n.$$.fragment),this.h()},l(s){t=T(),F(n.$$.fragment,s),this.h()},h(){this.first=t},m(s,r){w(s,t,r),K(n,s,r),o=!0},p(s,r){e=s;const a={};r&524288&&(a.member=e[23]),r&1&&(a.txt=e[0]),r&4&&(a.limit=e[2]),r&2&&(a.page=e[1]),n.$set(a)},i(s){o||(y(n.$$.fragment,s),o=!0)},o(s){E(n.$$.fragment,s),o=!1},d(s){s&&d(t),A(n,s)}}}function Fe(l){let e;return{c(){e=M(l[20])},l(t){e=j(t,l[20])},m(t,n){w(t,e,n)},p:J,d(t){t&&d(e)}}}function Ke(l){let e,t;return e=new ve({props:{value:l[20],$$slots:{default:[Fe]},$$scope:{ctx:l}}}),{c(){U(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,o){K(e,n,o),t=!0},p(n,o){const s={};o&67108864&&(s.$$scope={dirty:o,ctx:n}),e.$set(s)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Ae(l){let e,t,n=z([3,5,10,20,25,50]),o=[];for(let s=0;s<6;s+=1)o[s]=Ke(Ce(l,n,s));return{c(){for(let s=0;s<6;s+=1)o[s].c();e=T()},l(s){for(let r=0;r<6;r+=1)o[r].l(s);e=T()},m(s,r){for(let a=0;a<6;a+=1)o[a]&&o[a].m(s,r);w(s,e,r),t=!0},p:J,i(s){if(!t){for(let r=0;r<6;r+=1)y(o[r]);t=!0}},o(s){o=o.filter(Boolean);for(let r=0;r<6;r+=1)E(o[r]);t=!1},d(s){s&&d(e),ye(o,s)}}}function Be(l){let e;return{c(){e=M("≮ Previous")},l(t){e=j(t,"≮ Previous")},m(t,n){w(t,e,n)},d(t){t&&d(e)}}}function Oe(l){let e;return{c(){e=M("Next ≯")},l(t){e=j(t,"Next ≯")},m(t,n){w(t,e,n)},d(t){t&&d(e)}}}function Le(l){let e,t,n=l[1]+1+"",o;return{c(){e=V("span"),t=M("Current Page: "),o=M(n),this.h()},l(s){e=q(s,"SPAN",{class:!0});var r=Q(e);t=j(r,"Current Page: "),o=j(r,n),r.forEach(d),this.h()},h(){S(e,"class","svelte-1jevwf2")},m(s,r){w(s,e,r),g(e,t),g(e,o)},p(s,r){r&2&&n!==(n=s[1]+1+"")&&G(o,n)},d(s){s&&d(e)}}}function Re(l){let e;return{c(){e=M("Loading...")},l(t){e=j(t,"Loading...")},m(t,n){w(t,e,n)},p:J,d(t){t&&d(e)}}}function Je(l){let e,t,n,o,s,r,a,i,c,b,m,k,I,C;const L=[Ue,Qe,Ne],$=[];function R(f,h){return f[19].status==="loading"?0:f[19].status==="error"?1:2}t=R(l),n=$[t]=L[t](l);function D(f){l[10](f)}let N={title:"Row limit per page",key:Ge,"aria-label":"limit-control",class:"shaped-outlined w-28",variant:"outlined",input$name:"category-control",style:"width: 90px",$$slots:{default:[Ae]},$$scope:{ctx:l}};l[2]!==void 0&&(N.value=l[2]),r=new ge({props:N}),ue.push(()=>de(r,"value",D)),c=new se({props:{disabled:l[1]===0,$$slots:{default:[Be]},$$scope:{ctx:l}}}),c.$on("click",l[11]);function _(){return l[12](l[19])}m=new se({props:{disabled:l[19].data&&l[19].data.length!==l[2],$$slots:{default:[Oe]},$$scope:{ctx:l}}}),m.$on("click",_);function v(f,h){return f[19].isFetching?Re:Le}let u=v(l),p=u(l);return{c(){e=V("div"),n.c(),o=B(),s=V("div"),U(r.$$.fragment),i=B(),U(c.$$.fragment),b=B(),U(m.$$.fragment),k=B(),I=V("div"),p.c(),this.h()},l(f){e=q(f,"DIV",{slot:!0,class:!0});var h=Q(e);n.l(h),o=O(h),s=q(h,"DIV",{class:!0});var P=Q(s);F(r.$$.fragment,P),i=O(P),F(c.$$.fragment,P),b=O(P),F(m.$$.fragment,P),k=O(P),I=q(P,"DIV",{class:!0});var X=Q(I);p.l(X),X.forEach(d),P.forEach(d),h.forEach(d),this.h()},h(){S(I,"class","svelte-1jevwf2"),S(s,"class","mt-10 div-data svelte-1jevwf2"),S(e,"slot","query"),S(e,"class","svelte-1jevwf2")},m(f,h){w(f,e,h),$[t].m(e,null),g(e,o),g(e,s),K(r,s,null),g(s,i),K(c,s,null),g(s,b),K(m,s,null),g(s,k),g(s,I),p.m(I,null),C=!0},p(f,h){l=f;let P=t;t=R(l),t===P?$[t].p(l,h):(x(),E($[P],1,1,()=>{$[P]=null}),ee(),n=$[t],n?n.p(l,h):(n=$[t]=L[t](l),n.c()),y(n,1),n.m(e,o));const X={};h&67108864&&(X.$$scope={dirty:h,ctx:l}),!a&&h&4&&(a=!0,X.value=l[2],fe(()=>a=!1)),r.$set(X);const H={};h&2&&(H.disabled=l[1]===0),h&67108864&&(H.$$scope={dirty:h,ctx:l}),c.$set(H);const W={};h&524292&&(W.disabled=l[19].data&&l[19].data.length!==l[2]),h&67108864&&(W.$$scope={dirty:h,ctx:l}),m.$set(W),u===(u=v(l))&&p?p.p(l,h):(p.d(1),p=u(l),p&&(p.c(),p.m(I,null)))},i(f){C||(y(n),y(r.$$.fragment,f),y(c.$$.fragment,f),y(m.$$.fragment,f),C=!0)},o(f){E(n),E(r.$$.fragment,f),E(c.$$.fragment,f),E(m.$$.fragment,f),C=!1},d(f){f&&d(e),$[t].d(),A(r),A(c),A(m),p.d()}}}function Te(l){let e,t,n,o,s,r=l[8](l[4])+"",a,i,c,b,m,k,I="",C,L,$,R,D,N;return b=new Me({props:{member:{...te,unit_id:l[4]},txt:l[0],limit:l[2],page:l[1]}}),$=new qe({props:{unitId:l[4]}}),$.$on("search",l[9]),D=new Ee({props:{options:l[3],$$slots:{query:[Je,({queryResult:_})=>({19:_}),({queryResult:_})=>_?524288:0]},$$scope:{ctx:l}}}),{c(){e=B(),t=V("section"),n=V("div"),o=V("div"),s=M("Anggota koperasi ("),a=M(r),i=M(")"),c=B(),U(b.$$.fragment),m=B(),k=V("div"),C=M(I),L=B(),U($.$$.fragment),R=B(),U(D.$$.fragment),this.h()},l(_){ke("svelte-1b32ywv",document.head).forEach(d),e=O(_),t=q(_,"SECTION",{class:!0});var u=Q(t);n=q(u,"DIV",{class:!0});var p=Q(n);o=q(p,"DIV",{class:!0});var f=Q(o);s=j(f,"Anggota koperasi ("),a=j(f,r),i=j(f,")"),f.forEach(d),c=O(p),F(b.$$.fragment,p),m=O(p),k=q(p,"DIV",{class:!0});var h=Q(k);C=j(h,I),h.forEach(d),L=O(p),F($.$$.fragment,p),p.forEach(d),R=O(u),F(D.$$.fragment,u),u.forEach(d),this.h()},h(){document.title="Anggota Koperasi - (Kopma - Unwir)",S(o,"class","title svelte-1jevwf2"),S(k,"class","flex-1 svelte-1jevwf2"),S(n,"class","flex-row mb-24 flex-center svelte-1jevwf2"),S(t,"class","mb-10 svelte-1jevwf2")},m(_,v){w(_,e,v),w(_,t,v),g(t,n),g(n,o),g(o,s),g(o,a),g(o,i),g(n,c),K(b,n,null),g(n,m),g(n,k),g(k,C),g(n,L),K($,n,null),g(t,R),K(D,t,null),N=!0},p(_,[v]){(!N||v&16)&&r!==(r=_[8](_[4])+"")&&G(a,r);const u={};v&16&&(u.member={...te,unit_id:_[4]}),v&1&&(u.txt=_[0]),v&4&&(u.limit=_[2]),v&2&&(u.page=_[1]),b.$set(u);const p={};v&16&&(p.unitId=_[4]),$.$set(p);const f={};v&8&&(f.options=_[3]),v&67633159&&(f.$$scope={dirty:v,ctx:_}),D.$set(f)},i(_){N||(y(b.$$.fragment,_),y($.$$.fragment,_),y(D.$$.fragment,_),N=!0)},o(_){E(b.$$.fragment,_),E($.$$.fragment,_),E(D.$$.fragment,_),N=!1},d(_){_&&(d(e),d(t)),A(b),A($),A(D)}}}const Xe="/koperasi/unit/member-list";let ze=!1;const Ge=l=>`${l}`;function He(l,e,t){let n,o,s;Y(l,Z,u=>t(13,o=u)),Y(l,ne,u=>t(4,s=u));const r=Ie();let a=`${s}`,i=0,c=5;const b=async()=>{const{data:u}=await le.get("/koperasi/unit/list-unit");return u},m=async()=>{if(o.length===0){const u=r.getQueryData(["koperasi","units"])??await r.fetchQuery(["koperasi","unit"],()=>b());Z.update(()=>u??[])}},k=u=>{t(1,i=u)},I=async(u="",p=0,f=0)=>{const{data:h}=await le.get(`${Xe}/${a}/${p}/${f}`);return h},C=async u=>{u&&u.length===c&&await r.prefetchQuery(["members",a,{page:i+1,limit:c}],()=>I())},L=u=>u.error?u.error:"",$=u=>{ne.update(()=>u.detail.txt),t(0,a=u.detail.txt.toString()),t(1,i=0)},R=u=>{const p=o.filter(f=>f.id===u)[0];return p?p.name:""};_e(()=>m());const D=u=>$(u);function N(u){c=u,t(2,c)}const _=()=>{k(Math.max(i-1,0))},v=u=>{k(u.data&&ze?i:i+1)};return l.$$.update=()=>{l.$$.dirty&7&&t(3,n={queryKey:["members",a,{page:i,limit:c}],queryFn:()=>I(a,i,c),onSuccess:()=>C})},[a,i,c,n,s,k,L,$,R,D,N,_,v]}class st extends me{constructor(e){super(),pe(this,e,He,Te,ce,{})}}export{st as component};
