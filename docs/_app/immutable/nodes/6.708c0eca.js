import{T as ts,s as Ne,B as ss,C as as,D as ls,E as rs,o as ct,H as Je,f as u,g as d,h as b,d as h,j as f,i as x,v as l,x as ye,l as X,a as N,m as G,c as Q,w as Y,u as re,I as ge,n as me,y as ze,U as ut,p as lt,V as dt,z as Kt,W as st,X as Jt,Q as zt,S as Wt,r as ns}from"../chunks/scheduler.a1a79cf5.js";import{S as Qe,i as Me,a as ke,t as Ie,j as ht,b as Re,d as we,m as Ae,e as Ve,g as Xt,c as Gt}from"../chunks/index.f0883218.js";import{f as Se,g as is}from"../chunks/fetch-api.1021b51e.js";import{e as De,u as rt,d as nt}from"../chunks/each.5046d998.js";import{c as ot}from"../chunks/browser.54b85836.js";import{r as Yt}from"../chunks/index.e7c8a821.js";import{S as Zt,h as os,n as xt,u as yt,i as Et,t as cs,k as us,r as kt,b as It,v as ds,a as hs,c as je,w as fs,l as Ct,x as Dt}from"../chunks/mutation.1fce78fe.js";import{a as vs}from"../chunks/dayjs.min.6559d33b.js";class ps extends Zt{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=[],this.previousSelectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Tt(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return bs(this.currentQuery,this.options)}shouldFetchOnWindowFocus(){return gs(this.currentQuery,this.options)}destroy(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)}setOptions(e,t){const s=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const n=this.hasListeners();n&&Ot(this.currentQuery,i,this.options,s)&&this.executeFetch(),this.updateResult(t),n&&(this.currentQuery!==i||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();const r=this.computeRefetchInterval();n&&(this.currentQuery!==i||this.options.enabled!==s.enabled||r!==this.currentRefetchInterval)&&this.updateRefetchInterval(r)}updateOptions(e,t){const s=Object.assign(Object.assign({},this.options),e);e.queryKey&&!e.queryHash&&e.queryKey!==this.options.queryKey&&(s.queryHash=os(e.queryKey,s)),this.setOptions(s,t)}getOptimisticResult(e){const t=this.client.defaultQueryObserverOptions(e),s=this.client.getQueryCache().build(this.client,t);return this.createResult(s,t)}getCurrentResult(){return this.currentResult}trackResult(e,t){const s={},i=n=>{this.trackedProps.includes(n)||this.trackedProps.push(n)};return Object.keys(e).forEach(n=>{Object.defineProperty(s,n,{configurable:!1,enumerable:!0,get:()=>(i(n),e[n])})}),(t.useErrorBoundary||t.suspense)&&i("error"),s}getNextResult(e){return new Promise((t,s)=>{const i=this.subscribe(n=>{n.isFetching||(i(),n.isError&&(e!=null&&e.throwOnError)?s(n.error):t(n))})})}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch(e){return this.fetch(Object.assign(Object.assign({},e),{meta:{refetchPage:e==null?void 0:e.refetchPage}}))}fetchOptimistic(e){const t=this.client.defaultQueryObserverOptions(e),s=this.client.getQueryCache().build(this.client,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.executeFetch(e).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(xt)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),yt||this.currentResult.isStale||!Et(this.options.staleTime))return;const t=cs(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!==null&&e!==void 0?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(yt||this.options.enabled===!1||!Et(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||us.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearTimers(){this.clearStaleTimeout(),this.clearRefetchInterval()}clearStaleTimeout(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0}clearRefetchInterval(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0}createResult(e,t){var s;const i=this.currentQuery,n=this.options,r=this.currentResult,o=this.currentResultState,c=this.currentResultOptions,p=e!==i,v=p?e.state:this.currentQueryInitialState,m=p?this.currentResult:this.previousQueryResult,{state:_}=e;let{dataUpdatedAt:y,error:D,errorUpdatedAt:E,isFetching:S,status:O}=_,w=!1,k=!1,g;if(t.optimisticResults){const C=this.hasListeners(),V=!C&&Tt(e,t),U=C&&Ot(e,i,t,n);(V||U)&&(S=!0,y||(O="loading"))}if(t.keepPreviousData&&!_.dataUpdateCount&&(m!=null&&m.isSuccess)&&O!=="error")g=m.data,y=m.dataUpdatedAt,O=m.status,w=!0;else if(t.select&&typeof _.data<"u")if(r&&_.data===(o==null?void 0:o.data)&&t.select===((s=this.previousSelect)===null||s===void 0?void 0:s.fn)&&!this.previousSelectError)g=this.previousSelect.result;else try{g=t.select(_.data),t.structuralSharing!==!1&&(g=kt(r==null?void 0:r.data,g)),this.previousSelect={fn:t.select,result:g},this.previousSelectError=null}catch(C){It().error(C),D=C,this.previousSelectError=C,E=Date.now(),O="error"}else g=_.data;if(typeof t.placeholderData<"u"&&typeof g>"u"&&(O==="loading"||O==="idle")){let C;if(r!=null&&r.isPlaceholderData&&t.placeholderData===(c==null?void 0:c.placeholderData))C=r.data;else if(C=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof C<"u")try{C=t.select(C),t.structuralSharing!==!1&&(C=kt(r==null?void 0:r.data,C)),this.previousSelectError=null}catch(V){It().error(V),D=V,this.previousSelectError=V,E=Date.now(),O="error"}typeof C<"u"&&(O="success",g=C,k=!0)}return{status:O,isLoading:O==="loading",isSuccess:O==="success",isError:O==="error",isIdle:O==="idle",data:g,dataUpdatedAt:y,error:D,errorUpdatedAt:E,failureCount:_.fetchFailureCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>v.dataUpdateCount||_.errorUpdateCount>v.errorUpdateCount,isFetching:S,isRefetching:S&&O!=="loading",isLoadingError:O==="error"&&_.dataUpdatedAt===0,isPlaceholderData:k,isPreviousData:w,isRefetchError:O==="error"&&_.dataUpdatedAt!==0,isStale:We(e,t),refetch:this.refetch,remove:this.remove}}shouldNotifyListeners(e,t){if(!t)return!0;const{notifyOnChangeProps:s,notifyOnChangePropsExclusions:i}=this.options;if(!s&&!i||s==="tracked"&&!this.trackedProps.length)return!0;const n=s==="tracked"?this.trackedProps:s;return Object.keys(e).some(r=>{const o=r,c=e[o]!==t[o],p=n==null?void 0:n.some(m=>m===r),v=i==null?void 0:i.some(m=>m===r);return c&&!v&&(!n||p)})}updateResult(e){const t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,ds(this.currentResult,t))return;const s={cache:!0};(e==null?void 0:e.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,t)&&(s.listeners=!0),this.notify(Object.assign(Object.assign({},s),e))}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!0:e.type==="error"&&!hs(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){je.batch(()=>{var t,s,i,n,r,o,c,p;e.onSuccess?((s=(t=this.options).onSuccess)===null||s===void 0||s.call(t,this.currentResult.data),(n=(i=this.options).onSettled)===null||n===void 0||n.call(i,this.currentResult.data,null)):e.onError&&((o=(r=this.options).onError)===null||o===void 0||o.call(r,this.currentResult.error),(p=(c=this.options).onSettled)===null||p===void 0||p.call(c,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(v=>{v(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function ms(a,e){return e.enabled!==!1&&!a.state.dataUpdatedAt&&!(a.state.status==="error"&&e.retryOnMount===!1)}function _s(a,e){return e.enabled!==!1&&a.state.dataUpdatedAt>0&&(e.refetchOnMount==="always"||e.refetchOnMount!==!1&&We(a,e))}function Tt(a,e){return ms(a,e)||_s(a,e)}function bs(a,e){return e.enabled!==!1&&(e.refetchOnReconnect==="always"||e.refetchOnReconnect!==!1&&We(a,e))}function gs(a,e){return e.enabled!==!1&&(e.refetchOnWindowFocus==="always"||e.refetchOnWindowFocus!==!1&&We(a,e))}function Ot(a,e,t,s){return t.enabled!==!1&&(a!==e||s.enabled===!1)&&(!t.suspense||a.state.status!=="error")&&We(a,t)}function We(a,e){return a.isStaleByTime(e.staleTime)}class ys extends Zt{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){this.options=this.client.defaultMutationOptions(e)}onUnsubscribe(){var e;this.listeners.length||(e=this.currentMutation)===null||e===void 0||e.removeObserver(this)}onMutationUpdate(e){this.updateResult();const t={listeners:!0};e.type==="success"?t.onSuccess=!0:e.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object.assign(Object.assign({},this.options),{variables:typeof e<"u"?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:fs(),t=Object.assign(Object.assign({},e),{isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=t}notify(e){je.batch(()=>{var t,s,i,n,r,o,c,p;this.mutateOptions&&(e.onSuccess?((s=(t=this.mutateOptions).onSuccess)===null||s===void 0||s.call(t,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(n=(i=this.mutateOptions).onSettled)===null||n===void 0||n.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&((o=(r=this.mutateOptions).onError)===null||o===void 0||o.call(r,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(p=(c=this.mutateOptions).onSettled)===null||p===void 0||p.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))),e.listeners&&this.listeners.forEach(v=>{v(this.currentResult)})})}}function Xe(){const a=ts("queryClient");if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a}function St(a){return a.optimisticResults=!0,a.onError&&(a.onError=je.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=je.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=je.batchCalls(a.onSettled)),a}function $t(a,e,t){const s=Ct(a,e,t),i=Xe();let n=i.defaultQueryObserverOptions(s);n=St(n);const r=new ps(i,n),{subscribe:o}=Yt(r.getCurrentResult(),m=>r.subscribe(je.batchCalls(m)));r.updateResult();function c(m,_,y){const D=Ct(m,_,y);let E=i.defaultQueryObserverOptions(D);E=St(E),r.hasListeners()&&r.setOptions(E,{listeners:!1})}function p(m){r.updateOptions(m)}function v(m){p({enabled:m})}return{subscribe:o,setOptions:c,updateOptions:p,setEnabled:v}}const Es=a=>({queryResult:a&1}),Rt=a=>({queryResult:a[0]});function ks(a){let e;const t=a[6].query,s=ss(t,a,a[5],Rt);return{c(){s&&s.c()},l(i){s&&s.l(i)},m(i,n){s&&s.m(i,n),e=!0},p(i,[n]){s&&s.p&&(!e||n&33)&&as(s,t,i,i[5],e?rs(t,i[5],n,Es):ls(i[5]),Rt)},i(i){e||(ke(s,i),e=!0)},o(i){Ie(s,i),e=!1},d(i){s&&s.d(i)}}}function Is(a,e,t){let s,{$$slots:i={},$$scope:n}=e,{options:r}=e,{queryResult:o=void 0}=e,c=!0;ct(()=>{t(3,c=!1)});const p=$t(r);return Je(a,p,v=>t(4,s=v)),a.$$set=v=>{"options"in v&&t(2,r=v.options),"queryResult"in v&&t(0,o=v.queryResult),"$$scope"in v&&t(5,n=v.$$scope)},a.$$.update=()=>{a.$$.dirty&16&&t(0,o=s),a.$$.dirty&12&&(c||p.setOptions(r))},[o,p,r,c,s,n,i]}class Cs extends Qe{constructor(e){super(),Me(this,e,Is,ks,Ne,{options:2,queryResult:0})}}const es=Cs;function at(a,e,t){const s=Dt(a,e,t),i=Xe(),n=new ys(i,s),r=(m,_)=>{n.mutate(m,_).catch(xt)},o=n.getCurrentResult(),c=Object.assign(Object.assign({},o),{mutate:r,mutateAsync:o.mutate}),{subscribe:p}=Yt(c,m=>n.subscribe(je.batchCalls(_=>{n.hasListeners()&&m(Object.assign(Object.assign({},_),{mutate:r,mutateAsync:_.mutate}))})));function v(m,_,y){if(n.hasListeners()){const D=Dt(m,_,y);n.setOptions(D)}}return{subscribe:p,setOptions:v}}function wt(a,e,t){const s=a.slice();return s[3]=e[t],s}function At(a,e){let t,s,i=e[3].name+"",n,r,o,c,p;function v(){return e[2](e[3])}return{key:a,first:null,c(){t=u("li"),s=u("a"),n=X(i),o=N(),this.h()},l(m){t=d(m,"LI",{});var _=b(t);s=d(_,"A",{href:!0,class:!0});var y=b(s);n=G(y,i),y.forEach(h),o=Q(_),_.forEach(h),this.h()},h(){f(s,"href","#"+e[3].id),f(s,"class",r=e[3].id===e[0]?"is-active":""),this.first=t},m(m,_){x(m,t,_),l(t,s),l(s,n),l(t,o),c||(p=Y(s,"click",v),c=!0)},p(m,_){e=m,_&1&&r!==(r=e[3].id===e[0]?"is-active":"")&&f(s,"class",r)},d(m){m&&h(t),c=!1,p()}}}function Ds(a){let e,t,s=[],i=new Map,n=De(a[1]);const r=o=>o[3].id;for(let o=0;o<n.length;o+=1){let c=wt(a,n,o),p=r(c);i.set(p,s[o]=At(p,c))}return{c(){e=u("aside"),t=u("ul");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=d(o,"ASIDE",{class:!0});var c=b(e);t=d(c,"UL",{class:!0});var p=b(t);for(let v=0;v<s.length;v+=1)s[v].l(p);p.forEach(h),c.forEach(h),this.h()},h(){f(t,"class","menu-list"),f(e,"class","menu")},m(o,c){x(o,e,c),l(e,t);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(t,null)},p(o,[c]){c&3&&(n=De(o[1]),s=rt(s,c,r,1,o,n,i,t,nt,At,null,wt))},i:ye,o:ye,d(o){o&&h(e);for(let c=0;c<s.length;c+=1)s[c].d()}}}function Ts(a,e,t){const s=[{id:1,name:"Customer"},{id:2,name:"Cabang"},{id:3,name:"Import"}];let{currentMenu:i=1}=e;const n=r=>t(0,i=r.id);return a.$$set=r=>{"currentMenu"in r&&t(0,i=r.currentMenu)},[i,s,n]}class Os extends Qe{constructor(e){super(),Me(this,e,Ts,Ds,Ne,{currentMenu:0})}}function Ss(a){let e,t,s,i,n,r,o,c=a[0].id===0?"Cabang Baru":"Cabang "+a[0].name,p,v,m,_,y,D,E,S,O="Nama",w,k,g,I,C,V,U="Alamat",K,z,P,H,T,M,R,q,j,W="Cancel",B,A,F,L,ie,oe;return{c(){e=u("div"),t=u("div"),s=u("div"),i=N(),n=u("div"),r=u("header"),o=u("p"),p=X(c),v=N(),m=u("button"),_=N(),y=u("section"),D=u("div"),E=u("label"),S=u("span"),S.textContent=O,w=N(),k=u("input"),g=N(),I=u("div"),C=u("label"),V=u("span"),V.textContent=U,K=N(),z=u("input"),P=N(),H=u("footer"),T=u("div"),M=u("div"),R=N(),q=u("div"),j=u("button"),j.textContent=W,B=N(),A=u("button"),F=X("Save"),this.h()},l($){e=d($,"DIV",{});var ce=b(e);t=d(ce,"DIV",{class:!0});var ve=b(t);s=d(ve,"DIV",{class:!0}),b(s).forEach(h),i=Q(ve),n=d(ve,"DIV",{class:!0});var ne=b(n);r=d(ne,"HEADER",{class:!0});var be=b(r);o=d(be,"P",{class:!0});var de=b(o);p=G(de,c),de.forEach(h),v=Q(be),m=d(be,"BUTTON",{class:!0,"aria-label":!0}),b(m).forEach(h),be.forEach(h),_=Q(ne),y=d(ne,"SECTION",{class:!0});var ue=b(y);D=d(ue,"DIV",{class:!0});var Ee=b(D);E=d(Ee,"LABEL",{});var he=b(E);S=d(he,"SPAN",{class:!0,"data-svelte-h":!0}),re(S)!=="svelte-zhk08k"&&(S.textContent=O),w=Q(he),k=d(he,"INPUT",{type:!0,class:!0,placeholder:!0}),he.forEach(h),Ee.forEach(h),g=Q(ue),I=d(ue,"DIV",{class:!0});var _e=b(I);C=d(_e,"LABEL",{class:!0});var ae=b(C);V=d(ae,"SPAN",{class:!0,"data-svelte-h":!0}),re(V)!=="svelte-rl919z"&&(V.textContent=U),K=Q(ae),z=d(ae,"INPUT",{type:!0,class:!0,placeholder:!0}),ae.forEach(h),_e.forEach(h),ue.forEach(h),P=Q(ne),H=d(ne,"FOOTER",{class:!0});var Ce=b(H);T=d(Ce,"DIV",{class:!0});var te=b(T);M=d(te,"DIV",{class:!0}),b(M).forEach(h),R=Q(te),q=d(te,"DIV",{class:!0});var J=b(q);j=d(J,"BUTTON",{class:!0,"data-svelte-h":!0}),re(j)!=="svelte-10tfac"&&(j.textContent=W),B=Q(J),A=d(J,"BUTTON",{class:!0});var ee=b(A);F=G(ee,"Save"),ee.forEach(h),J.forEach(h),te.forEach(h),Ce.forEach(h),ne.forEach(h),ve.forEach(h),ce.forEach(h),this.h()},h(){f(s,"class","modal-background"),f(o,"class","modal-card-title"),f(m,"class","delete has-background-danger-dark"),f(m,"aria-label","close"),f(r,"class","modal-card-head"),f(S,"class","label is-small"),f(k,"type","text"),f(k,"class","input is-primary"),f(k,"placeholder","Nama cabang"),f(D,"class","block"),f(V,"class","label is-small"),f(z,"type","text"),f(z,"class","input is-info"),f(z,"placeholder","Alamat cabang"),f(C,"class","block"),f(I,"class","block"),f(y,"class","modal-card-body"),f(M,"class","is-flex-grow-1"),f(j,"class","button is-outlined is-link"),A.disabled=a[2],f(A,"class","button is-primary"),f(q,"class","buttons is-flex-grow-0"),f(T,"class","is-flex is-flex-direction-row container"),f(H,"class","modal-card-foot"),f(n,"class","modal-card"),f(t,"class",L="modal "+a[1])},m($,ce){x($,e,ce),l(e,t),l(t,s),l(t,i),l(t,n),l(n,r),l(r,o),l(o,p),l(r,v),l(r,m),l(n,_),l(n,y),l(y,D),l(D,E),l(E,S),l(E,w),l(E,k),ge(k,a[0].name),l(y,g),l(y,I),l(I,C),l(C,V),l(C,K),l(C,z),ge(z,a[0].address),l(n,P),l(n,H),l(H,T),l(T,M),l(T,R),l(T,q),l(q,j),l(q,B),l(q,A),l(A,F),ie||(oe=[Y(s,"click",a[4]),Y(m,"click",a[5]),Y(k,"input",a[6]),Y(z,"input",a[7]),Y(j,"click",a[8]),Y(A,"click",a[9])],ie=!0)},p($,[ce]){ce&1&&c!==(c=$[0].id===0?"Cabang Baru":"Cabang "+$[0].name)&&me(p,c),ce&1&&k.value!==$[0].name&&ge(k,$[0].name),ce&1&&z.value!==$[0].address&&ge(z,$[0].address),ce&4&&(A.disabled=$[2]),ce&2&&L!==(L="modal "+$[1])&&f(t,"class",L)},i:ye,o:ye,d($){$&&h(e),ie=!1,ze(oe)}}}function Rs(a,e,t){let s;const i=ut();let{isActive:n=""}=e,{data:r}=e;const o=()=>t(1,n=""),c=()=>t(1,n="");function p(){r.name=this.value,t(0,r)}function v(){r.address=this.value,t(0,r)}const m=()=>t(1,n=""),_=()=>i("onSave",r);return a.$$set=y=>{"isActive"in y&&t(1,n=y.isActive),"data"in y&&t(0,r=y.data)},a.$$.update=()=>{a.$$.dirty&1&&t(2,s=r.name.trim().length===0||r.address.trim().length===0)},[r,n,s,i,o,c,p,v,m,_]}class ws extends Qe{constructor(e){super(),Me(this,e,Rs,Ss,Ne,{isActive:1,data:0})}}function Vt(a,e,t){const s=a.slice();return s[18]=e[t],s}function As(a){let e,t=[],s=new Map,i=De(a[17].data??[]);const n=r=>r[18].id;for(let r=0;r<i.length;r+=1){let o=Vt(a,i,r),c=n(o);s.set(c,t[r]=Nt(c,o))}return{c(){e=u("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var o=b(e);for(let c=0;c<t.length;c+=1)t[c].l(o);o.forEach(h),this.h()},h(){f(e,"class","container")},m(r,o){x(r,e,o);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null)},p(r,o){o&131075&&(i=De(r[17].data??[]),t=rt(t,o,n,1,r,i,s,e,nt,Nt,null,Vt))},d(r){r&&h(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Vs(a){let e,t="Loading branch...";return{c(){e=u("div"),e.textContent=t},l(s){e=d(s,"DIV",{"data-svelte-h":!0}),re(e)!=="svelte-u90sd0"&&(e.textContent=t)},m(s,i){x(s,e,i)},p:ye,d(s){s&&h(e)}}}function Nt(a,e){let t,s,i,n,r=e[18].name+"",o,c,p,v=e[18].address+"",m,_,y,D,E="Edit",S,O,w;function k(){return e[7](e[18])}return{key:a,first:null,c(){t=u("hr"),s=N(),i=u("div"),n=u("div"),o=X(r),c=N(),p=u("div"),m=X(v),_=N(),y=u("div"),D=u("button"),D.textContent=E,S=N(),this.h()},l(g){t=d(g,"HR",{class:!0}),s=Q(g),i=d(g,"DIV",{class:!0});var I=b(i);n=d(I,"DIV",{class:!0});var C=b(n);o=G(C,r),C.forEach(h),c=Q(I),p=d(I,"DIV",{class:!0});var V=b(p);m=G(V,v),V.forEach(h),_=Q(I),y=d(I,"DIV",{class:!0});var U=b(y);D=d(U,"BUTTON",{class:!0,"data-svelte-h":!0}),re(D)!=="svelte-5ooks2"&&(D.textContent=E),U.forEach(h),S=Q(I),I.forEach(h),this.h()},h(){f(t,"class","p-0 m-0 my-2"),f(n,"class","column py-0 has-text-weight-bold"),f(p,"class","column is-8 py-0"),f(D,"class","button is-small is-link is-outlined"),f(y,"class","column py-0 is-narrow"),f(i,"class","columns p-0 m-0"),this.first=t},m(g,I){x(g,t,I),x(g,s,I),x(g,i,I),l(i,n),l(n,o),l(i,c),l(i,p),l(p,m),l(i,_),l(i,y),l(y,D),l(i,S),O||(w=Y(D,"click",k),O=!0)},p(g,I){e=g,I&131072&&r!==(r=e[18].name+"")&&me(o,r),I&131072&&v!==(v=e[18].address+"")&&me(m,v)},d(g){g&&(h(t),h(s),h(i)),O=!1,w()}}}function Ns(a){let e;function t(n,r){return n[17].status==="loading"?Vs:As}let s=t(a),i=s(a);return{c(){e=u("div"),i.c(),this.h()},l(n){e=d(n,"DIV",{slot:!0});var r=b(e);i.l(r),r.forEach(h),this.h()},h(){f(e,"slot","query")},m(n,r){x(n,e,r),i.m(e,null)},p(n,r){s===(s=t(n))&&i?i.p(n,r):(i.d(1),i=s(n),i&&(i.c(),i.m(e,null)))},d(n){n&&h(e),i.d()}}}function Qs(a){let e,t,s="Cabang",i,n,r,o,c,p,v,m="+ New",_,y,D,E,S,O;n=new es({props:{options:a[2],$$slots:{query:[Ns,({queryResult:g})=>({17:g}),({queryResult:g})=>g?131072:0]},$$scope:{ctx:a}}});function w(g){a[9](g)}let k={data:{...a[0]}};return a[1]!==void 0&&(k.isActive=a[1]),y=new ws({props:k}),lt.push(()=>ht(y,"isActive",w)),y.$on("onSave",a[6]),{c(){e=u("div"),t=u("div"),t.textContent=s,i=N(),Re(n.$$.fragment),r=N(),o=u("hr"),c=N(),p=u("div"),v=u("button"),v.textContent=m,_=N(),Re(y.$$.fragment),this.h()},l(g){e=d(g,"DIV",{class:!0});var I=b(e);t=d(I,"DIV",{class:!0,"data-svelte-h":!0}),re(t)!=="svelte-2a0ajw"&&(t.textContent=s),i=Q(I),we(n.$$.fragment,I),r=Q(I),o=d(I,"HR",{class:!0}),c=Q(I),p=d(I,"DIV",{class:!0});var C=b(p);v=d(C,"BUTTON",{class:!0,"data-svelte-h":!0}),re(v)!=="svelte-1uu56oi"&&(v.textContent=m),C.forEach(h),_=Q(I),we(y.$$.fragment,I),I.forEach(h),this.h()},h(){f(t,"class","subtitle block"),f(o,"class","p-0 m-0 my-2"),f(v,"class","button is-success"),f(p,"class","block mt-3"),f(e,"class","container fluid")},m(g,I){x(g,e,I),l(e,t),l(e,i),Ae(n,e,null),l(e,r),l(e,o),l(e,c),l(e,p),l(p,v),l(e,_),Ae(y,e,null),E=!0,S||(O=Y(v,"click",a[8]),S=!0)},p(g,[I]){const C={};I&4&&(C.options=g[2]),I&2228227&&(C.$$scope={dirty:I,ctx:g}),n.$set(C);const V={};I&1&&(V.data={...g[0]}),!D&&I&2&&(D=!0,V.isActive=g[1],dt(()=>D=!1)),y.$set(V)},i(g){E||(ke(n.$$.fragment,g),ke(y.$$.fragment,g),E=!0)},o(g){Ie(n.$$.fragment,g),Ie(y.$$.fragment,g),E=!1},d(g){g&&h(e),Ve(n),Ve(y),S=!1,O()}}}function Ms(a,e,t){let s,i,n;const r=Xe(),o=async()=>await Se.get("/v2/pdam/branch/").json(),c=async k=>await Se.headers({"Content-Type":"application/json",Accept:"application/json"}).put(k,`/v2/pdam/branch/${k.id}`).json(),v=at(async k=>await Se.headers({"Content-Type":"application/json",Accept:"application/json"}).post(k,"/v2/pdam/branch/").json(),{onMutate:async k=>{await r.cancelQueries();const g=r.getQueryData(["pdam","branch","list"]);return g&&r.setQueryData(["pdam","branch","list"],[...g]),g},onSuccess:async(k,g,I)=>{setTimeout(()=>{},1e3)},onError:(k,g,I)=>{I!=null&&I.previousData&&r.setQueryData(["pdam","branch","list"],I.previousData)},onSettled:async(k,g,I,C)=>{await r.invalidateQueries(["pdam","branch","list"])}});Je(a,v,k=>t(12,n=k));const m=at(c,{onMutate:async k=>{await r.cancelQueries();const g=r.getQueryData(["pdam","branch","list"]);return g&&r.setQueryData(["pdam","branch","list"],g),g},onSuccess:async(k,g,I)=>{setTimeout(()=>{},1e3)},onError:(k,g,I)=>{I!=null&&I.previousData&&r.setQueryData(["pdam","branch","list"],I.previousData)},onSettled:async(k,g,I,C)=>{await r.invalidateQueries(["pdam","branch","list"])}});Je(a,m,k=>t(11,i=k));const _={id:0,name:"",address:""};let y=_,D="";function E(k){const g=k.detail;g.id===0?n.mutate(g):i.mutate(g),t(1,D="")}const S=k=>{t(0,y=k),t(1,D="is-active")},O=()=>{t(0,y={..._}),t(1,D="is-active")};function w(k){D=k,t(1,D)}return t(2,s={queryKey:["pdam","branch","list"],queryFn:()=>o(),keepPreviousData:!0}),[y,D,s,v,m,_,E,S,O,w]}class Ps extends Qe{constructor(e){super(),Me(this,e,Ms,Qs,Ne,{})}}function Qt(a,e,t){const s=a.slice();return s[16]=e[t],s}function Mt(a,e){let t,s=e[16].name+"",i,n;return{key:a,first:null,c(){t=u("option"),i=X(s),this.h()},l(r){t=d(r,"OPTION",{});var o=b(t);i=G(o,s),o.forEach(h),this.h()},h(){t.__value=n=e[16].id,ge(t,t.__value),this.first=t},m(r,o){x(r,t,o),l(t,i)},p(r,o){e=r,o&4&&s!==(s=e[16].name+"")&&me(i,s),o&4&&n!==(n=e[16].id)&&(t.__value=n,ge(t,t.__value))},d(r){r&&h(t)}}}function Us(a){let e,t,s,i,n,r,o=(a[0].isNew?"Pelanggan Baru":a[0].name)+"",c,p,v,m,_,y,D,E,S="Nama",O,w,k,g,I,C,V,U,K="No. SL",z,P,H,T,M,R,q="Cabang",j,W,B,A=[],F=new Map,L,ie,oe,$,ce="Alamat",ve,ne,be,de,ue,Ee,he,_e,ae,Ce="Cancel",te,J,ee,le,Te,Fe,Pe=De(a[2]);const Ue=Z=>Z[16].id;for(let Z=0;Z<Pe.length;Z+=1){let se=Qt(a,Pe,Z),pe=Ue(se);F.set(pe,A[Z]=Mt(pe,se))}return{c(){e=u("div"),t=u("div"),s=N(),i=u("div"),n=u("header"),r=u("p"),c=X(o),p=N(),v=u("button"),m=N(),_=u("section"),y=u("div"),D=u("label"),E=u("span"),E.textContent=S,O=N(),w=u("input"),k=N(),g=u("div"),I=u("div"),C=u("div"),V=u("label"),U=u("span"),U.textContent=K,z=N(),P=u("input"),H=N(),T=u("div"),M=u("label"),R=u("span"),R.textContent=q,j=N(),W=u("div"),B=u("select");for(let Z=0;Z<A.length;Z+=1)A[Z].c();L=N(),ie=u("div"),oe=u("label"),$=u("span"),$.textContent=ce,ve=N(),ne=u("textarea"),be=N(),de=u("footer"),ue=u("div"),Ee=u("div"),he=N(),_e=u("div"),ae=u("button"),ae.textContent=Ce,te=N(),J=u("button"),ee=X("Save"),this.h()},l(Z){e=d(Z,"DIV",{class:!0});var se=b(e);t=d(se,"DIV",{class:!0}),b(t).forEach(h),s=Q(se),i=d(se,"DIV",{class:!0});var pe=b(i);n=d(pe,"HEADER",{class:!0});var Oe=b(n);r=d(Oe,"P",{class:!0});var He=b(r);c=G(He,o),He.forEach(h),p=Q(Oe),v=d(Oe,"BUTTON",{class:!0,"aria-label":!0}),b(v).forEach(h),Oe.forEach(h),m=Q(pe),_=d(pe,"SECTION",{class:!0});var fe=b(_);y=d(fe,"DIV",{class:!0});var Ke=b(y);D=d(Ke,"LABEL",{});var Le=b(D);E=d(Le,"SPAN",{class:!0,"data-svelte-h":!0}),re(E)!=="svelte-zhk08k"&&(E.textContent=S),O=Q(Le),w=d(Le,"INPUT",{type:!0,maxlength:!0,class:!0,placeholder:!0}),Le.forEach(h),Ke.forEach(h),k=Q(fe),g=d(fe,"DIV",{class:!0});var qe=b(g);I=d(qe,"DIV",{class:!0});var Ge=b(I);C=d(Ge,"DIV",{class:!0});var ft=b(C);V=d(ft,"LABEL",{});var Ye=b(V);U=d(Ye,"SPAN",{class:!0,"data-svelte-h":!0}),re(U)!=="svelte-p9pzvr"&&(U.textContent=K),z=Q(Ye),P=d(Ye,"INPUT",{maxlength:!0,type:!0,class:!0,placeholder:!0}),Ye.forEach(h),ft.forEach(h),H=Q(Ge),T=d(Ge,"DIV",{class:!0});var vt=b(T);M=d(vt,"LABEL",{});var Ze=b(M);R=d(Ze,"SPAN",{class:!0,"data-svelte-h":!0}),re(R)!=="svelte-xv7er7"&&(R.textContent=q),j=Q(Ze),W=d(Ze,"DIV",{class:!0});var pt=b(W);B=d(pt,"SELECT",{});var mt=b(B);for(let it=0;it<A.length;it+=1)A[it].l(mt);mt.forEach(h),pt.forEach(h),Ze.forEach(h),vt.forEach(h),Ge.forEach(h),qe.forEach(h),L=Q(fe),ie=d(fe,"DIV",{class:!0});var _t=b(ie);oe=d(_t,"LABEL",{class:!0});var xe=b(oe);$=d(xe,"SPAN",{class:!0,"data-svelte-h":!0}),re($)!=="svelte-rl919z"&&($.textContent=ce),ve=Q(xe),ne=d(xe,"TEXTAREA",{maxlength:!0,rows:!0,class:!0,placeholder:!0}),b(ne).forEach(h),xe.forEach(h),_t.forEach(h),fe.forEach(h),be=Q(pe),de=d(pe,"FOOTER",{class:!0});var bt=b(de);ue=d(bt,"DIV",{class:!0});var $e=b(ue);Ee=d($e,"DIV",{class:!0}),b(Ee).forEach(h),he=Q($e),_e=d($e,"DIV",{class:!0});var et=b(_e);ae=d(et,"BUTTON",{class:!0,"data-svelte-h":!0}),re(ae)!=="svelte-1ucskx2"&&(ae.textContent=Ce),te=Q(et),J=d(et,"BUTTON",{class:!0});var gt=b(J);ee=G(gt,"Save"),gt.forEach(h),et.forEach(h),$e.forEach(h),bt.forEach(h),pe.forEach(h),se.forEach(h),this.h()},h(){f(t,"class","modal-background"),f(r,"class","modal-card-title"),f(v,"class","delete has-background-danger-dark"),f(v,"aria-label","close"),f(n,"class","modal-card-head"),f(E,"class","label is-small"),f(w,"type","text"),f(w,"maxlength",50),f(w,"class","input is-primary"),f(w,"placeholder","Nama pelanggan"),f(y,"class","block"),f(U,"class","label is-small"),f(P,"maxlength",10),f(P,"type","text"),f(P,"class","input is-primary"),f(P,"placeholder","No SL pelanggan"),f(C,"class","column"),f(R,"class","label is-small"),a[0].branchId===void 0&&Kt(()=>a[11].call(B)),f(W,"class","select is-primary is-fullwidth"),f(T,"class","column is-narrow"),f(I,"class","columns"),f(g,"class","block"),f($,"class","label is-small"),f(ne,"maxlength",128),f(ne,"rows","2"),f(ne,"class","textarea is-info py-1 pb-2"),f(ne,"placeholder","Alamat pelanggan"),f(oe,"class","block"),f(ie,"class","block"),f(_,"class","modal-card-body"),f(Ee,"class","is-flex-grow-1"),f(ae,"class","button is-outlined is-link"),J.disabled=a[4],f(J,"class","button is-primary"),f(_e,"class","buttons is-flex-grow-0"),f(ue,"class","is-flex is-flex-direction-row container"),f(de,"class","modal-card-foot"),f(i,"class","modal-card"),f(e,"class",le="modal "+a[1]+" px-4")},m(Z,se){x(Z,e,se),l(e,t),l(e,s),l(e,i),l(i,n),l(n,r),l(r,c),l(n,p),l(n,v),l(i,m),l(i,_),l(_,y),l(y,D),l(D,E),l(D,O),l(D,w),ge(w,a[0].name),a[9](w),l(_,k),l(_,g),l(g,I),l(I,C),l(C,V),l(V,U),l(V,z),l(V,P),ge(P,a[0].slId),l(I,H),l(I,T),l(T,M),l(M,R),l(M,j),l(M,W),l(W,B);for(let pe=0;pe<A.length;pe+=1)A[pe]&&A[pe].m(B,null);st(B,a[0].branchId,!0),l(_,L),l(_,ie),l(ie,oe),l(oe,$),l(oe,ve),l(oe,ne),ge(ne,a[0].address),l(i,be),l(i,de),l(de,ue),l(ue,Ee),l(ue,he),l(ue,_e),l(_e,ae),l(_e,te),l(_e,J),l(J,ee),Te||(Fe=[Y(t,"click",a[6]),Y(v,"click",a[7]),Y(w,"input",a[8]),Y(P,"input",a[10]),Y(B,"change",a[11]),Y(ne,"input",a[12]),Y(ae,"click",a[13]),Y(J,"click",a[14])],Te=!0)},p(Z,[se]){se&1&&o!==(o=(Z[0].isNew?"Pelanggan Baru":Z[0].name)+"")&&me(c,o),se&5&&w.value!==Z[0].name&&ge(w,Z[0].name),se&5&&P.value!==Z[0].slId&&ge(P,Z[0].slId),se&4&&(Pe=De(Z[2]),A=rt(A,se,Ue,1,Z,Pe,F,B,nt,Mt,null,Qt)),se&5&&st(B,Z[0].branchId),se&5&&ge(ne,Z[0].address),se&16&&(J.disabled=Z[4]),se&2&&le!==(le="modal "+Z[1]+" px-4")&&f(e,"class",le)},i:ye,o:ye,d(Z){Z&&h(e),a[9](null);for(let se=0;se<A.length;se+=1)A[se].d();Te=!1,ze(Fe)}}}function Ls(a,e,t){let s;const i=ut();let n,{isActive:r=""}=e,{data:o}=e,{branchs:c=[]}=e;ct(async()=>{n.focus(),n.select()});const p=k=>{const g=c.filter(I=>I.id===k)[0];g&&t(0,o.branchName=g.name,o)},v=()=>t(1,r=""),m=()=>t(1,r="");function _(){o.name=this.value,t(0,o),t(2,c)}function y(k){lt[k?"unshift":"push"](()=>{n=k,t(3,n)})}function D(){o.slId=this.value,t(0,o),t(2,c)}function E(){o.branchId=Jt(this),t(0,o),t(2,c)}function S(){o.address=this.value,t(0,o),t(2,c)}const O=()=>t(1,r=""),w=()=>i("onSave",o);return a.$$set=k=>{"isActive"in k&&t(1,r=k.isActive),"data"in k&&t(0,o=k.data),"branchs"in k&&t(2,c=k.branchs)},a.$$.update=()=>{a.$$.dirty&1&&p(o.branchId),a.$$.dirty&1&&t(4,s=o.name.trim().length===0||o.address.trim().length===0||o.branchId===0||o.slId.trim().length===0)},[o,r,c,n,s,i,v,m,_,y,D,E,S,O,w]}class js extends Qe{constructor(e){super(),Me(this,e,Ls,Us,Ne,{isActive:1,data:0,branchs:2})}}function Pt(a,e,t){const s=a.slice();return s[28]=e[t],s}function Ut(a,e,t){const s=a.slice();return s[28]=e[t],s}function qs(a){let e,t=[],s=new Map,i,n,r,o,c,p,v,m,_,y,D,E,S,O,w,k=a[1]+1+"",g,I,C,V,U,K,z,P,H,T,M=De(a[27].data??[]);const R=A=>A[28].slId;for(let A=0;A<M.length;A+=1){let F=Ut(a,M,A),L=R(F);s.set(L,t[A]=Lt(L,F))}let q=De(a[6]),j=[];for(let A=0;A<q.length;A+=1)j[A]=jt(Pt(a,q,A));function W(){return a[16](a[27])}let B=a[27].isFetching&&qt();return{c(){e=u("div");for(let A=0;A<t.length;A+=1)t[A].c();i=N(),n=u("hr"),r=N(),o=u("div"),c=u("div"),p=u("div"),v=u("select");for(let A=0;A<j.length;A+=1)j[A].c();m=N(),_=u("div"),y=u("button"),D=X("< Previous"),S=N(),O=u("div"),w=u("div"),g=X(k),I=N(),C=u("div"),V=u("button"),U=X("Next >"),z=N(),P=u("div"),B&&B.c(),this.h()},l(A){e=d(A,"DIV",{class:!0});var F=b(e);for(let he=0;he<t.length;he+=1)t[he].l(F);F.forEach(h),i=Q(A),n=d(A,"HR",{class:!0}),r=Q(A),o=d(A,"DIV",{class:!0});var L=b(o);c=d(L,"DIV",{class:!0});var ie=b(c);p=d(ie,"DIV",{class:!0});var oe=b(p);v=d(oe,"SELECT",{});var $=b(v);for(let he=0;he<j.length;he+=1)j[he].l($);$.forEach(h),oe.forEach(h),ie.forEach(h),m=Q(L),_=d(L,"DIV",{class:!0});var ce=b(_);y=d(ce,"BUTTON",{class:!0});var ve=b(y);D=G(ve,"< Previous"),ve.forEach(h),ce.forEach(h),S=Q(L),O=d(L,"DIV",{class:!0});var ne=b(O);w=d(ne,"DIV",{class:!0});var be=b(w);g=G(be,k),be.forEach(h),ne.forEach(h),I=Q(L),C=d(L,"DIV",{class:!0});var de=b(C);V=d(de,"BUTTON",{class:!0});var ue=b(V);U=G(ue,"Next >"),ue.forEach(h),de.forEach(h),z=Q(L),P=d(L,"DIV",{class:!0});var Ee=b(P);B&&B.l(Ee),Ee.forEach(h),L.forEach(h),this.h()},h(){f(e,"class","container"),f(n,"class","p-0 m-0 my-2"),a[2]===void 0&&Kt(()=>a[14].call(v)),f(p,"class","select"),f(c,"class","column is-narrow"),y.disabled=E=a[1]===0,f(y,"class","button"),f(_,"class","column is-narrow"),f(w,"class","column"),f(O,"class","column is-narrow"),f(V,"class","button"),V.disabled=K=a[27].data&&a[27].data.length!==a[2],f(C,"class","column is-narrow"),f(P,"class","column"),f(o,"class","columns")},m(A,F){x(A,e,F);for(let L=0;L<t.length;L+=1)t[L]&&t[L].m(e,null);x(A,i,F),x(A,n,F),x(A,r,F),x(A,o,F),l(o,c),l(c,p),l(p,v);for(let L=0;L<j.length;L+=1)j[L]&&j[L].m(v,null);st(v,a[2],!0),l(o,m),l(o,_),l(_,y),l(y,D),l(o,S),l(o,O),l(O,w),l(w,g),l(o,I),l(o,C),l(C,V),l(V,U),l(o,z),l(o,P),B&&B.m(P,null),H||(T=[Y(v,"change",a[14]),Y(y,"click",a[15]),Y(V,"click",W)],H=!0)},p(A,F){if(a=A,F[0]&134217752&&(M=De(a[27].data??[]),t=rt(t,F,R,1,a,M,s,e,nt,Lt,null,Ut)),F[0]&64){q=De(a[6]);let L;for(L=0;L<q.length;L+=1){const ie=Pt(a,q,L);j[L]?j[L].p(ie,F):(j[L]=jt(ie),j[L].c(),j[L].m(v,null))}for(;L<j.length;L+=1)j[L].d(1);j.length=q.length}F[0]&68&&st(v,a[2]),F[0]&2&&E!==(E=a[1]===0)&&(y.disabled=E),F[0]&2&&k!==(k=a[1]+1+"")&&me(g,k),F[0]&134217796&&K!==(K=a[27].data&&a[27].data.length!==a[2])&&(V.disabled=K),a[27].isFetching?B||(B=qt(),B.c(),B.m(P,null)):B&&(B.d(1),B=null)},d(A){A&&(h(e),h(i),h(n),h(r),h(o));for(let F=0;F<t.length;F+=1)t[F].d();zt(j,A),B&&B.d(),H=!1,ze(T)}}}function Bs(a){let e,t="Loading customer...";return{c(){e=u("div"),e.textContent=t},l(s){e=d(s,"DIV",{"data-svelte-h":!0}),re(e)!=="svelte-1kcp520"&&(e.textContent=t)},m(s,i){x(s,e,i)},p:ye,d(s){s&&h(e)}}}function Lt(a,e){let t,s,i,n,r,o=e[28].name+"",c,p,v,m=e[28].slId+"",_,y,D,E=e[28].address+"",S,O,w,k,g=(e[28].branchName??"-")+"",I,C,V,U,K="Edit",z,P,H;function T(){return e[13](e[28])}return{key:a,first:null,c(){t=u("hr"),s=N(),i=u("div"),n=u("div"),r=u("div"),c=X(o),p=N(),v=u("div"),_=X(m),y=N(),D=u("div"),S=X(E),O=N(),w=u("div"),k=u("div"),I=X(g),C=N(),V=u("div"),U=u("button"),U.textContent=K,z=N(),this.h()},l(M){t=d(M,"HR",{class:!0}),s=Q(M),i=d(M,"DIV",{class:!0});var R=b(i);n=d(R,"DIV",{class:!0});var q=b(n);r=d(q,"DIV",{class:!0});var j=b(r);c=G(j,o),j.forEach(h),p=Q(q),v=d(q,"DIV",{class:!0});var W=b(v);_=G(W,m),W.forEach(h),q.forEach(h),y=Q(R),D=d(R,"DIV",{class:!0});var B=b(D);S=G(B,E),B.forEach(h),O=Q(R),w=d(R,"DIV",{class:!0});var A=b(w);k=d(A,"DIV",{class:!0});var F=b(k);I=G(F,g),F.forEach(h),C=Q(A),V=d(A,"DIV",{class:!0});var L=b(V);U=d(L,"BUTTON",{class:!0,"data-svelte-h":!0}),re(U)!=="svelte-1ipzwr1"&&(U.textContent=K),L.forEach(h),A.forEach(h),z=Q(R),R.forEach(h),this.h()},h(){f(t,"class","p-0 m-0 my-2"),f(r,"class","column pb-0 has-text-weight-bold"),f(v,"class","column pb-0 is-narrow"),f(n,"class","column py-0 columns is-mobile"),f(D,"class","column is-5 py-0"),f(k,"class","column"),f(U,"class","button is-small is-link is-outlined"),f(V,"class","column is-narrow"),f(w,"class","column py-0 columns is-narrow is-mobile"),f(i,"class","columns p-0 m-0"),this.first=t},m(M,R){x(M,t,R),x(M,s,R),x(M,i,R),l(i,n),l(n,r),l(r,c),l(n,p),l(n,v),l(v,_),l(i,y),l(i,D),l(D,S),l(i,O),l(i,w),l(w,k),l(k,I),l(w,C),l(w,V),l(V,U),l(i,z),P||(H=Y(U,"click",T),P=!0)},p(M,R){e=M,R[0]&134217728&&o!==(o=e[28].name+"")&&me(c,o),R[0]&134217728&&m!==(m=e[28].slId+"")&&me(_,m),R[0]&134217728&&E!==(E=e[28].address+"")&&me(S,E),R[0]&134217728&&g!==(g=(e[28].branchName??"-")+"")&&me(I,g)},d(M){M&&(h(t),h(s),h(i)),P=!1,H()}}}function jt(a){let e,t=a[28]+"",s;return{c(){e=u("option"),s=X(t),this.h()},l(i){e=d(i,"OPTION",{});var n=b(e);s=G(n,t),n.forEach(h),this.h()},h(){e.__value=a[28],ge(e,e.__value)},m(i,n){x(i,e,n),l(e,s)},p:ye,d(i){i&&h(e)}}}function qt(a){let e;return{c(){e=X("Loading...")},l(t){e=G(t,"Loading...")},m(t,s){x(t,e,s)},d(t){t&&h(e)}}}function Fs(a){let e;function t(n,r){return n[27].status==="loading"?Bs:qs}let s=t(a),i=s(a);return{c(){e=u("div"),i.c(),this.h()},l(n){e=d(n,"DIV",{slot:!0});var r=b(e);i.l(r),r.forEach(h),this.h()},h(){f(e,"slot","query")},m(n,r){x(n,e,r),i.m(e,null)},p(n,r){s===(s=t(n))&&i?i.p(n,r):(i.d(1),i=s(n),i&&(i.c(),i.m(e,null)))},d(n){n&&h(e),i.d()}}}function Bt(a){let e,t,s;function i(r){a[17](r)}let n={branchs:a[0],data:{...a[3]}};return a[4]!==void 0&&(n.isActive=a[4]),e=new js({props:n}),lt.push(()=>ht(e,"isActive",i)),e.$on("onSave",a[10]),{c(){Re(e.$$.fragment)},l(r){we(e.$$.fragment,r)},m(r,o){Ae(e,r,o),s=!0},p(r,o){const c={};o[0]&1&&(c.branchs=r[0]),o[0]&8&&(c.data={...r[3]}),!t&&o[0]&16&&(t=!0,c.isActive=r[4],dt(()=>t=!1)),e.$set(c)},i(r){s||(ke(e.$$.fragment,r),s=!0)},o(r){Ie(e.$$.fragment,r),s=!1},d(r){Ve(e,r)}}}function Hs(a){let e,t,s,i='<div class="subtitle block">Customer</div>',n,r,o,c="+ New",p,v,m,_,y,D;v=new es({props:{options:a[5],$$slots:{query:[Fs,({queryResult:S})=>({27:S}),({queryResult:S})=>[S?134217728:0]]},$$scope:{ctx:a}}});let E=a[4]==="is-active"&&Bt(a);return{c(){e=u("div"),t=u("div"),s=u("div"),s.innerHTML=i,n=N(),r=u("div"),o=u("button"),o.textContent=c,p=N(),Re(v.$$.fragment),m=N(),E&&E.c(),this.h()},l(S){e=d(S,"DIV",{class:!0});var O=b(e);t=d(O,"DIV",{class:!0});var w=b(t);s=d(w,"DIV",{class:!0,"data-svelte-h":!0}),re(s)!=="svelte-s6vxt3"&&(s.innerHTML=i),n=Q(w),r=d(w,"DIV",{class:!0});var k=b(r);o=d(k,"BUTTON",{class:!0,"data-svelte-h":!0}),re(o)!=="svelte-13enxc"&&(o.textContent=c),k.forEach(h),w.forEach(h),p=Q(O),we(v.$$.fragment,O),m=Q(O),E&&E.l(O),O.forEach(h),this.h()},h(){f(s,"class","column"),f(o,"class","button is-success"),f(r,"class","column is-narrow"),f(t,"class","columns"),f(e,"class","container fluid")},m(S,O){x(S,e,O),l(e,t),l(t,s),l(t,n),l(t,r),l(r,o),l(e,p),Ae(v,e,null),l(e,m),E&&E.m(e,null),_=!0,y||(D=Y(o,"click",a[12]),y=!0)},p(S,O){const w={};O[0]&32&&(w.options=S[5]),O[0]&134217758|O[1]&4&&(w.$$scope={dirty:O,ctx:S}),v.$set(w),S[4]==="is-active"?E?(E.p(S,O),O[0]&16&&ke(E,1)):(E=Bt(S),E.c(),ke(E,1),E.m(e,null)):E&&(Xt(),Ie(E,1,1,()=>{E=null}),Gt())},i(S){_||(ke(v.$$.fragment,S),ke(E),_=!0)},o(S){Ie(v.$$.fragment,S),Ie(E),_=!1},d(S){S&&h(e),Ve(v),E&&E.d(),y=!1,D()}}}function Ks(a,e,t){let s,i,n;const r=Xe();let{branchs:o=[]}=e,c=0,p=5,v=[50,25,20,10,5];const m=async(T,M)=>await Se.get(`/v2/pdam/customer/list/${M}/${M*T}`).json(),_=async T=>{T&&T.length===p&&await r.prefetchQuery(["pdam","customer","list",c+1],()=>m(c+1,p))},y=async T=>await Se.headers({"Content-Type":"application/json",Accept:"application/json"}).put(T,`/v2/pdam/customer/${T.oldSlId}`).json(),E=at(async T=>await Se.headers({"Content-Type":"application/json",Accept:"application/json"}).post(T,"/v2/pdam/customer/").json(),{onMutate:async T=>{await r.cancelQueries();const M=r.getQueryData(["pdam","customer","list",c,p]);return M&&r.setQueryData(["pdam","customer","list",c,p],[...M]),M},onSuccess:async(T,M,R)=>{setTimeout(()=>{},1e3)},onError:(T,M,R)=>{R!=null&&R.previousData&&r.setQueryData(["pdam","customer","list",c,p],R.previousData)},onSettled:async(T,M,R,q)=>{await r.invalidateQueries(["pdam","customer","list",c,p])}});Je(a,E,T=>t(20,n=T));const S=at(y,{onMutate:async T=>{await r.cancelQueries();const M=r.getQueryData(["pdam","customer","list",c,p]);return M&&r.setQueryData(["pdam","customer","list",c,p],M),M},onSuccess:async(T,M,R)=>{setTimeout(()=>{},1e3)},onError:(T,M,R)=>{R!=null&&R.previousData&&r.setQueryData(["pdam","customer","list",c,p],R.previousData)},onSettled:async(T,M,R,q)=>{await r.invalidateQueries(["pdam","customer","list",c,p])}});Je(a,S,T=>t(19,i=T));const O={slId:"",name:"",address:"",branchId:0,isNew:!0};let w=O,k="";function g(T){const M=T.detail;M.isNew?n.mutate(M):i.mutate({...M,createdAt:vs().format()}),t(4,k="")}const I=T=>{t(1,c=T)},C=T=>{I(0)},V=()=>{t(3,w={...O}),t(4,k="is-active")},U=T=>{t(3,w={...T,isNew:!1,oldSlId:T.slId}),t(4,k="is-active")};function K(){p=Jt(this),t(2,p),t(6,v)}const z=()=>I(Math.max(c-1,0)),P=T=>{I(T.data&&T.data.length!==p?c:c+1)};function H(T){k=T,t(4,k)}return a.$$set=T=>{"branchs"in T&&t(0,o=T.branchs)},a.$$.update=()=>{a.$$.dirty[0]&4&&C(),a.$$.dirty[0]&6&&t(5,s={queryKey:["pdam","customer","list",c,p],queryFn:()=>m(c,p),onSuccess:()=>_,keepPreviousData:!0})},[o,c,p,w,k,s,v,E,S,O,g,I,V,U,K,z,P,H]}class Js extends Qe{constructor(e){super(),Me(this,e,Ks,Hs,Ne,{branchs:0},null,[-1,-1])}}function zs(a){let e,t,s="Import customer from file",i,n,r,o,c,p,v,m,_,y,D,E,S,O,w,k,g,I,C,V=JSON.stringify({"Jumlah data":a[1].length,data:a[1]},null,2)+"",U,K,z;return{c(){e=u("div"),t=u("div"),t.textContent=s,i=N(),n=u("div"),r=u("div"),o=u("div"),c=u("input"),p=N(),v=u("div"),m=u("span"),_=X("CSV Format ("),y=X(a[0]),D=X(")"),E=N(),S=u("div"),O=u("button"),w=X("Import Now"),g=N(),I=u("div"),C=u("pre"),U=X(V),this.h()},l(P){e=d(P,"DIV",{});var H=b(e);t=d(H,"DIV",{class:!0,"data-svelte-h":!0}),re(t)!=="svelte-o898bm"&&(t.textContent=s),i=Q(H),n=d(H,"DIV",{class:!0});var T=b(n);r=d(T,"DIV",{class:!0});var M=b(r);o=d(M,"DIV",{class:!0});var R=b(o);c=d(R,"INPUT",{type:!0,class:!0,accept:!0}),R.forEach(h),p=Q(M),v=d(M,"DIV",{class:!0});var q=b(v);m=d(q,"SPAN",{});var j=b(m);_=G(j,"CSV Format ("),y=G(j,a[0]),D=G(j,")"),j.forEach(h),q.forEach(h),E=Q(M),S=d(M,"DIV",{class:!0});var W=b(S);O=d(W,"BUTTON",{class:!0});var B=b(O);w=G(B,"Import Now"),B.forEach(h),W.forEach(h),M.forEach(h),g=Q(T),I=d(T,"DIV",{});var A=b(I);C=d(A,"PRE",{});var F=b(C);U=G(F,V),F.forEach(h),A.forEach(h),T.forEach(h),H.forEach(h),this.h()},h(){f(t,"class","subtitle"),f(c,"type","file"),f(c,"class","input"),f(c,"accept","text/csv"),f(o,"class","column"),f(v,"class","column"),O.disabled=k=a[1].length===0,f(O,"class","button is-primary"),f(S,"class","column is-narrow"),f(r,"class","columns"),f(n,"class","block")},m(P,H){x(P,e,H),l(e,t),l(e,i),l(e,n),l(n,r),l(r,o),l(o,c),l(r,p),l(r,v),l(v,m),l(m,_),l(m,y),l(m,D),l(r,E),l(r,S),l(S,O),l(O,w),l(n,g),l(n,I),l(I,C),l(C,U),K||(z=[Y(c,"change",Wt(a[5])),Y(O,"click",a[3])],K=!0)},p(P,[H]){H&1&&me(y,P[0]),H&2&&k!==(k=P[1].length===0)&&(O.disabled=k),H&2&&V!==(V=JSON.stringify({"Jumlah data":P[1].length,data:P[1]},null,2)+"")&&me(U,V)},i:ye,o:ye,d(P){P&&h(e),K=!1,ze(z)}}}function Ws(a,e,t){let{branchs:s=[]}=e,{header:i=""}=e,n=[];const r=ut(),o=m=>{const _=s.filter(y=>y.name===m)[0];return _?_.id:1};function c(m){const _=m.currentTarget;if(_&&_.files&&_.files[0]){const y=_.files[0],D=new FileReader;D.onload=E=>{var O;const S=((O=E.target)==null?void 0:O.result)??"";ot().fromString(S).then(w=>{t(1,n=w.map(k=>({name:k.name,address:k.address,slId:k.noSl,branchId:o(k.city),branchName:k.city})))})},D.readAsText(y,"utf-8")}}async function p(m){const _=await Se.headers({"Content-Type":"application/json",Accept:"application/json"}).url("/v2/pdam/customer/import").post(n).json();_.status==="SUCCESS"&&r("success",_)}const v=m=>c(m);return a.$$set=m=>{"branchs"in m&&t(4,s=m.branchs),"header"in m&&t(0,i=m.header)},[i,n,c,p,s,v]}class Xs extends Qe{constructor(e){super(),Me(this,e,Ws,zs,Ne,{branchs:4,header:0})}}const{document:tt}=is;function Ft(a,e,t){const s=a.slice();return s[28]=e[t],s[29]=e,s[30]=t,s}function Gs(a){let e,t,s,i,n,r="CSV Text",o,c,p,v,m="File",_,y,D,E,S,O,w,k,g,I,C,V,U,K,z,P,H,T,M,R,q="No. SL",j,W,B="NAMA",A,F,L="ALAMAT",ie,oe,$="CABANG",ce,ve,ne="ALAMAT CABANG",be,de,ue,Ee;function he(J,ee){return J[0]==="text"?ea:$s}let _e=he(a),ae=_e(a),Ce=De(a[3]),te=[];for(let J=0;J<Ce.length;J+=1)te[J]=Ht(Ft(a,Ce,J));return{c(){e=u("div"),t=u("div"),s=u("ul"),i=u("li"),n=u("a"),n.textContent=r,c=N(),p=u("li"),v=u("a"),v.textContent=m,y=N(),ae.c(),D=N(),E=u("div"),S=u("button"),O=X("Parse to JSON"),k=N(),g=u("button"),I=X("Download"),V=N(),U=u("div"),K=u("table"),z=u("thead"),P=u("tr"),H=u("th"),T=u("input"),M=N(),R=u("th"),R.textContent=q,j=N(),W=u("th"),W.textContent=B,A=N(),F=u("th"),F.textContent=L,ie=N(),oe=u("th"),oe.textContent=$,ce=N(),ve=u("th"),ve.textContent=ne,be=N(),de=u("tbody");for(let J=0;J<te.length;J+=1)te[J].c();this.h()},l(J){e=d(J,"DIV",{class:!0});var ee=b(e);t=d(ee,"DIV",{class:!0});var le=b(t);s=d(le,"UL",{});var Te=b(s);i=d(Te,"LI",{class:!0});var Fe=b(i);n=d(Fe,"A",{href:!0,"data-svelte-h":!0}),re(n)!=="svelte-q1uj1g"&&(n.textContent=r),Fe.forEach(h),c=Q(Te),p=d(Te,"LI",{class:!0});var Pe=b(p);v=d(Pe,"A",{href:!0,"data-svelte-h":!0}),re(v)!=="svelte-1a2fnp4"&&(v.textContent=m),Pe.forEach(h),Te.forEach(h),le.forEach(h),y=Q(ee),ae.l(ee),D=Q(ee),E=d(ee,"DIV",{class:!0});var Ue=b(E);S=d(Ue,"BUTTON",{class:!0});var Z=b(S);O=G(Z,"Parse to JSON"),Z.forEach(h),k=Q(Ue),g=d(Ue,"BUTTON",{class:!0});var se=b(g);I=G(se,"Download"),se.forEach(h),Ue.forEach(h),V=Q(ee),U=d(ee,"DIV",{class:!0});var pe=b(U);K=d(pe,"TABLE",{class:!0});var Oe=b(K);z=d(Oe,"THEAD",{});var He=b(z);P=d(He,"TR",{});var fe=b(P);H=d(fe,"TH",{});var Ke=b(H);T=d(Ke,"INPUT",{type:!0}),Ke.forEach(h),M=Q(fe),R=d(fe,"TH",{"data-svelte-h":!0}),re(R)!=="svelte-ordyps"&&(R.textContent=q),j=Q(fe),W=d(fe,"TH",{"data-svelte-h":!0}),re(W)!=="svelte-s0ordp"&&(W.textContent=B),A=Q(fe),F=d(fe,"TH",{"data-svelte-h":!0}),re(F)!=="svelte-hx9f2o"&&(F.textContent=L),ie=Q(fe),oe=d(fe,"TH",{"data-svelte-h":!0}),re(oe)!=="svelte-4f99bg"&&(oe.textContent=$),ce=Q(fe),ve=d(fe,"TH",{"data-svelte-h":!0}),re(ve)!=="svelte-1fywyle"&&(ve.textContent=ne),fe.forEach(h),He.forEach(h),be=Q(Oe),de=d(Oe,"TBODY",{});var Le=b(de);for(let qe=0;qe<te.length;qe+=1)te[qe].l(Le);Le.forEach(h),Oe.forEach(h),pe.forEach(h),ee.forEach(h),this.h()},h(){f(n,"href","#"),f(i,"class",o=a[0]==="text"?"is-active":""),f(v,"href","#"),f(p,"class",_=a[0]==="file"?"is-active":""),f(t,"class","tabs is-small is-toggle"),S.disabled=w=a[0]!=="text",f(S,"class","button is-link"),g.disabled=C=!a[6],f(g,"class","button is-primary"),f(E,"class","buttons block"),f(T,"type","checkbox"),f(K,"class","table is-narrow"),f(U,"class","block"),f(e,"class","block")},m(J,ee){x(J,e,ee),l(e,t),l(t,s),l(s,i),l(i,n),l(s,c),l(s,p),l(p,v),l(e,y),ae.m(e,null),l(e,D),l(e,E),l(E,S),l(S,O),l(E,k),l(E,g),l(g,I),l(e,V),l(e,U),l(U,K),l(K,z),l(z,P),l(P,H),l(H,T),T.checked=a[4],l(P,M),l(P,R),l(P,j),l(P,W),l(P,A),l(P,F),l(P,ie),l(P,oe),l(P,ce),l(P,ve),l(K,be),l(K,de);for(let le=0;le<te.length;le+=1)te[le]&&te[le].m(de,null);ue||(Ee=[Y(n,"click",a[13]),Y(v,"click",a[14]),Y(S,"click",a[17]),Y(g,"click",a[18]),Y(T,"change",a[19]),Y(T,"input",a[20])],ue=!0)},p(J,ee){if(ee&1&&o!==(o=J[0]==="text"?"is-active":"")&&f(i,"class",o),ee&1&&_!==(_=J[0]==="file"?"is-active":"")&&f(p,"class",_),_e===(_e=he(J))&&ae?ae.p(J,ee):(ae.d(1),ae=_e(J),ae&&(ae.c(),ae.m(e,D))),ee&1&&w!==(w=J[0]!=="text")&&(S.disabled=w),ee&64&&C!==(C=!J[6])&&(g.disabled=C),ee&16&&(T.checked=J[4]),ee&8){Ce=De(J[3]);let le;for(le=0;le<Ce.length;le+=1){const Te=Ft(J,Ce,le);te[le]?te[le].p(Te,ee):(te[le]=Ht(Te),te[le].c(),te[le].m(de,null))}for(;le<te.length;le+=1)te[le].d(1);te.length=Ce.length}},i:ye,o:ye,d(J){J&&h(e),ae.d(),zt(te,J),ue=!1,ze(Ee)}}}function Ys(a){let e,t;return e=new Xs({props:{branchs:a[1],header:Be}}),e.$on("success",a[11]),{c(){Re(e.$$.fragment)},l(s){we(e.$$.fragment,s)},m(s,i){Ae(e,s,i),t=!0},p(s,i){const n={};i&2&&(n.branchs=s[1]),e.$set(n)},i(s){t||(ke(e.$$.fragment,s),t=!0)},o(s){Ie(e.$$.fragment,s),t=!1},d(s){Ve(e,s)}}}function Zs(a){let e,t;return e=new Js({props:{branchs:a[1]}}),{c(){Re(e.$$.fragment)},l(s){we(e.$$.fragment,s)},m(s,i){Ae(e,s,i),t=!0},p(s,i){const n={};i&2&&(n.branchs=s[1]),e.$set(n)},i(s){t||(ke(e.$$.fragment,s),t=!0)},o(s){Ie(e.$$.fragment,s),t=!1},d(s){Ve(e,s)}}}function xs(a){let e,t;return e=new Ps({}),{c(){Re(e.$$.fragment)},l(s){we(e.$$.fragment,s)},m(s,i){Ae(e,s,i),t=!0},p:ye,i(s){t||(ke(e.$$.fragment,s),t=!0)},o(s){Ie(e.$$.fragment,s),t=!1},d(s){Ve(e,s)}}}function $s(a){let e,t,s,i,n,r,o,c,p;return{c(){e=u("div"),t=u("input"),s=N(),i=u("span"),n=X("CSV Format ("),r=X(Be),o=X(")"),this.h()},l(v){e=d(v,"DIV",{class:!0});var m=b(e);t=d(m,"INPUT",{type:!0,class:!0,accept:!0}),s=Q(m),i=d(m,"SPAN",{});var _=b(i);n=G(_,"CSV Format ("),r=G(_,Be),o=G(_,")"),_.forEach(h),m.forEach(h),this.h()},h(){f(t,"type","file"),f(t,"class","mb-4 mt-2"),f(t,"accept","text/csv"),f(e,"class","block")},m(v,m){x(v,e,m),l(e,t),l(e,s),l(e,i),l(i,n),l(i,r),l(i,o),c||(p=Y(t,"change",Wt(a[16])),c=!0)},p:ye,d(v){v&&h(e),c=!1,p()}}}function ea(a){let e,t,s,i,n,r,o,c,p,v;return{c(){e=u("div"),t=u("label"),s=u("span"),i=X("CSV Text (comma delimited) format: ("),n=X(Be),r=X("):"),o=N(),c=u("textarea"),this.h()},l(m){e=d(m,"DIV",{class:!0});var _=b(e);t=d(_,"LABEL",{class:!0});var y=b(t);s=d(y,"SPAN",{});var D=b(s);i=G(D,"CSV Text (comma delimited) format: ("),n=G(D,Be),r=G(D,"):"),D.forEach(h),o=Q(y),c=d(y,"TEXTAREA",{class:!0,rows:!0}),b(c).forEach(h),y.forEach(h),_.forEach(h),this.h()},h(){f(c,"class","textarea svelte-5e1234"),f(c,"rows","6"),f(t,"class","label svelte-5e1234"),f(e,"class","field block")},m(m,_){x(m,e,_),l(e,t),l(t,s),l(s,i),l(s,n),l(s,r),l(t,o),l(t,c),ge(c,a[5]),p||(v=Y(c,"input",a[15]),p=!0)},p(m,_){_&32&&ge(c,m[5])},d(m){m&&h(e),p=!1,v()}}}function Ht(a){let e,t,s,i,n,r=a[28].noSl+"",o,c,p,v=a[28].name+"",m,_,y,D=a[28].address+"",E,S,O,w=a[28].city+"",k,g,I,C=a[28].cabang+"",V,U,K,z;function P(){a[21].call(s,a[29],a[30])}return{c(){e=u("tr"),t=u("td"),s=u("input"),i=N(),n=u("td"),o=X(r),c=N(),p=u("td"),m=X(v),_=N(),y=u("td"),E=X(D),S=N(),O=u("td"),k=X(w),g=N(),I=u("td"),V=X(C),U=N(),this.h()},l(H){e=d(H,"TR",{});var T=b(e);t=d(T,"TD",{});var M=b(t);s=d(M,"INPUT",{type:!0}),M.forEach(h),i=Q(T),n=d(T,"TD",{});var R=b(n);o=G(R,r),R.forEach(h),c=Q(T),p=d(T,"TD",{});var q=b(p);m=G(q,v),q.forEach(h),_=Q(T),y=d(T,"TD",{});var j=b(y);E=G(j,D),j.forEach(h),S=Q(T),O=d(T,"TD",{});var W=b(O);k=G(W,w),W.forEach(h),g=Q(T),I=d(T,"TD",{});var B=b(I);V=G(B,C),B.forEach(h),U=Q(T),T.forEach(h),this.h()},h(){f(s,"type","checkbox")},m(H,T){x(H,e,T),l(e,t),l(t,s),s.checked=a[28].selected,l(e,i),l(e,n),l(n,o),l(e,c),l(e,p),l(p,m),l(e,_),l(e,y),l(y,E),l(e,S),l(e,O),l(O,k),l(e,g),l(e,I),l(I,V),l(e,U),K||(z=Y(s,"change",P),K=!0)},p(H,T){a=H,T&8&&(s.checked=a[28].selected),T&8&&r!==(r=a[28].noSl+"")&&me(o,r),T&8&&v!==(v=a[28].name+"")&&me(m,v),T&8&&D!==(D=a[28].address+"")&&me(E,D),T&8&&w!==(w=a[28].city+"")&&me(k,w),T&8&&C!==(C=a[28].cabang+"")&&me(V,C)},d(H){H&&h(e),K=!1,z()}}}function ta(a){let e,t,s,i,n,r="Kartu PDAM",o,c,p,v,m,_,y,D,E,S;function O(C){a[12](C)}let w={};a[2]!==void 0&&(w.currentMenu=a[2]),v=new Os({props:w}),lt.push(()=>ht(v,"currentMenu",O));const k=[xs,Zs,Ys,Gs],g=[];function I(C,V){return C[2]===2?0:C[2]===1?1:C[2]===3?2:3}return D=I(a),E=g[D]=k[D](a),{c(){e=u("meta"),t=u("meta"),s=N(),i=u("section"),n=u("div"),n.textContent=r,o=N(),c=u("div"),p=u("div"),Re(v.$$.fragment),_=N(),y=u("div"),E.c(),this.h()},l(C){const V=ns("svelte-15hq90y",tt.head);e=d(V,"META",{property:!0,content:!0}),t=d(V,"META",{name:!0,content:!0}),V.forEach(h),s=Q(C),i=d(C,"SECTION",{});var U=b(i);n=d(U,"DIV",{class:!0,"data-svelte-h":!0}),re(n)!=="svelte-14g43s4"&&(n.textContent=r),o=Q(U),c=d(U,"DIV",{class:!0});var K=b(c);p=d(K,"DIV",{class:!0});var z=b(p);we(v.$$.fragment,z),z.forEach(h),_=Q(K),y=d(K,"DIV",{class:!0});var P=b(y);E.l(P),P.forEach(h),K.forEach(h),U.forEach(h),this.h()},h(){f(e,"property","og:description"),f(e,"content","PDAM Card"),tt.title="PDAM Card",f(t,"name","description"),f(t,"content","PDAM Card"),f(n,"class","title"),f(p,"class","column is-narrow is-one-fifth"),f(y,"class","column"),f(c,"class","columns")},m(C,V){l(tt.head,e),l(tt.head,t),x(C,s,V),x(C,i,V),l(i,n),l(i,o),l(i,c),l(c,p),Ae(v,p,null),l(c,_),l(c,y),g[D].m(y,null),S=!0},p(C,[V]){const U={};!m&&V&4&&(m=!0,U.currentMenu=C[2],dt(()=>m=!1)),v.$set(U);let K=D;D=I(C),D===K?g[D].p(C,V):(Xt(),Ie(g[K],1,1,()=>{g[K]=null}),Gt(),E=g[D],E?E.p(C,V):(E=g[D]=k[D](C),E.c()),ke(E,1),E.m(y,null))},i(C){S||(ke(v.$$.fragment,C),ke(E),S=!0)},o(C){Ie(v.$$.fragment,C),Ie(E),S=!1},d(C){C&&(h(s),h(i)),h(e),h(t),Ve(v),g[D].d()}}}let Be="noSl, name, address, city";function sa(a,e,t){var M;let s="text",i=[];const n=Xe();let r=1;const o=[{name:"Jatibarang",address:"Jl. Purna Brata No. 1001 Telp. (0234)  351491"},{name:"Sindang",address:"Jl. Singalodra  - Sindang Telp. (0234) 277564"},{name:"Indramayu",address:"Jl. Tanjungpura No. 197 Kepandean - Indramayu Telp (0234) 7121205"}];let c=[],p=!1,v="",m=!1;const _=R=>o.filter(q=>q.name===R)[0].address;function y(R){const q=R.currentTarget;if(q&&q.files&&q.files[0]){const j=q.files[0],W=new FileReader;W.onload=B=>{var F;const A=((F=B.target)==null?void 0:F.result)??"";ot().fromString(A).then(L=>{t(3,c=L.map(ie=>({...ie,cabang:_(ie.city),selected:!0})))})},W.readAsText(j,"utf-8")}}function D(R){t(3,c=c.map(q=>({...q,selected:!p})))}function E(R){ot().fromString(Be+`
`+v).then(q=>{t(3,c=q.map(j=>({...j,cabang:_(j.city),selected:!0})))})}async function S(R){let q="pdam-card.pdf";const j="/v1/pdam";await Se.headers({Accept:"application/pdf","Content-Type":"application/json"}).url(j).post({data:c.filter(W=>W.selected)}).blob(W=>{var B=window.URL.createObjectURL(W),A=document.createElement("a");A.href=B,A.download=q,A.click(),A.remove(),setTimeout(()=>!1,1e3),window.URL.revokeObjectURL(B)}).catch(W=>{console.log(W)})}const O=async()=>await Se.get("/v2/pdam/branch/").json(),w=$t({queryKey:["pdam","branch","list"],queryFn:async()=>await O()});ct(async()=>{w.subscribe(R=>t(1,i=R.data??[]))});function k(R){n.invalidateQueries(["pdam","customer","list"]),t(2,r=1)}function g(R){r=R,t(2,r)}const I=()=>t(0,s="text"),C=()=>t(0,s="file");function V(){v=this.value,t(5,v)}const U=R=>y(R),K=R=>E(),z=R=>S();function P(){p=this.checked,t(4,p)}const H=R=>D();function T(R,q){R[q].selected=this.checked,t(3,c)}{const R=(M=document.getElementById("username"))==null?void 0:M.innerText;t(6,m=R==="mastur.st12@outlook.com")}return[s,i,r,c,p,v,m,y,D,E,S,k,g,I,C,V,U,K,z,P,H,T]}class da extends Qe{constructor(e){super(),Me(this,e,sa,ta,Ne,{})}}export{da as component};
