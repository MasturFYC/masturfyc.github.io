import{s as Ge,n as ke,r as Ke}from"../chunks/scheduler.95ca1de1.js";import{S as ze,i as Xe,g as s,s as k,m as R,x as Ye,h as n,f as o,c as y,j as v,y as $,n as H,k as p,z as e,a as de,A as W,D as Qe,o as ce,G as We,C as He}from"../chunks/index.541b2b8c.js";import{g as Ze,f as $e}from"../chunks/fetch-api.1021b51e.js";import{e as Je}from"../chunks/each.86d4a212.js";import{c as je}from"../chunks/browser.54b85836.js";const{document:pe}=Ze;function Fe(a,t,l){const r=a.slice();return r[21]=t[l],r[22]=t,r[23]=l,r}function et(a){let t,l,r,c,u,C,E,_,g;return{c(){t=s("div"),l=s("input"),r=k(),c=s("span"),u=R("CSV Format ("),C=R(ie),E=R(")"),this.h()},l(m){t=n(m,"DIV",{class:!0});var i=v(t);l=n(i,"INPUT",{type:!0,class:!0,accept:!0}),r=y(i),c=n(i,"SPAN",{});var A=v(c);u=H(A,"CSV Format ("),C=H(A,ie),E=H(A,")"),A.forEach(o),i.forEach(o),this.h()},h(){p(l,"type","file"),p(l,"class","mb-4 mt-2"),p(l,"accept","text/csv"),p(t,"class","block")},m(m,i){de(m,t,i),e(t,l),e(t,r),e(t,c),e(c,u),e(c,C),e(c,E),_||(g=W(l,"change",We(a[12])),_=!0)},p:ke,d(m){m&&o(t),_=!1,g()}}}function tt(a){let t,l,r,c,u,C,E,_,g,m;return{c(){t=s("div"),l=s("label"),r=s("span"),c=R("CSV Text (comma delimited) format: ("),u=R(ie),C=R("):"),E=k(),_=s("textarea"),this.h()},l(i){t=n(i,"DIV",{class:!0});var A=v(t);l=n(A,"LABEL",{class:!0});var S=v(l);r=n(S,"SPAN",{});var L=v(r);c=H(L,"CSV Text (comma delimited) format: ("),u=H(L,ie),C=H(L,"):"),L.forEach(o),E=y(S),_=n(S,"TEXTAREA",{class:!0,rows:!0}),v(_).forEach(o),S.forEach(o),A.forEach(o),this.h()},h(){p(_,"class","textarea svelte-5e1234"),p(_,"rows","6"),p(l,"class","label svelte-5e1234"),p(t,"class","field block")},m(i,A){de(i,t,A),e(t,l),e(l,r),e(r,c),e(r,u),e(r,C),e(l,E),e(l,_),He(_,a[3]),g||(m=W(_,"input",a[11]),g=!0)},p(i,A){A&8&&He(_,i[3])},d(i){i&&o(t),g=!1,m()}}}function qe(a){let t,l,r,c,u,C=a[21].noSl+"",E,_,g,m=a[21].name+"",i,A,S,L=a[21].address+"",U,B,X,J=a[21].city+"",Y,Q,P,x=a[21].cabang+"",q,b,T,D;function M(){a[17].call(r,a[22],a[23])}return{c(){t=s("tr"),l=s("td"),r=s("input"),c=k(),u=s("td"),E=R(C),_=k(),g=s("td"),i=R(m),A=k(),S=s("td"),U=R(L),B=k(),X=s("td"),Y=R(J),Q=k(),P=s("td"),q=R(x),b=k(),this.h()},l(I){t=n(I,"TR",{});var d=v(t);l=n(d,"TD",{});var j=v(l);r=n(j,"INPUT",{type:!0}),j.forEach(o),c=y(d),u=n(d,"TD",{});var O=v(u);E=H(O,C),O.forEach(o),_=y(d),g=n(d,"TD",{});var G=v(g);i=H(G,m),G.forEach(o),A=y(d),S=n(d,"TD",{});var N=v(S);U=H(N,L),N.forEach(o),B=y(d),X=n(d,"TD",{});var Z=v(X);Y=H(Z,J),Z.forEach(o),Q=y(d),P=n(d,"TD",{});var K=v(P);q=H(K,x),K.forEach(o),b=y(d),d.forEach(o),this.h()},h(){p(r,"type","checkbox")},m(I,d){de(I,t,d),e(t,l),e(l,r),r.checked=a[21].selected,e(t,c),e(t,u),e(u,E),e(t,_),e(t,g),e(g,i),e(t,A),e(t,S),e(S,U),e(t,B),e(t,X),e(X,Y),e(t,Q),e(t,P),e(P,q),e(t,b),T||(D=W(r,"change",M),T=!0)},p(I,d){a=I,d&2&&(r.checked=a[21].selected),d&2&&C!==(C=a[21].noSl+"")&&ce(E,C),d&2&&m!==(m=a[21].name+"")&&ce(i,m),d&2&&L!==(L=a[21].address+"")&&ce(U,L),d&2&&J!==(J=a[21].city+"")&&ce(Y,J),d&2&&x!==(x=a[21].cabang+"")&&ce(q,x)},d(I){I&&o(t),T=!1,D()}}}function lt(a){let t,l,r,c,u,C="Kartu PDAM",E,_,g,m,i,A="CSV Text",S,L,U,B,X="File",J,Y,Q,P,x,q,b,T,D,M,I,d,j,O,G,N,Z,K,ve,ee,ye="No. SL",me,te,De="NAMA",be,le,Se="ALAMAT",ge,ae,Ne="CABANG",Te,se,xe="ALAMAT CABANG",Ce,ne,Ee,Ie;function we(h,V){return h[0]==="text"?tt:et}let he=we(a),z=he(a),oe=Je(a[1]),w=[];for(let h=0;h<oe.length;h+=1)w[h]=qe(Fe(a,oe,h));return{c(){t=s("meta"),l=s("meta"),r=k(),c=s("section"),u=s("div"),u.textContent=C,E=k(),_=s("div"),g=s("ul"),m=s("li"),i=s("a"),i.textContent=A,L=k(),U=s("li"),B=s("a"),B.textContent=X,Y=k(),z.c(),Q=k(),P=s("div"),x=s("button"),q=R("Parse to JSON"),T=k(),D=s("button"),M=R("Download"),d=k(),j=s("div"),O=s("table"),G=s("thead"),N=s("tr"),Z=s("th"),K=s("input"),ve=k(),ee=s("th"),ee.textContent=ye,me=k(),te=s("th"),te.textContent=De,be=k(),le=s("th"),le.textContent=Se,ge=k(),ae=s("th"),ae.textContent=Ne,Te=k(),se=s("th"),se.textContent=xe,Ce=k(),ne=s("tbody");for(let h=0;h<w.length;h+=1)w[h].c();this.h()},l(h){const V=Ye("svelte-15hq90y",pe.head);t=n(V,"META",{property:!0,content:!0}),l=n(V,"META",{name:!0,content:!0}),V.forEach(o),r=y(h),c=n(h,"SECTION",{});var f=v(c);u=n(f,"DIV",{class:!0,"data-svelte-h":!0}),$(u)!=="svelte-14g43s4"&&(u.textContent=C),E=y(f),_=n(f,"DIV",{class:!0});var re=v(_);g=n(re,"UL",{});var ue=v(g);m=n(ue,"LI",{class:!0});var Le=v(m);i=n(Le,"A",{href:!0,"data-svelte-h":!0}),$(i)!=="svelte-q1uj1g"&&(i.textContent=A),Le.forEach(o),L=y(ue),U=n(ue,"LI",{class:!0});var Pe=v(U);B=n(Pe,"A",{href:!0,"data-svelte-h":!0}),$(B)!=="svelte-1a2fnp4"&&(B.textContent=X),Pe.forEach(o),ue.forEach(o),re.forEach(o),Y=y(f),z.l(f),Q=y(f),P=n(f,"DIV",{class:!0});var fe=v(P);x=n(fe,"BUTTON",{class:!0});var Ve=v(x);q=H(Ve,"Parse to JSON"),Ve.forEach(o),T=y(fe),D=n(fe,"BUTTON",{class:!0});var Ue=v(D);M=H(Ue,"Download"),Ue.forEach(o),fe.forEach(o),d=y(f),j=n(f,"DIV",{class:!0});var Be=v(j);O=n(Be,"TABLE",{class:!0});var _e=v(O);G=n(_e,"THEAD",{});var Me=v(G);N=n(Me,"TR",{});var F=v(N);Z=n(F,"TH",{});var Oe=v(Z);K=n(Oe,"INPUT",{type:!0}),Oe.forEach(o),ve=y(F),ee=n(F,"TH",{"data-svelte-h":!0}),$(ee)!=="svelte-ordyps"&&(ee.textContent=ye),me=y(F),te=n(F,"TH",{"data-svelte-h":!0}),$(te)!=="svelte-s0ordp"&&(te.textContent=De),be=y(F),le=n(F,"TH",{"data-svelte-h":!0}),$(le)!=="svelte-hx9f2o"&&(le.textContent=Se),ge=y(F),ae=n(F,"TH",{"data-svelte-h":!0}),$(ae)!=="svelte-4f99bg"&&(ae.textContent=Ne),Te=y(F),se=n(F,"TH",{"data-svelte-h":!0}),$(se)!=="svelte-1fywyle"&&(se.textContent=xe),F.forEach(o),Me.forEach(o),Ce=y(_e),ne=n(_e,"TBODY",{});var Re=v(ne);for(let Ae=0;Ae<w.length;Ae+=1)w[Ae].l(Re);Re.forEach(o),_e.forEach(o),Be.forEach(o),f.forEach(o),this.h()},h(){p(t,"property","og:description"),p(t,"content","PDAM Card"),pe.title="PDAM Card",p(l,"name","description"),p(l,"content","PDAM Card"),p(u,"class","title"),p(i,"href","#"),p(m,"class",S=a[0]==="text"?"is-active":""),p(B,"href","#"),p(U,"class",J=a[0]==="file"?"is-active":""),p(_,"class","tabs is-small is-toggle"),x.disabled=b=a[0]!=="text",p(x,"class","button is-link"),D.disabled=I=!a[4],p(D,"class","button is-primary"),p(P,"class","buttons block"),p(K,"type","checkbox"),p(O,"class","table is-narrow"),p(j,"class","block")},m(h,V){e(pe.head,t),e(pe.head,l),de(h,r,V),de(h,c,V),e(c,u),e(c,E),e(c,_),e(_,g),e(g,m),e(m,i),e(g,L),e(g,U),e(U,B),e(c,Y),z.m(c,null),e(c,Q),e(c,P),e(P,x),e(x,q),e(P,T),e(P,D),e(D,M),e(c,d),e(c,j),e(j,O),e(O,G),e(G,N),e(N,Z),e(Z,K),K.checked=a[2],e(N,ve),e(N,ee),e(N,me),e(N,te),e(N,be),e(N,le),e(N,ge),e(N,ae),e(N,Te),e(N,se),e(O,Ce),e(O,ne);for(let f=0;f<w.length;f+=1)w[f]&&w[f].m(ne,null);Ee||(Ie=[W(i,"click",a[9]),W(B,"click",a[10]),W(x,"click",a[13]),W(D,"click",a[14]),W(K,"change",a[15]),W(K,"input",a[16])],Ee=!0)},p(h,[V]){if(V&1&&S!==(S=h[0]==="text"?"is-active":"")&&p(m,"class",S),V&1&&J!==(J=h[0]==="file"?"is-active":"")&&p(U,"class",J),he===(he=we(h))&&z?z.p(h,V):(z.d(1),z=he(h),z&&(z.c(),z.m(c,Q))),V&1&&b!==(b=h[0]!=="text")&&(x.disabled=b),V&16&&I!==(I=!h[4])&&(D.disabled=I),V&4&&(K.checked=h[2]),V&2){oe=Je(h[1]);let f;for(f=0;f<oe.length;f+=1){const re=Fe(h,oe,f);w[f]?w[f].p(re,V):(w[f]=qe(re),w[f].c(),w[f].m(ne,null))}for(;f<w.length;f+=1)w[f].d(1);w.length=oe.length}},i:ke,o:ke,d(h){h&&(o(r),o(c)),o(t),o(l),z.d(),Qe(w,h),Ee=!1,Ke(Ie)}}}let ie="noSl, name, address, city";function at(a,t,l){var q;let r="text";const c=[{name:"Jatibarang",address:"Jl. Purna Brata No. 1001 Telp. (0234)  351491"},{name:"Sindang",address:"Jl. Singalodra  - Sindang Telp. (0234) 277564"},{name:"Indramayu",address:"Jl. Tanjungpura No. 197 Kepandean - Indramayu Telp (0234) 7121205"}];let u=[],C=!1,E="",_=!1;const g=b=>c.filter(T=>T.name===b)[0].address;function m(b){const T=b.currentTarget;if(T&&T.files&&T.files[0]){const D=T.files[0],M=new FileReader;M.onload=I=>{var j;const d=((j=I.target)==null?void 0:j.result)??"";je().fromString(d).then(O=>{l(1,u=O.map(G=>({...G,cabang:g(G.city),selected:!0})))})},M.readAsText(D,"utf-8")}}function i(b){l(1,u=u.map(T=>({...T,selected:!C})))}function A(b){je().fromString(ie+`
`+E).then(T=>{l(1,u=T.map(D=>({...D,cabang:g(D.city),selected:!0})))})}async function S(b){let T="pdam-card.pdf";const D="/v1/pdam";await $e.headers({Accept:"application/pdf","Content-Type":"application/json"}).url(D).post({data:u.filter(M=>M.selected)}).blob(M=>{var I=window.URL.createObjectURL(M),d=document.createElement("a");d.href=I,d.download=T,d.click(),d.remove(),setTimeout(()=>!1,1e3),window.URL.revokeObjectURL(I)}).catch(M=>{console.log(M)})}const L=()=>l(0,r="text"),U=()=>l(0,r="file");function B(){E=this.value,l(3,E)}const X=b=>m(b),J=b=>A(),Y=b=>S();function Q(){C=this.checked,l(2,C)}const P=b=>i();function x(b,T){b[T].selected=this.checked,l(1,u)}{const b=(q=document.getElementById("username"))==null?void 0:q.innerText;l(4,_=b==="mastur.st12@outlook.com")}return[r,u,C,E,_,m,i,A,S,L,U,B,X,J,Y,Q,P,x]}class dt extends ze{constructor(t){super(),Xe(this,t,at,lt,Ge,{})}}export{dt as component};
