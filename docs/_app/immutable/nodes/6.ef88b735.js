import{T as is,s as Ve,B as os,C as cs,D as us,E as ds,o as ot,H as Pe,f as d,g as h,h as b,d as u,j as c,i as Y,v as i,x as be,l as $,a as Q,m as x,c as M,w as te,u as ne,I as ye,n as ce,y as je,U as Fe,p as rt,V as ct,e as qe,z as $t,W as lt,X as xt,Q as hs,S as fs,r as vs}from"../chunks/scheduler.a1a79cf5.js";import{S as Ae,i as Ne,a as he,t as _e,j as ut,b as Oe,d as Re,m as we,e as Te,g as es,c as ts}from"../chunks/index.f0883218.js";import{f as Ce,g as ms}from"../chunks/fetch-api.1021b51e.js";import{e as ke,u as He,d as Ke}from"../chunks/each.5046d998.js";import{r as ss}from"../chunks/index.e7c8a821.js";import{S as as,h as ps,n as ls,u as St,i as Ot,t as _s,k as bs,r as Rt,b as wt,v as gs,a as ys,c as Qe,w as Es,l as Tt,x as Vt}from"../chunks/mutation.1fce78fe.js";import{a as Is}from"../chunks/dayjs.min.6559d33b.js";import{c as ks}from"../chunks/browser.54b85836.js";class Ds extends as{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=[],this.previousSelectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),At(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Os(this.currentQuery,this.options)}shouldFetchOnWindowFocus(){return Rs(this.currentQuery,this.options)}destroy(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)}setOptions(e,t){const s=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const r=this.hasListeners();r&&Nt(this.currentQuery,n,this.options,s)&&this.executeFetch(),this.updateResult(t),r&&(this.currentQuery!==n||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();const l=this.computeRefetchInterval();r&&(this.currentQuery!==n||this.options.enabled!==s.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)}updateOptions(e,t){const s=Object.assign(Object.assign({},this.options),e);e.queryKey&&!e.queryHash&&e.queryKey!==this.options.queryKey&&(s.queryHash=ps(e.queryKey,s)),this.setOptions(s,t)}getOptimisticResult(e){const t=this.client.defaultQueryObserverOptions(e),s=this.client.getQueryCache().build(this.client,t);return this.createResult(s,t)}getCurrentResult(){return this.currentResult}trackResult(e,t){const s={},n=r=>{this.trackedProps.includes(r)||this.trackedProps.push(r)};return Object.keys(e).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(n(r),e[r])})}),(t.useErrorBoundary||t.suspense)&&n("error"),s}getNextResult(e){return new Promise((t,s)=>{const n=this.subscribe(r=>{r.isFetching||(n(),r.isError&&(e!=null&&e.throwOnError)?s(r.error):t(r))})})}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch(e){return this.fetch(Object.assign(Object.assign({},e),{meta:{refetchPage:e==null?void 0:e.refetchPage}}))}fetchOptimistic(e){const t=this.client.defaultQueryObserverOptions(e),s=this.client.getQueryCache().build(this.client,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.executeFetch(e).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(ls)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),St||this.currentResult.isStale||!Ot(this.options.staleTime))return;const t=_s(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!==null&&e!==void 0?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(St||this.options.enabled===!1||!Ot(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||bs.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearTimers(){this.clearStaleTimeout(),this.clearRefetchInterval()}clearStaleTimeout(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0}clearRefetchInterval(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0}createResult(e,t){var s;const n=this.currentQuery,r=this.options,l=this.currentResult,o=this.currentResultState,f=this.currentResultOptions,E=e!==n,v=E?e.state:this.currentQueryInitialState,p=E?this.currentResult:this.previousQueryResult,{state:y}=e;let{dataUpdatedAt:S,error:I,errorUpdatedAt:D,isFetching:w,status:R}=y,k=!1,m=!1,_;if(t.optimisticResults){const g=this.hasListeners(),T=!g&&At(e,t),P=g&&Nt(e,n,t,r);(T||P)&&(w=!0,S||(R="loading"))}if(t.keepPreviousData&&!y.dataUpdateCount&&(p!=null&&p.isSuccess)&&R!=="error")_=p.data,S=p.dataUpdatedAt,R=p.status,k=!0;else if(t.select&&typeof y.data<"u")if(l&&y.data===(o==null?void 0:o.data)&&t.select===((s=this.previousSelect)===null||s===void 0?void 0:s.fn)&&!this.previousSelectError)_=this.previousSelect.result;else try{_=t.select(y.data),t.structuralSharing!==!1&&(_=Rt(l==null?void 0:l.data,_)),this.previousSelect={fn:t.select,result:_},this.previousSelectError=null}catch(g){wt().error(g),I=g,this.previousSelectError=g,D=Date.now(),R="error"}else _=y.data;if(typeof t.placeholderData<"u"&&typeof _>"u"&&(R==="loading"||R==="idle")){let g;if(l!=null&&l.isPlaceholderData&&t.placeholderData===(f==null?void 0:f.placeholderData))g=l.data;else if(g=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof g<"u")try{g=t.select(g),t.structuralSharing!==!1&&(g=Rt(l==null?void 0:l.data,g)),this.previousSelectError=null}catch(T){wt().error(T),I=T,this.previousSelectError=T,D=Date.now(),R="error"}typeof g<"u"&&(R="success",_=g,m=!0)}return{status:R,isLoading:R==="loading",isSuccess:R==="success",isError:R==="error",isIdle:R==="idle",data:_,dataUpdatedAt:S,error:I,errorUpdatedAt:D,failureCount:y.fetchFailureCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>v.dataUpdateCount||y.errorUpdateCount>v.errorUpdateCount,isFetching:w,isRefetching:w&&R!=="loading",isLoadingError:R==="error"&&y.dataUpdatedAt===0,isPlaceholderData:m,isPreviousData:k,isRefetchError:R==="error"&&y.dataUpdatedAt!==0,isStale:ze(e,t),refetch:this.refetch,remove:this.remove}}shouldNotifyListeners(e,t){if(!t)return!0;const{notifyOnChangeProps:s,notifyOnChangePropsExclusions:n}=this.options;if(!s&&!n||s==="tracked"&&!this.trackedProps.length)return!0;const r=s==="tracked"?this.trackedProps:s;return Object.keys(e).some(l=>{const o=l,f=e[o]!==t[o],E=r==null?void 0:r.some(p=>p===l),v=n==null?void 0:n.some(p=>p===l);return f&&!v&&(!r||E)})}updateResult(e){const t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,gs(this.currentResult,t))return;const s={cache:!0};(e==null?void 0:e.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,t)&&(s.listeners=!0),this.notify(Object.assign(Object.assign({},s),e))}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!0:e.type==="error"&&!ys(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){Qe.batch(()=>{var t,s,n,r,l,o,f,E;e.onSuccess?((s=(t=this.options).onSuccess)===null||s===void 0||s.call(t,this.currentResult.data),(r=(n=this.options).onSettled)===null||r===void 0||r.call(n,this.currentResult.data,null)):e.onError&&((o=(l=this.options).onError)===null||o===void 0||o.call(l,this.currentResult.error),(E=(f=this.options).onSettled)===null||E===void 0||E.call(f,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(v=>{v(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Cs(a,e){return e.enabled!==!1&&!a.state.dataUpdatedAt&&!(a.state.status==="error"&&e.retryOnMount===!1)}function Ss(a,e){return e.enabled!==!1&&a.state.dataUpdatedAt>0&&(e.refetchOnMount==="always"||e.refetchOnMount!==!1&&ze(a,e))}function At(a,e){return Cs(a,e)||Ss(a,e)}function Os(a,e){return e.enabled!==!1&&(e.refetchOnReconnect==="always"||e.refetchOnReconnect!==!1&&ze(a,e))}function Rs(a,e){return e.enabled!==!1&&(e.refetchOnWindowFocus==="always"||e.refetchOnWindowFocus!==!1&&ze(a,e))}function Nt(a,e,t,s){return t.enabled!==!1&&(a!==e||s.enabled===!1)&&(!t.suspense||a.state.status!=="error")&&ze(a,t)}function ze(a,e){return a.isStaleByTime(e.staleTime)}class ws extends as{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){this.options=this.client.defaultMutationOptions(e)}onUnsubscribe(){var e;this.listeners.length||(e=this.currentMutation)===null||e===void 0||e.removeObserver(this)}onMutationUpdate(e){this.updateResult();const t={listeners:!0};e.type==="success"?t.onSuccess=!0:e.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object.assign(Object.assign({},this.options),{variables:typeof e<"u"?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:Es(),t=Object.assign(Object.assign({},e),{isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=t}notify(e){Qe.batch(()=>{var t,s,n,r,l,o,f,E;this.mutateOptions&&(e.onSuccess?((s=(t=this.mutateOptions).onSuccess)===null||s===void 0||s.call(t,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(r=(n=this.mutateOptions).onSettled)===null||r===void 0||r.call(n,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&((o=(l=this.mutateOptions).onError)===null||o===void 0||o.call(l,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(E=(f=this.mutateOptions).onSettled)===null||E===void 0||E.call(f,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))),e.listeners&&this.listeners.forEach(v=>{v(this.currentResult)})})}}function We(){const a=is("queryClient");if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a}function Qt(a){return a.optimisticResults=!0,a.onError&&(a.onError=Qe.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Qe.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Qe.batchCalls(a.onSettled)),a}function rs(a,e,t){const s=Tt(a,e,t),n=We();let r=n.defaultQueryObserverOptions(s);r=Qt(r);const l=new Ds(n,r),{subscribe:o}=ss(l.getCurrentResult(),p=>l.subscribe(Qe.batchCalls(p)));l.updateResult();function f(p,y,S){const I=Tt(p,y,S);let D=n.defaultQueryObserverOptions(I);D=Qt(D),l.hasListeners()&&l.setOptions(D,{listeners:!1})}function E(p){l.updateOptions(p)}function v(p){E({enabled:p})}return{subscribe:o,setOptions:f,updateOptions:E,setEnabled:v}}const Ts=a=>({queryResult:a&1}),Mt=a=>({queryResult:a[0]});function Vs(a){let e;const t=a[6].query,s=os(t,a,a[5],Mt);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,r){s&&s.m(n,r),e=!0},p(n,[r]){s&&s.p&&(!e||r&33)&&cs(s,t,n,n[5],e?ds(t,n[5],r,Ts):us(n[5]),Mt)},i(n){e||(he(s,n),e=!0)},o(n){_e(s,n),e=!1},d(n){s&&s.d(n)}}}function As(a,e,t){let s,{$$slots:n={},$$scope:r}=e,{options:l}=e,{queryResult:o=void 0}=e,f=!0;ot(()=>{t(3,f=!1)});const E=rs(l);return Pe(a,E,v=>t(4,s=v)),a.$$set=v=>{"options"in v&&t(2,l=v.options),"queryResult"in v&&t(0,o=v.queryResult),"$$scope"in v&&t(5,r=v.$$scope)},a.$$.update=()=>{a.$$.dirty&16&&t(0,o=s),a.$$.dirty&12&&(f||E.setOptions(l))},[o,E,l,f,s,r,n]}class Ns extends Ae{constructor(e){super(),Ne(this,e,As,Vs,Ve,{options:2,queryResult:0})}}const ns=Ns;function Be(a,e,t){const s=Vt(a,e,t),n=We(),r=new ws(n,s),l=(p,y)=>{r.mutate(p,y).catch(ls)},o=r.getCurrentResult(),f=Object.assign(Object.assign({},o),{mutate:l,mutateAsync:o.mutate}),{subscribe:E}=ss(f,p=>r.subscribe(Qe.batchCalls(y=>{r.hasListeners()&&p(Object.assign(Object.assign({},y),{mutate:l,mutateAsync:y.mutate}))})));function v(p,y,S){if(r.hasListeners()){const I=Vt(p,y,S);r.setOptions(I)}}return{subscribe:E,setOptions:v}}function Ut(a,e,t){const s=a.slice();return s[3]=e[t],s}function Pt(a,e){let t,s,n=e[3].name+"",r,l,o,f,E;function v(){return e[2](e[3])}return{key:a,first:null,c(){t=d("li"),s=d("a"),r=$(n),o=Q(),this.h()},l(p){t=h(p,"LI",{});var y=b(t);s=h(y,"A",{href:!0,class:!0});var S=b(s);r=x(S,n),S.forEach(u),o=M(y),y.forEach(u),this.h()},h(){c(s,"href","#"+e[3].id),c(s,"class",l=e[3].id===e[0]?"is-active":""),this.first=t},m(p,y){Y(p,t,y),i(t,s),i(s,r),i(t,o),f||(E=te(s,"click",v),f=!0)},p(p,y){e=p,y&1&&l!==(l=e[3].id===e[0]?"is-active":"")&&c(s,"class",l)},d(p){p&&u(t),f=!1,E()}}}function Qs(a){let e,t,s=[],n=new Map,r=ke(a[1]);const l=o=>o[3].id;for(let o=0;o<r.length;o+=1){let f=Ut(a,r,o),E=l(f);n.set(E,s[o]=Pt(E,f))}return{c(){e=d("aside"),t=d("ul");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=h(o,"ASIDE",{class:!0});var f=b(e);t=h(f,"UL",{class:!0});var E=b(t);for(let v=0;v<s.length;v+=1)s[v].l(E);E.forEach(u),f.forEach(u),this.h()},h(){c(t,"class","menu-list"),c(e,"class","menu")},m(o,f){Y(o,e,f),i(e,t);for(let E=0;E<s.length;E+=1)s[E]&&s[E].m(t,null)},p(o,[f]){f&3&&(r=ke(o[1]),s=He(s,f,l,1,o,r,n,t,Ke,Pt,null,Ut))},i:be,o:be,d(o){o&&u(e);for(let f=0;f<s.length;f+=1)s[f].d()}}}function Ms(a,e,t){const s=[{id:2,name:"Cabang"},{id:3,name:"Import"},{id:1,name:"Customer"},{id:4,name:"Download Card"}];let{currentMenu:n=1}=e;const r=l=>t(0,n=l.id);return a.$$set=l=>{"currentMenu"in l&&t(0,n=l.currentMenu)},[n,s,r]}class Us extends Ae{constructor(e){super(),Ne(this,e,Ms,Qs,Ve,{currentMenu:0})}}function Ps(a){let e,t,s,n,r,l,o,f=a[0].id===0?"Cabang Baru":"Cabang "+a[0].name,E,v,p,y,S,I,D,w,R="Nama",k,m,_,C,g,T,P="Alamat",L,N,V,j,q,K,H,B,G,W="Cancel",Z,J,O,A,X,ie;return{c(){e=d("div"),t=d("div"),s=d("div"),n=Q(),r=d("div"),l=d("header"),o=d("p"),E=$(f),v=Q(),p=d("button"),y=Q(),S=d("section"),I=d("div"),D=d("label"),w=d("span"),w.textContent=R,k=Q(),m=d("input"),_=Q(),C=d("div"),g=d("label"),T=d("span"),T.textContent=P,L=Q(),N=d("input"),V=Q(),j=d("footer"),q=d("div"),K=d("div"),H=Q(),B=d("div"),G=d("button"),G.textContent=W,Z=Q(),J=d("button"),O=$("Save"),this.h()},l(U){e=h(U,"DIV",{});var F=b(e);t=h(F,"DIV",{class:!0});var z=b(t);s=h(z,"DIV",{class:!0}),b(s).forEach(u),n=M(z),r=h(z,"DIV",{class:!0});var se=b(r);l=h(se,"HEADER",{class:!0});var fe=b(l);o=h(fe,"P",{class:!0});var le=b(o);E=x(le,f),le.forEach(u),v=M(fe),p=h(fe,"BUTTON",{class:!0,"aria-label":!0}),b(p).forEach(u),fe.forEach(u),y=M(se),S=h(se,"SECTION",{class:!0});var re=b(S);I=h(re,"DIV",{class:!0});var de=b(I);D=h(de,"LABEL",{});var oe=b(D);w=h(oe,"SPAN",{class:!0,"data-svelte-h":!0}),ne(w)!=="svelte-zhk08k"&&(w.textContent=R),k=M(oe),m=h(oe,"INPUT",{type:!0,class:!0,placeholder:!0}),oe.forEach(u),de.forEach(u),_=M(re),C=h(re,"DIV",{class:!0});var Se=b(C);g=h(Se,"LABEL",{class:!0});var Ee=b(g);T=h(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),ne(T)!=="svelte-rl919z"&&(T.textContent=P),L=M(Ee),N=h(Ee,"INPUT",{type:!0,class:!0,placeholder:!0}),Ee.forEach(u),Se.forEach(u),re.forEach(u),V=M(se),j=h(se,"FOOTER",{class:!0});var ge=b(j);q=h(ge,"DIV",{class:!0});var ve=b(q);K=h(ve,"DIV",{class:!0}),b(K).forEach(u),H=M(ve),B=h(ve,"DIV",{class:!0});var ue=b(B);G=h(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(G)!=="svelte-10tfac"&&(G.textContent=W),Z=M(ue),J=h(ue,"BUTTON",{class:!0});var me=b(J);O=x(me,"Save"),me.forEach(u),ue.forEach(u),ve.forEach(u),ge.forEach(u),se.forEach(u),z.forEach(u),F.forEach(u),this.h()},h(){c(s,"class","modal-background"),c(o,"class","modal-card-title"),c(p,"class","delete has-background-danger-dark"),c(p,"aria-label","close"),c(l,"class","modal-card-head"),c(w,"class","label is-small"),c(m,"type","text"),c(m,"class","input is-primary"),c(m,"placeholder","Nama cabang"),c(I,"class","block"),c(T,"class","label is-small"),c(N,"type","text"),c(N,"class","input is-info"),c(N,"placeholder","Alamat cabang"),c(g,"class","block"),c(C,"class","block"),c(S,"class","modal-card-body"),c(K,"class","is-flex-grow-1"),c(G,"class","button is-outlined is-link"),J.disabled=a[2],c(J,"class","button is-primary"),c(B,"class","buttons is-flex-grow-0"),c(q,"class","is-flex is-flex-direction-row container"),c(j,"class","modal-card-foot"),c(r,"class","modal-card"),c(t,"class",A="modal "+a[1])},m(U,F){Y(U,e,F),i(e,t),i(t,s),i(t,n),i(t,r),i(r,l),i(l,o),i(o,E),i(l,v),i(l,p),i(r,y),i(r,S),i(S,I),i(I,D),i(D,w),i(D,k),i(D,m),ye(m,a[0].name),i(S,_),i(S,C),i(C,g),i(g,T),i(g,L),i(g,N),ye(N,a[0].address),i(r,V),i(r,j),i(j,q),i(q,K),i(q,H),i(q,B),i(B,G),i(B,Z),i(B,J),i(J,O),X||(ie=[te(s,"click",a[4]),te(p,"click",a[5]),te(m,"input",a[6]),te(N,"input",a[7]),te(G,"click",a[8]),te(J,"click",a[9])],X=!0)},p(U,[F]){F&1&&f!==(f=U[0].id===0?"Cabang Baru":"Cabang "+U[0].name)&&ce(E,f),F&1&&m.value!==U[0].name&&ye(m,U[0].name),F&1&&N.value!==U[0].address&&ye(N,U[0].address),F&4&&(J.disabled=U[2]),F&2&&A!==(A="modal "+U[1])&&c(t,"class",A)},i:be,o:be,d(U){U&&u(e),X=!1,je(ie)}}}function qs(a,e,t){let s;const n=Fe();let{isActive:r=""}=e,{data:l}=e;const o=()=>t(1,r=""),f=()=>t(1,r="");function E(){l.name=this.value,t(0,l)}function v(){l.address=this.value,t(0,l)}const p=()=>t(1,r=""),y=()=>n("onSave",l);return a.$$set=S=>{"isActive"in S&&t(1,r=S.isActive),"data"in S&&t(0,l=S.data)},a.$$.update=()=>{a.$$.dirty&1&&t(2,s=l.name.trim().length===0||l.address.trim().length===0)},[l,r,s,n,o,f,E,v,p,y]}class js extends Ae{constructor(e){super(),Ne(this,e,qs,Ps,Ve,{isActive:1,data:0})}}function qt(a,e,t){const s=a.slice();return s[18]=e[t],s[20]=t,s}function Ls(a){let e,t=[],s=new Map,n=ke(a[17].data??[]);const r=l=>l[18].id;for(let l=0;l<n.length;l+=1){let o=qt(a,n,l),f=r(o);s.set(f,t[l]=Lt(f,o))}return{c(){e=d("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=h(l,"DIV",{class:!0});var o=b(e);for(let f=0;f<t.length;f+=1)t[f].l(o);o.forEach(u),this.h()},h(){c(e,"class","container box")},m(l,o){Y(l,e,o);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null)},p(l,o){o&131075&&(n=ke(l[17].data??[]),t=He(t,o,r,1,l,n,s,e,Ke,Lt,null,qt))},d(l){l&&u(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Bs(a){let e,t="Loading branch...";return{c(){e=d("div"),e.textContent=t},l(s){e=h(s,"DIV",{"data-svelte-h":!0}),ne(e)!=="svelte-u90sd0"&&(e.textContent=t)},m(s,n){Y(s,e,n)},p:be,d(s){s&&u(e)}}}function jt(a){let e;return{c(){e=d("hr"),this.h()},l(t){e=h(t,"HR",{class:!0}),this.h()},h(){c(e,"class","p-0 m-0 my-2")},m(t,s){Y(t,e,s)},d(t){t&&u(e)}}}function Lt(a,e){let t,s,n,r,l=e[18].name+"",o,f,E,v=e[18].address+"",p,y,S,I,D="Edit",w,R,k,m=e[20]>0&&jt();function _(){return e[8](e[18])}return{key:a,first:null,c(){t=qe(),m&&m.c(),s=Q(),n=d("div"),r=d("div"),o=$(l),f=Q(),E=d("div"),p=$(v),y=Q(),S=d("div"),I=d("button"),I.textContent=D,w=Q(),this.h()},l(C){t=qe(),m&&m.l(C),s=M(C),n=h(C,"DIV",{class:!0});var g=b(n);r=h(g,"DIV",{class:!0});var T=b(r);o=x(T,l),T.forEach(u),f=M(g),E=h(g,"DIV",{class:!0});var P=b(E);p=x(P,v),P.forEach(u),y=M(g),S=h(g,"DIV",{class:!0});var L=b(S);I=h(L,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(I)!=="svelte-5ooks2"&&(I.textContent=D),L.forEach(u),w=M(g),g.forEach(u),this.h()},h(){c(r,"class","column py-0 has-text-weight-bold"),c(E,"class","column is-8 py-0"),c(I,"class","button is-small is-link is-outlined"),c(S,"class","column py-0 is-narrow"),c(n,"class","columns p-0 m-0"),this.first=t},m(C,g){Y(C,t,g),m&&m.m(C,g),Y(C,s,g),Y(C,n,g),i(n,r),i(r,o),i(n,f),i(n,E),i(E,p),i(n,y),i(n,S),i(S,I),i(n,w),R||(k=te(I,"click",_),R=!0)},p(C,g){e=C,e[20]>0?m||(m=jt(),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null),g&131072&&l!==(l=e[18].name+"")&&ce(o,l),g&131072&&v!==(v=e[18].address+"")&&ce(p,v)},d(C){C&&(u(t),u(s),u(n)),m&&m.d(C),R=!1,k()}}}function Fs(a){let e;function t(r,l){return r[17].status==="loading"?Bs:Ls}let s=t(a),n=s(a);return{c(){e=d("div"),n.c(),this.h()},l(r){e=h(r,"DIV",{slot:!0});var l=b(e);n.l(l),l.forEach(u),this.h()},h(){c(e,"slot","query")},m(r,l){Y(r,e,l),n.m(e,null)},p(r,l){s===(s=t(r))&&n?n.p(r,l):(n.d(1),n=s(r),n&&(n.c(),n.m(e,null)))},d(r){r&&u(e),n.d()}}}function Hs(a){let e,t,s,n='<div class="subtitle block">Cabang</div>',r,l,o,f="+ New",E,v,p,y,S,I,D,w;v=new ns({props:{options:a[2],$$slots:{query:[Fs,({queryResult:m})=>({17:m}),({queryResult:m})=>m?131072:0]},$$scope:{ctx:a}}});function R(m){a[9](m)}let k={data:{...a[0]}};return a[1]!==void 0&&(k.isActive=a[1]),y=new js({props:k}),rt.push(()=>ut(y,"isActive",R)),y.$on("onSave",a[6]),{c(){e=d("div"),t=d("div"),s=d("div"),s.innerHTML=n,r=Q(),l=d("div"),o=d("button"),o.textContent=f,E=Q(),Oe(v.$$.fragment),p=Q(),Oe(y.$$.fragment),this.h()},l(m){e=h(m,"DIV",{class:!0});var _=b(e);t=h(_,"DIV",{class:!0});var C=b(t);s=h(C,"DIV",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-ama811"&&(s.innerHTML=n),r=M(C),l=h(C,"DIV",{class:!0});var g=b(l);o=h(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(o)!=="svelte-1uu56oi"&&(o.textContent=f),g.forEach(u),C.forEach(u),E=M(_),Re(v.$$.fragment,_),p=M(_),Re(y.$$.fragment,_),_.forEach(u),this.h()},h(){c(s,"class","column"),c(o,"class","button is-success"),c(l,"class","column is-narrow"),c(t,"class","columns"),c(e,"class","container fluid")},m(m,_){Y(m,e,_),i(e,t),i(t,s),i(t,r),i(t,l),i(l,o),i(e,E),we(v,e,null),i(e,p),we(y,e,null),I=!0,D||(w=te(o,"click",a[7]),D=!0)},p(m,[_]){const C={};_&4&&(C.options=m[2]),_&2228227&&(C.$$scope={dirty:_,ctx:m}),v.$set(C);const g={};_&1&&(g.data={...m[0]}),!S&&_&2&&(S=!0,g.isActive=m[1],ct(()=>S=!1)),y.$set(g)},i(m){I||(he(v.$$.fragment,m),he(y.$$.fragment,m),I=!0)},o(m){_e(v.$$.fragment,m),_e(y.$$.fragment,m),I=!1},d(m){m&&u(e),Te(v),Te(y),D=!1,w()}}}function Ks(a,e,t){let s,n,r;const l=We(),o=async()=>await Ce.get("/v2/pdam/branch/").json(),f=async m=>await Ce.headers({"Content-Type":"application/json",Accept:"application/json"}).put(m,`/v2/pdam/branch/${m.id}`).json(),v=Be(async m=>await Ce.headers({"Content-Type":"application/json",Accept:"application/json"}).post(m,"/v2/pdam/branch/").json(),{onMutate:async m=>{await l.cancelQueries();const _=l.getQueryData(["pdam","branch","list"]);return _&&l.setQueryData(["pdam","branch","list"],[..._]),_},onSuccess:async(m,_,C)=>{setTimeout(()=>{},1e3)},onError:(m,_,C)=>{C!=null&&C.previousData&&l.setQueryData(["pdam","branch","list"],C.previousData)},onSettled:async(m,_,C,g)=>{await l.invalidateQueries(["pdam","branch","list"])}});Pe(a,v,m=>t(12,r=m));const p=Be(f,{onMutate:async m=>{await l.cancelQueries();const _=l.getQueryData(["pdam","branch","list"]);return _&&l.setQueryData(["pdam","branch","list"],_),_},onSuccess:async(m,_,C)=>{setTimeout(()=>{},1e3)},onError:(m,_,C)=>{C!=null&&C.previousData&&l.setQueryData(["pdam","branch","list"],C.previousData)},onSettled:async(m,_,C,g)=>{await l.invalidateQueries(["pdam","branch","list"])}});Pe(a,p,m=>t(11,n=m));const y={id:0,name:"",address:""};let S=y,I="";function D(m){const _=m.detail;_.id===0?r.mutate(_):n.mutate(_),t(1,I="")}const w=()=>{t(0,S={...y}),t(1,I="is-active")},R=m=>{t(0,S=m),t(1,I="is-active")};function k(m){I=m,t(1,I)}return t(2,s={queryKey:["pdam","branch","list"],queryFn:()=>o(),keepPreviousData:!0}),[S,I,s,v,p,y,D,w,R,k]}class zs extends Ae{constructor(e){super(),Ne(this,e,Ks,Hs,Ve,{})}}function Bt(a,e,t){const s=a.slice();return s[17]=e[t],s}function Ft(a,e){let t,s=e[17].name+"",n,r;return{key:a,first:null,c(){t=d("option"),n=$(s),this.h()},l(l){t=h(l,"OPTION",{});var o=b(t);n=x(o,s),o.forEach(u),this.h()},h(){t.__value=r=e[17].id,ye(t,t.__value),this.first=t},m(l,o){Y(l,t,o),i(t,n)},p(l,o){e=l,o&4&&s!==(s=e[17].name+"")&&ce(n,s),o&4&&r!==(r=e[17].id)&&(t.__value=r,ye(t,t.__value))},d(l){l&&u(t)}}}function Ws(a){let e,t,s,n,r,l,o=(a[0].isNew?"Pelanggan Baru":a[0].name)+"",f,E,v,p,y,S,I,D,w="Nama",R,k,m,_,C,g,T,P,L="No. SL",N,V,j,q,K,H,B="Cabang",G,W,Z,J=[],O=new Map,A,X,ie,U,F="Alamat",z,se,fe,le,re,de,oe,Se,Ee,ge,ve,ue,me,Le="Cancel",Me,Ie,De,Je,nt,dt,Xe=ke(a[2]);const ht=ee=>ee[17].id;for(let ee=0;ee<Xe.length;ee+=1){let ae=Bt(a,Xe,ee),pe=ht(ae);O.set(pe,J[ee]=Ft(pe,ae))}return{c(){e=d("div"),t=d("div"),s=Q(),n=d("div"),r=d("header"),l=d("p"),f=$(o),E=Q(),v=d("button"),p=Q(),y=d("section"),S=d("div"),I=d("label"),D=d("span"),D.textContent=w,R=Q(),k=d("input"),m=Q(),_=d("div"),C=d("div"),g=d("div"),T=d("label"),P=d("span"),P.textContent=L,N=Q(),V=d("input"),j=Q(),q=d("div"),K=d("label"),H=d("span"),H.textContent=B,G=Q(),W=d("div"),Z=d("select");for(let ee=0;ee<J.length;ee+=1)J[ee].c();A=Q(),X=d("div"),ie=d("label"),U=d("span"),U.textContent=F,z=Q(),se=d("textarea"),fe=Q(),le=d("footer"),re=d("div"),de=d("div"),oe=d("button"),Se=$("Remove"),ge=Q(),ve=d("div"),ue=d("div"),me=d("button"),me.textContent=Le,Me=Q(),Ie=d("button"),De=$("Save"),this.h()},l(ee){e=h(ee,"DIV",{class:!0});var ae=b(e);t=h(ae,"DIV",{class:!0}),b(t).forEach(u),s=M(ae),n=h(ae,"DIV",{class:!0});var pe=b(n);r=h(pe,"HEADER",{class:!0});var Ge=b(r);l=h(Ge,"P",{class:!0});var ft=b(l);f=x(ft,o),ft.forEach(u),E=M(Ge),v=h(Ge,"BUTTON",{class:!0,"aria-label":!0}),b(v).forEach(u),Ge.forEach(u),p=M(pe),y=h(pe,"SECTION",{class:!0});var Ue=b(y);S=h(Ue,"DIV",{class:!0});var vt=b(S);I=h(vt,"LABEL",{});var Ye=b(I);D=h(Ye,"SPAN",{class:!0,"data-svelte-h":!0}),ne(D)!=="svelte-zhk08k"&&(D.textContent=w),R=M(Ye),k=h(Ye,"INPUT",{type:!0,maxlength:!0,class:!0,placeholder:!0}),Ye.forEach(u),vt.forEach(u),m=M(Ue),_=h(Ue,"DIV",{class:!0});var mt=b(_);C=h(mt,"DIV",{class:!0});var Ze=b(C);g=h(Ze,"DIV",{class:!0});var pt=b(g);T=h(pt,"LABEL",{});var $e=b(T);P=h($e,"SPAN",{class:!0,"data-svelte-h":!0}),ne(P)!=="svelte-p9pzvr"&&(P.textContent=L),N=M($e),V=h($e,"INPUT",{maxlength:!0,type:!0,class:!0,placeholder:!0}),$e.forEach(u),pt.forEach(u),j=M(Ze),q=h(Ze,"DIV",{class:!0});var _t=b(q);K=h(_t,"LABEL",{});var xe=b(K);H=h(xe,"SPAN",{class:!0,"data-svelte-h":!0}),ne(H)!=="svelte-xv7er7"&&(H.textContent=B),G=M(xe),W=h(xe,"DIV",{class:!0});var bt=b(W);Z=h(bt,"SELECT",{});var gt=b(Z);for(let it=0;it<J.length;it+=1)J[it].l(gt);gt.forEach(u),bt.forEach(u),xe.forEach(u),_t.forEach(u),Ze.forEach(u),mt.forEach(u),A=M(Ue),X=h(Ue,"DIV",{class:!0});var yt=b(X);ie=h(yt,"LABEL",{class:!0});var et=b(ie);U=h(et,"SPAN",{class:!0,"data-svelte-h":!0}),ne(U)!=="svelte-rl919z"&&(U.textContent=F),z=M(et),se=h(et,"TEXTAREA",{maxlength:!0,rows:!0,class:!0,placeholder:!0}),b(se).forEach(u),et.forEach(u),yt.forEach(u),Ue.forEach(u),fe=M(pe),le=h(pe,"FOOTER",{class:!0});var Et=b(le);re=h(Et,"DIV",{class:!0});var tt=b(re);de=h(tt,"DIV",{class:!0});var It=b(de);oe=h(It,"BUTTON",{class:!0});var kt=b(oe);Se=x(kt,"Remove"),kt.forEach(u),It.forEach(u),ge=M(tt),ve=h(tt,"DIV",{class:!0});var Dt=b(ve);ue=h(Dt,"DIV",{class:!0});var st=b(ue);me=h(st,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(me)!=="svelte-1ucskx2"&&(me.textContent=Le),Me=M(st),Ie=h(st,"BUTTON",{class:!0});var Ct=b(Ie);De=x(Ct,"Save"),Ct.forEach(u),st.forEach(u),Dt.forEach(u),tt.forEach(u),Et.forEach(u),pe.forEach(u),ae.forEach(u),this.h()},h(){c(t,"class","modal-background"),c(l,"class","modal-card-title"),c(v,"class","delete has-background-danger-dark"),c(v,"aria-label","close"),c(r,"class","modal-card-head"),c(D,"class","label is-small"),c(k,"type","text"),c(k,"maxlength",50),c(k,"class","input is-primary"),c(k,"placeholder","Nama pelanggan"),c(S,"class","block"),c(P,"class","label is-small"),c(V,"maxlength",10),c(V,"type","text"),c(V,"class","input is-primary"),c(V,"placeholder","No SL pelanggan"),c(g,"class","column"),c(H,"class","label is-small"),a[0].branchId===void 0&&$t(()=>a[11].call(Z)),c(W,"class","select is-primary is-fullwidth"),c(q,"class","column is-narrow"),c(C,"class","columns"),c(_,"class","block"),c(U,"class","label is-small"),c(se,"maxlength",128),c(se,"rows","2"),c(se,"class","textarea is-info py-1 pb-2"),c(se,"placeholder","Alamat pelanggan"),c(ie,"class","block"),c(X,"class","block"),c(y,"class","modal-card-body"),oe.disabled=Ee=a[0].isNew,c(oe,"class","button is-danger is-outlined"),c(de,"class","column"),c(me,"class","button is-outlined is-link"),Ie.disabled=a[4],c(Ie,"class","button is-primary"),c(ue,"class","buttons"),c(ve,"class","column is-narrow"),c(re,"class","columns container is-mobile"),c(le,"class","modal-card-foot py-4"),c(n,"class","modal-card box"),c(e,"class",Je="modal "+a[1]+" px-4")},m(ee,ae){Y(ee,e,ae),i(e,t),i(e,s),i(e,n),i(n,r),i(r,l),i(l,f),i(r,E),i(r,v),i(n,p),i(n,y),i(y,S),i(S,I),i(I,D),i(I,R),i(I,k),ye(k,a[0].name),a[9](k),i(y,m),i(y,_),i(_,C),i(C,g),i(g,T),i(T,P),i(T,N),i(T,V),ye(V,a[0].slId),i(C,j),i(C,q),i(q,K),i(K,H),i(K,G),i(K,W),i(W,Z);for(let pe=0;pe<J.length;pe+=1)J[pe]&&J[pe].m(Z,null);lt(Z,a[0].branchId,!0),i(y,A),i(y,X),i(X,ie),i(ie,U),i(ie,z),i(ie,se),ye(se,a[0].address),i(n,fe),i(n,le),i(le,re),i(re,de),i(de,oe),i(oe,Se),i(re,ge),i(re,ve),i(ve,ue),i(ue,me),i(ue,Me),i(ue,Ie),i(Ie,De),nt||(dt=[te(t,"click",a[6]),te(v,"click",a[7]),te(k,"input",a[8]),te(V,"input",a[10]),te(Z,"change",a[11]),te(se,"input",a[12]),te(oe,"click",a[13]),te(me,"click",a[14]),te(Ie,"click",a[15])],nt=!0)},p(ee,[ae]){ae&1&&o!==(o=(ee[0].isNew?"Pelanggan Baru":ee[0].name)+"")&&ce(f,o),ae&5&&k.value!==ee[0].name&&ye(k,ee[0].name),ae&5&&V.value!==ee[0].slId&&ye(V,ee[0].slId),ae&4&&(Xe=ke(ee[2]),J=He(J,ae,ht,1,ee,Xe,O,Z,Ke,Ft,null,Bt)),ae&5&&lt(Z,ee[0].branchId),ae&5&&ye(se,ee[0].address),ae&5&&Ee!==(Ee=ee[0].isNew)&&(oe.disabled=Ee),ae&16&&(Ie.disabled=ee[4]),ae&2&&Je!==(Je="modal "+ee[1]+" px-4")&&c(e,"class",Je)},i:be,o:be,d(ee){ee&&u(e),a[9](null);for(let ae=0;ae<J.length;ae+=1)J[ae].d();nt=!1,je(dt)}}}function Js(a,e,t){let s;const n=Fe();let r,{isActive:l=""}=e,{data:o}=e,{branchs:f=[]}=e;ot(async()=>{r.focus(),r.select()});const E=_=>{const C=f.filter(g=>g.id===_)[0];C&&t(0,o.branchName=C.name,o)},v=()=>t(1,l=""),p=()=>t(1,l="");function y(){o.name=this.value,t(0,o),t(2,f)}function S(_){rt[_?"unshift":"push"](()=>{r=_,t(3,r)})}function I(){o.slId=this.value,t(0,o),t(2,f)}function D(){o.branchId=xt(this),t(0,o),t(2,f)}function w(){o.address=this.value,t(0,o),t(2,f)}const R=()=>n("removeCustomer",o),k=()=>t(1,l=""),m=()=>n("onSave",o);return a.$$set=_=>{"isActive"in _&&t(1,l=_.isActive),"data"in _&&t(0,o=_.data),"branchs"in _&&t(2,f=_.branchs)},a.$$.update=()=>{a.$$.dirty&1&&E(o.branchId),a.$$.dirty&1&&t(4,s=o.name.trim().length===0||o.address.trim().length===0||o.branchId===0||o.slId.trim().length===0)},[o,l,f,r,s,n,v,p,y,S,I,D,w,R,k,m]}class Xs extends Ae{constructor(e){super(),Ne(this,e,Js,Ws,Ve,{isActive:1,data:0,branchs:2})}}function Ht(a,e,t){const s=a.slice();return s[36]=e[t],s}function Kt(a,e,t){const s=a.slice();return s[36]=e[t],s[40]=t,s}function Gs(a){let e,t=[],s=new Map,n,r,l,o,f,E,v,p,y,S,I,D,w,R,k,m,_,C,g,T,P,L,N=a[1]+1+"",V,j,q,K,H,B,G,W,Z=ke(a[35].data??[]);const J=U=>U[36].slId;for(let U=0;U<Z.length;U+=1){let F=Kt(a,Z,U),z=J(F);s.set(z,t[U]=Wt(z,F))}let O=ke(a[7]),A=[];for(let U=0;U<O.length;U+=1)A[U]=Jt(Ht(a,O,U));function X(){return a[20](a[35])}function ie(){return a[22](a[35])}return{c(){e=d("div");for(let U=0;U<t.length;U+=1)t[U].c();n=Q(),r=d("div"),l=d("div"),o=d("div"),f=d("div"),E=d("div"),v=d("div"),p=d("select");for(let U=0;U<A.length;U+=1)A[U].c();y=Q(),S=d("div"),I=d("button"),D=$("Select All"),R=Q(),k=d("div"),m=d("div"),_=d("button"),C=$("< Previous"),T=Q(),P=d("div"),L=d("div"),V=$(N),j=Q(),q=d("div"),K=d("button"),H=$("Next >"),this.h()},l(U){e=h(U,"DIV",{class:!0});var F=b(e);for(let De=0;De<t.length;De+=1)t[De].l(F);F.forEach(u),n=M(U),r=h(U,"DIV",{class:!0});var z=b(r);l=h(z,"DIV",{class:!0});var se=b(l);o=h(se,"DIV",{class:!0});var fe=b(o);f=h(fe,"DIV",{class:!0});var le=b(f);E=h(le,"DIV",{class:!0});var re=b(E);v=h(re,"DIV",{class:!0});var de=b(v);p=h(de,"SELECT",{});var oe=b(p);for(let De=0;De<A.length;De+=1)A[De].l(oe);oe.forEach(u),de.forEach(u),re.forEach(u),y=M(le),S=h(le,"DIV",{class:!0});var Se=b(S);I=h(Se,"BUTTON",{title:!0,class:!0});var Ee=b(I);D=x(Ee,"Select All"),Ee.forEach(u),Se.forEach(u),le.forEach(u),fe.forEach(u),R=M(se),k=h(se,"DIV",{class:!0});var ge=b(k);m=h(ge,"DIV",{class:!0});var ve=b(m);_=h(ve,"BUTTON",{class:!0});var ue=b(_);C=x(ue,"< Previous"),ue.forEach(u),ve.forEach(u),T=M(ge),P=h(ge,"DIV",{class:!0});var me=b(P);L=h(me,"DIV",{class:!0});var Le=b(L);V=x(Le,N),Le.forEach(u),me.forEach(u),j=M(ge),q=h(ge,"DIV",{class:!0});var Me=b(q);K=h(Me,"BUTTON",{class:!0});var Ie=b(K);H=x(Ie,"Next >"),Ie.forEach(u),Me.forEach(u),ge.forEach(u),se.forEach(u),z.forEach(u),this.h()},h(){c(e,"class","box"),a[2]===void 0&&$t(()=>a[19].call(p)),c(v,"class","select"),c(E,"class","column"),c(I,"title","Select all customer to print request"),c(I,"class","button"),I.disabled=w=a[35].data&&a[35].data.length===0,c(S,"class","column is-narrow"),c(f,"class","columns is-mobile"),c(o,"class","column"),_.disabled=g=a[1]===0,c(_,"class","button"),c(m,"class","column is-narrow"),c(L,"class","has-text-centered"),c(P,"class","column"),c(K,"class","button"),K.disabled=B=a[35].data&&a[35].data.length!==a[2],c(q,"class","column is-narrow"),c(k,"class","column is-narrow columns is-mobile"),c(l,"class","columns"),c(r,"class","block")},m(U,F){Y(U,e,F);for(let z=0;z<t.length;z+=1)t[z]&&t[z].m(e,null);Y(U,n,F),Y(U,r,F),i(r,l),i(l,o),i(o,f),i(f,E),i(E,v),i(v,p);for(let z=0;z<A.length;z+=1)A[z]&&A[z].m(p,null);lt(p,a[2],!0),i(f,y),i(f,S),i(S,I),i(I,D),i(l,R),i(l,k),i(k,m),i(m,_),i(_,C),i(k,T),i(k,P),i(P,L),i(L,V),i(k,j),i(k,q),i(q,K),i(K,H),G||(W=[te(p,"change",a[19]),te(I,"click",X),te(_,"click",a[21]),te(K,"click",ie)],G=!0)},p(U,F){if(a=U,F[0]&16408|F[1]&16&&(Z=ke(a[35].data??[]),t=He(t,F,J,1,a,Z,s,e,Ke,Wt,null,Kt)),F[0]&128){O=ke(a[7]);let z;for(z=0;z<O.length;z+=1){const se=Ht(a,O,z);A[z]?A[z].p(se,F):(A[z]=Jt(se),A[z].c(),A[z].m(p,null))}for(;z<A.length;z+=1)A[z].d(1);A.length=O.length}F[0]&132&&lt(p,a[2]),F[1]&16&&w!==(w=a[35].data&&a[35].data.length===0)&&(I.disabled=w),F[0]&2&&g!==(g=a[1]===0)&&(_.disabled=g),F[0]&2&&N!==(N=a[1]+1+"")&&ce(V,N),F[0]&132|F[1]&16&&B!==(B=a[35].data&&a[35].data.length!==a[2])&&(K.disabled=B)},d(U){U&&(u(e),u(n),u(r));for(let F=0;F<t.length;F+=1)t[F].d();hs(A,U),G=!1,je(W)}}}function Ys(a){let e,t="Loading customer...";return{c(){e=d("div"),e.textContent=t},l(s){e=h(s,"DIV",{"data-svelte-h":!0}),ne(e)!=="svelte-1kcp520"&&(e.textContent=t)},m(s,n){Y(s,e,n)},p:be,d(s){s&&u(e)}}}function zt(a){let e;return{c(){e=d("hr"),this.h()},l(t){e=h(t,"HR",{class:!0}),this.h()},h(){c(e,"class","p-0 m-0 my-2")},m(t,s){Y(t,e,s)},d(t){t&&u(e)}}}function Wt(a,e){let t,s,n,r,l,o=e[36].name+"",f,E,v,p,y,S,I,D=e[36].slId+"",w,R,k,m=e[36].address+"",_,C,g,T,P,L=(e[36].branchName??"-")+"",N,V,j,q,K="Edit",H,B,G,W=e[40]>0&&zt();function Z(){return e[17](e[36])}function J(){return e[18](e[36])}return{key:a,first:null,c(){t=qe(),W&&W.c(),s=Q(),n=d("div"),r=d("div"),l=d("div"),f=$(o),E=Q(),v=d("div"),p=d("label"),y=d("input"),S=Q(),I=d("span"),w=$(D),R=Q(),k=d("div"),_=$(m),C=Q(),g=d("div"),T=d("div"),P=d("div"),N=$(L),V=Q(),j=d("div"),q=d("button"),q.textContent=K,H=Q(),this.h()},l(O){t=qe(),W&&W.l(O),s=M(O),n=h(O,"DIV",{class:!0});var A=b(n);r=h(A,"DIV",{class:!0});var X=b(r);l=h(X,"DIV",{class:!0});var ie=b(l);f=x(ie,o),ie.forEach(u),E=M(X),v=h(X,"DIV",{class:!0});var U=b(v);p=h(U,"LABEL",{});var F=b(p);y=h(F,"INPUT",{type:!0}),S=M(F),I=h(F,"SPAN",{class:!0});var z=b(I);w=x(z,D),z.forEach(u),F.forEach(u),U.forEach(u),X.forEach(u),R=M(A),k=h(A,"DIV",{class:!0});var se=b(k);_=x(se,m),se.forEach(u),C=M(A),g=h(A,"DIV",{class:!0});var fe=b(g);T=h(fe,"DIV",{class:!0});var le=b(T);P=h(le,"DIV",{class:!0});var re=b(P);N=x(re,L),re.forEach(u),V=M(le),j=h(le,"DIV",{class:!0});var de=b(j);q=h(de,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(q)!=="svelte-1ipzwr1"&&(q.textContent=K),de.forEach(u),le.forEach(u),fe.forEach(u),H=M(A),A.forEach(u),this.h()},h(){c(l,"class","column pb-0 has-text-weight-bold"),c(y,"type","checkbox"),c(I,"class","ml-2"),c(v,"class","column pb-0 is-narrow"),c(r,"class","column py-0 columns is-mobile is-5"),c(k,"class","column is-4 py-0"),c(P,"class","column"),c(q,"class","button is-small is-link is-outlined"),c(j,"class","column is-narrow"),c(T,"class","columns is-mobile"),c(g,"class","column py-0 is-3"),c(n,"class","columns p-0 m-0"),this.first=t},m(O,A){Y(O,t,A),W&&W.m(O,A),Y(O,s,A),Y(O,n,A),i(n,r),i(r,l),i(l,f),i(r,E),i(r,v),i(v,p),i(p,y),i(p,S),i(p,I),i(I,w),i(n,R),i(n,k),i(k,_),i(n,C),i(n,g),i(g,T),i(T,P),i(P,N),i(T,V),i(T,j),i(j,q),i(n,H),B||(G=[te(y,"click",Z),te(q,"click",J)],B=!0)},p(O,A){e=O,e[40]>0?W||(W=zt(),W.c(),W.m(s.parentNode,s)):W&&(W.d(1),W=null),A[1]&16&&o!==(o=e[36].name+"")&&ce(f,o),A[1]&16&&D!==(D=e[36].slId+"")&&ce(w,D),A[1]&16&&m!==(m=e[36].address+"")&&ce(_,m),A[1]&16&&L!==(L=(e[36].branchName??"-")+"")&&ce(N,L)},d(O){O&&(u(t),u(s),u(n)),W&&W.d(O),B=!1,je(G)}}}function Jt(a){let e,t=a[36]+"",s;return{c(){e=d("option"),s=$(t),this.h()},l(n){e=h(n,"OPTION",{});var r=b(e);s=x(r,t),r.forEach(u),this.h()},h(){e.__value=a[36],ye(e,e.__value)},m(n,r){Y(n,e,r),i(e,s)},p:be,d(n){n&&u(e)}}}function Zs(a){let e;function t(r,l){return r[35].status==="loading"?Ys:Gs}let s=t(a),n=s(a);return{c(){e=d("div"),n.c(),this.h()},l(r){e=h(r,"DIV",{slot:!0});var l=b(e);n.l(l),l.forEach(u),this.h()},h(){c(e,"slot","query")},m(r,l){Y(r,e,l),n.m(e,null)},p(r,l){s===(s=t(r))&&n?n.p(r,l):(n.d(1),n=s(r),n&&(n.c(),n.m(e,null)))},d(r){r&&u(e),n.d()}}}function Xt(a){let e,t,s;function n(l){a[23](l)}let r={branchs:a[0],data:{...a[3]}};return a[4]!==void 0&&(r.isActive=a[4]),e=new Xs({props:r}),rt.push(()=>ut(e,"isActive",n)),e.$on("onSave",a[12]),e.$on("removeCustomer",a[15]),{c(){Oe(e.$$.fragment)},l(l){Re(e.$$.fragment,l)},m(l,o){we(e,l,o),s=!0},p(l,o){const f={};o[0]&1&&(f.branchs=l[0]),o[0]&8&&(f.data={...l[3]}),!t&&o[0]&16&&(t=!0,f.isActive=l[4],ct(()=>t=!1)),e.$set(f)},i(l){s||(he(e.$$.fragment,l),s=!0)},o(l){_e(e.$$.fragment,l),s=!1},d(l){Te(e,l)}}}function $s(a){let e,t,s,n='<div class="subtitle block">Customer</div>',r,l,o,f="+ New",E,v,p,y,S,I;v=new ns({props:{options:a[5],$$slots:{query:[Zs,({queryResult:w})=>({35:w}),({queryResult:w})=>[0,w?16:0]]},$$scope:{ctx:a}}});let D=a[4]==="is-active"&&Xt(a);return{c(){e=d("div"),t=d("div"),s=d("div"),s.innerHTML=n,r=Q(),l=d("div"),o=d("button"),o.textContent=f,E=Q(),Oe(v.$$.fragment),p=Q(),D&&D.c(),this.h()},l(w){e=h(w,"DIV",{class:!0});var R=b(e);t=h(R,"DIV",{class:!0});var k=b(t);s=h(k,"DIV",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-s6vxt3"&&(s.innerHTML=n),r=M(k),l=h(k,"DIV",{class:!0});var m=b(l);o=h(m,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(o)!=="svelte-13enxc"&&(o.textContent=f),m.forEach(u),k.forEach(u),E=M(R),Re(v.$$.fragment,R),p=M(R),D&&D.l(R),R.forEach(u),this.h()},h(){c(s,"class","column"),c(o,"class","button is-success"),c(l,"class","column is-narrow"),c(t,"class","columns is-mobile"),c(e,"class","container")},m(w,R){Y(w,e,R),i(e,t),i(t,s),i(t,r),i(t,l),i(l,o),i(e,E),we(v,e,null),i(e,p),D&&D.m(e,null),y=!0,S||(I=te(o,"click",a[16]),S=!0)},p(w,R){const k={};R[0]&32&&(k.options=w[5]),R[0]&30|R[1]&1040&&(k.$$scope={dirty:R,ctx:w}),v.$set(k),w[4]==="is-active"?D?(D.p(w,R),R[0]&16&&he(D,1)):(D=Xt(w),D.c(),he(D,1),D.m(e,null)):D&&(es(),_e(D,1,1,()=>{D=null}),ts())},i(w){y||(he(v.$$.fragment,w),he(D),y=!0)},o(w){_e(v.$$.fragment,w),_e(D),y=!1},d(w){w&&u(e),Te(v),D&&D.d(),S=!1,I()}}}function xs(a,e,t){let s,n,r,l;const o=Fe(),f=We();let{branchs:E=[]}=e,v=0,p=5,y=[5,10,25,50,100];const S=async(O,A)=>await Ce.get(`/v2/pdam/customer/list/${A}/${A*O}`).json(),I=async O=>{O&&O.length===p&&await f.prefetchQuery(["pdam","customer","list",v+1],()=>S(v+1,p))},D=async O=>await Ce.headers({"Content-Type":"application/json",Accept:"application/json"}).put(O,`/v2/pdam/customer/${O.oldSlId}`).json(),w=async O=>await Ce.headers({"Content-Type":"application/json",Accept:"application/json"}).post(O,"/v2/pdam/customer/").json(),R=async O=>await Ce.headers({"Content-Type":"application/json",Accept:"application/json"}).delete(`/v2/pdam/customer/${O}`).json(),k=Be(w,{onMutate:async O=>{await f.cancelQueries();const A=f.getQueryData(["pdam","customer","list",v,p]);return A&&f.setQueryData(["pdam","customer","list",v,p],[...A]),A},onSuccess:async(O,A,X)=>{setTimeout(()=>{},1e3)},onError:(O,A,X)=>{X!=null&&X.previousData&&f.setQueryData(["pdam","customer","list",v,p],X.previousData)},onSettled:async(O,A,X,ie)=>{await f.invalidateQueries(["pdam","customer","list",v,p])}});Pe(a,k,O=>t(27,l=O));const m=Be(D,{onMutate:async O=>{await f.cancelQueries();const A=f.getQueryData(["pdam","customer","list",v,p]);return A&&f.setQueryData(["pdam","customer","list",v,p],A),A},onSuccess:async(O,A,X)=>{setTimeout(()=>{},1e3)},onError:(O,A,X)=>{X!=null&&X.previousData&&f.setQueryData(["pdam","customer","list",v,p],X.previousData)},onSettled:async(O,A,X,ie)=>{await f.invalidateQueries(["pdam","customer","list",v,p])}});Pe(a,m,O=>t(26,r=O));const _=Be(R,{onSuccess:async()=>console.log("Delete Success"),onSettled:async()=>await f.invalidateQueries(["pdam","customer","list",v,p])});Pe(a,_,O=>t(25,n=O));const C={slId:"",name:"",address:"",branchId:0,isNew:!0};let g=C,T="";function P(O){const A=O.detail;A.isNew?l.mutate(A):r.mutate({...A,createdAt:Is().format()}),t(4,T="")}const L=O=>{t(1,v=O)},N=O=>{L(0)};function V(O){o("selectCustomer",O)}function j(O){n.mutate(O.detail.slId),t(4,T="")}const q=()=>{t(3,g={...C}),t(4,T="is-active")},K=O=>V(O),H=O=>{t(3,g={...O,isNew:!1,oldSlId:O.slId}),t(4,T="is-active")};function B(){p=xt(this),t(2,p),t(7,y)}const G=O=>o("selectAll",O.data),W=()=>L(Math.max(v-1,0)),Z=O=>{L(O.data&&O.data.length!==p?v:v+1)};function J(O){T=O,t(4,T)}return a.$$set=O=>{"branchs"in O&&t(0,E=O.branchs)},a.$$.update=()=>{a.$$.dirty[0]&4&&N(),a.$$.dirty[0]&6&&t(5,s={queryKey:["pdam","customer","list",v,p],queryFn:()=>S(v,p),onSuccess:()=>I,keepPreviousData:!0})},[E,v,p,g,T,s,o,y,k,m,_,C,P,L,V,j,q,K,H,B,G,W,Z,J]}class ea extends Ae{constructor(e){super(),Ne(this,e,xs,$s,Ve,{branchs:0},null,[-1,-1])}}function ta(a){let e,t,s="Import data pelanggan dari file .csv",n,r,l,o,f,E,v,p,y,S,I,D,w,R,k,m,_,C,g,T=JSON.stringify({"Jumlah data":a[1].length,data:a[1]},null,2)+"",P,L,N;return{c(){e=d("div"),t=d("div"),t.textContent=s,n=Q(),r=d("div"),l=d("div"),o=d("div"),f=d("input"),E=Q(),v=d("div"),p=d("span"),y=$("CSV Format ("),S=$(a[0]),I=$(")"),D=Q(),w=d("div"),R=d("button"),k=$("Import Now"),_=Q(),C=d("div"),g=d("pre"),P=$(T),this.h()},l(V){e=h(V,"DIV",{});var j=b(e);t=h(j,"DIV",{class:!0,"data-svelte-h":!0}),ne(t)!=="svelte-aw1kmd"&&(t.textContent=s),n=M(j),r=h(j,"DIV",{class:!0});var q=b(r);l=h(q,"DIV",{class:!0});var K=b(l);o=h(K,"DIV",{class:!0});var H=b(o);f=h(H,"INPUT",{type:!0,class:!0,accept:!0}),H.forEach(u),E=M(K),v=h(K,"DIV",{class:!0});var B=b(v);p=h(B,"SPAN",{});var G=b(p);y=x(G,"CSV Format ("),S=x(G,a[0]),I=x(G,")"),G.forEach(u),B.forEach(u),D=M(K),w=h(K,"DIV",{class:!0});var W=b(w);R=h(W,"BUTTON",{class:!0});var Z=b(R);k=x(Z,"Import Now"),Z.forEach(u),W.forEach(u),K.forEach(u),_=M(q),C=h(q,"DIV",{});var J=b(C);g=h(J,"PRE",{});var O=b(g);P=x(O,T),O.forEach(u),J.forEach(u),q.forEach(u),j.forEach(u),this.h()},h(){c(t,"class","subtitle"),c(f,"type","file"),c(f,"class","input"),c(f,"accept","text/csv"),c(o,"class","column"),c(v,"class","column"),R.disabled=m=a[1].length===0,c(R,"class","button is-primary"),c(w,"class","column is-narrow"),c(l,"class","columns"),c(r,"class","block")},m(V,j){Y(V,e,j),i(e,t),i(e,n),i(e,r),i(r,l),i(l,o),i(o,f),i(l,E),i(l,v),i(v,p),i(p,y),i(p,S),i(p,I),i(l,D),i(l,w),i(w,R),i(R,k),i(r,_),i(r,C),i(C,g),i(g,P),L||(N=[te(f,"change",fs(a[5])),te(R,"click",a[3])],L=!0)},p(V,[j]){j&1&&ce(S,V[0]),j&2&&m!==(m=V[1].length===0)&&(R.disabled=m),j&2&&T!==(T=JSON.stringify({"Jumlah data":V[1].length,data:V[1]},null,2)+"")&&ce(P,T)},i:be,o:be,d(V){V&&u(e),L=!1,je(N)}}}function sa(a,e,t){let{branchs:s=[]}=e,{header:n=""}=e,r=[];const l=Fe(),o=p=>{const y=s.filter(S=>S.name===p)[0];return y?y.id:1};function f(p){const y=p.currentTarget;if(y&&y.files&&y.files[0]){const S=y.files[0],I=new FileReader;I.onload=D=>{var R;const w=((R=D.target)==null?void 0:R.result)??"";ks().fromString(w).then(k=>{t(1,r=k.map(m=>({name:m.name,address:m.address,slId:m.noSl,branchId:o(m.city),branchName:m.city})))})},I.readAsText(S,"utf-8")}}async function E(p){const y=await Ce.headers({"Content-Type":"application/json",Accept:"application/json"}).url("/v2/pdam/customer/import").post(r).json();y.status==="SUCCESS"&&l("success",y)}const v=p=>f(p);return a.$$set=p=>{"branchs"in p&&t(4,s=p.branchs),"header"in p&&t(0,n=p.header)},[n,r,f,E,s,v]}class aa extends Ae{constructor(e){super(),Ne(this,e,sa,ta,Ve,{branchs:4,header:0})}}function Gt(a,e,t){const s=a.slice();return s[6]=e[t],s[8]=t,s}function Yt(a){let e;return{c(){e=d("hr"),this.h()},l(t){e=h(t,"HR",{class:!0}),this.h()},h(){c(e,"class","p-0 m-0 my-2")},m(t,s){Y(t,e,s)},d(t){t&&u(e)}}}function Zt(a,e){let t,s,n,r,l,o=e[6].name+"",f,E,v,p=e[6].noSl+"",y,S,I,D=e[6].address+"",w,R,k,m,_=e[6].city+"",C,g,T,P,L="Remove",N,V,j,q=e[8]>0&&Yt();function K(){return e[5](e[6])}return{key:a,first:null,c(){t=qe(),q&&q.c(),s=Q(),n=d("div"),r=d("div"),l=d("div"),f=$(o),E=Q(),v=d("div"),y=$(p),S=Q(),I=d("div"),w=$(D),R=Q(),k=d("div"),m=d("div"),C=$(_),g=Q(),T=d("div"),P=d("button"),P.textContent=L,N=Q(),this.h()},l(H){t=qe(),q&&q.l(H),s=M(H),n=h(H,"DIV",{class:!0});var B=b(n);r=h(B,"DIV",{class:!0});var G=b(r);l=h(G,"DIV",{class:!0});var W=b(l);f=x(W,o),W.forEach(u),E=M(G),v=h(G,"DIV",{class:!0});var Z=b(v);y=x(Z,p),Z.forEach(u),G.forEach(u),S=M(B),I=h(B,"DIV",{class:!0});var J=b(I);w=x(J,D),J.forEach(u),R=M(B),k=h(B,"DIV",{class:!0});var O=b(k);m=h(O,"DIV",{class:!0});var A=b(m);C=x(A,_),A.forEach(u),g=M(O),T=h(O,"DIV",{class:!0});var X=b(T);P=h(X,"BUTTON",{title:!0,class:!0,"data-svelte-h":!0}),ne(P)!=="svelte-4tdzbf"&&(P.textContent=L),X.forEach(u),O.forEach(u),N=M(B),B.forEach(u),this.h()},h(){c(l,"class","column pb-0 has-text-weight-bold"),c(v,"class","column pb-0 is-narrow"),c(r,"class","column py-0 columns is-mobile"),c(I,"class","column py-0"),c(m,"class","column"),c(P,"title","Remove from print request"),c(P,"class","button is-small is-warning"),c(T,"class","column is-narrow"),c(k,"class","column py-0 is-4 columns is-mobile"),c(n,"class","columns p-0 m-0"),this.first=t},m(H,B){Y(H,t,B),q&&q.m(H,B),Y(H,s,B),Y(H,n,B),i(n,r),i(r,l),i(l,f),i(r,E),i(r,v),i(v,y),i(n,S),i(n,I),i(I,w),i(n,R),i(n,k),i(k,m),i(m,C),i(k,g),i(k,T),i(T,P),i(n,N),V||(j=te(P,"click",K),V=!0)},p(H,B){e=H,e[8]>0?q||(q=Yt(),q.c(),q.m(s.parentNode,s)):q&&(q.d(1),q=null),B&1&&o!==(o=e[6].name+"")&&ce(f,o),B&1&&p!==(p=e[6].noSl+"")&&ce(y,p),B&1&&D!==(D=e[6].address+"")&&ce(w,D),B&1&&_!==(_=e[6].city+"")&&ce(C,_)},d(H){H&&(u(t),u(s),u(n)),q&&q.d(H),V=!1,j()}}}function la(a){let e,t,s,n=a[0].length+"",r,l,o,f,E,v,p,y,S,I,D,w,R,k,m,_=[],C=new Map,g,T,P=ke(a[0]);const L=N=>N[6].noSl;for(let N=0;N<P.length;N+=1){let V=Gt(a,P,N),j=L(V);C.set(j,_[N]=Zt(j,V))}return{c(){e=d("div"),t=d("div"),s=$("Ada "),r=$(n),l=$(" pelanggan yang akan dicetak kartunya."),o=Q(),f=d("div"),E=d("button"),v=$("Remove All"),y=Q(),S=d("div"),I=d("button"),D=$("Download"),R=Q(),k=d("div"),m=d("div");for(let N=0;N<_.length;N+=1)_[N].c();this.h()},l(N){e=h(N,"DIV",{class:!0});var V=b(e);t=h(V,"DIV",{class:!0});var j=b(t);s=x(j,"Ada "),r=x(j,n),l=x(j," pelanggan yang akan dicetak kartunya."),j.forEach(u),o=M(V),f=h(V,"DIV",{class:!0});var q=b(f);E=h(q,"BUTTON",{title:!0,class:!0});var K=b(E);v=x(K,"Remove All"),K.forEach(u),q.forEach(u),y=M(V),S=h(V,"DIV",{class:!0});var H=b(S);I=h(H,"BUTTON",{class:!0});var B=b(I);D=x(B,"Download"),B.forEach(u),H.forEach(u),V.forEach(u),R=M(N),k=h(N,"DIV",{class:!0});var G=b(k);m=h(G,"DIV",{class:!0});var W=b(m);for(let Z=0;Z<_.length;Z+=1)_[Z].l(W);W.forEach(u),G.forEach(u),this.h()},h(){c(t,"class","column"),E.disabled=p=a[0].length===0,c(E,"title","Remove from print request"),c(E,"class","button is-danger"),c(f,"class","column is-narrow"),I.disabled=w=!a[1],c(I,"class","button is-primary"),c(S,"class","column is-narrow"),c(e,"class","block columns"),c(m,"class","container box"),c(k,"class","block")},m(N,V){Y(N,e,V),i(e,t),i(t,s),i(t,r),i(t,l),i(e,o),i(e,f),i(f,E),i(E,v),i(e,y),i(e,S),i(S,I),i(I,D),Y(N,R,V),Y(N,k,V),i(k,m);for(let j=0;j<_.length;j+=1)_[j]&&_[j].m(m,null);g||(T=[te(E,"click",a[4]),te(I,"click",a[3])],g=!0)},p(N,[V]){V&1&&n!==(n=N[0].length+"")&&ce(r,n),V&1&&p!==(p=N[0].length===0)&&(E.disabled=p),V&2&&w!==(w=!N[1])&&(I.disabled=w),V&5&&(P=ke(N[0]),_=He(_,V,L,1,N,P,C,m,Ke,Zt,null,Gt))},i:be,o:be,d(N){N&&(u(e),u(R),u(k));for(let V=0;V<_.length;V+=1)_[V].d();g=!1,je(T)}}}function ra(a,e,t){var E;const s=Fe();let{data:n=[]}=e,r=!1;function l(v){s("downloadCaard",!0)}const o=()=>s("removeAllItem",!0),f=v=>s("removeItem",v);a.$$set=v=>{"data"in v&&t(0,n=v.data)};{const v=(E=document.getElementById("username"))==null?void 0:E.innerText;t(1,r=v==="mastur.st12@outlook.com")}return[n,r,s,l,o,f]}class na extends Ae{constructor(e){super(),Ne(this,e,ra,la,Ve,{data:0})}}const{document:at}=ms;function ia(a){let e,t;return e=new na({props:{data:a[2]}}),e.$on("downloadCaard",a[9]),e.$on("removeItem",a[6]),e.$on("removeAllItem",a[10]),{c(){Oe(e.$$.fragment)},l(s){Re(e.$$.fragment,s)},m(s,n){we(e,s,n),t=!0},p(s,n){const r={};n&4&&(r.data=s[2]),e.$set(r)},i(s){t||(he(e.$$.fragment,s),t=!0)},o(s){_e(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function oa(a){let e,t;return e=new aa({props:{branchs:a[0],header:ha}}),e.$on("success",a[4]),{c(){Oe(e.$$.fragment)},l(s){Re(e.$$.fragment,s)},m(s,n){we(e,s,n),t=!0},p(s,n){const r={};n&1&&(r.branchs=s[0]),e.$set(r)},i(s){t||(he(e.$$.fragment,s),t=!0)},o(s){_e(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function ca(a){let e,t;return e=new ea({props:{branchs:a[0]}}),e.$on("selectCustomer",a[5]),e.$on("selectAll",a[7]),{c(){Oe(e.$$.fragment)},l(s){Re(e.$$.fragment,s)},m(s,n){we(e,s,n),t=!0},p(s,n){const r={};n&1&&(r.branchs=s[0]),e.$set(r)},i(s){t||(he(e.$$.fragment,s),t=!0)},o(s){_e(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function ua(a){let e,t;return e=new zs({}),{c(){Oe(e.$$.fragment)},l(s){Re(e.$$.fragment,s)},m(s,n){we(e,s,n),t=!0},p:be,i(s){t||(he(e.$$.fragment,s),t=!0)},o(s){_e(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function da(a){let e,t,s,n,r,l,o,f="PDAM",E,v,p,y,S,I,D,w;function R(g){a[8](g)}let k={};a[1]!==void 0&&(k.currentMenu=a[1]),v=new Us({props:k}),rt.push(()=>ut(v,"currentMenu",R));const m=[ua,ca,oa,ia],_=[];function C(g,T){return g[1]===2?0:g[1]===1?1:g[1]===3?2:3}return I=C(a),D=_[I]=m[I](a),{c(){e=d("meta"),t=d("meta"),s=Q(),n=d("section"),r=d("div"),l=d("div"),o=d("div"),o.textContent=f,E=Q(),Oe(v.$$.fragment),y=Q(),S=d("div"),D.c(),this.h()},l(g){const T=vs("svelte-15hq90y",at.head);e=h(T,"META",{property:!0,content:!0}),t=h(T,"META",{name:!0,content:!0}),T.forEach(u),s=M(g),n=h(g,"SECTION",{});var P=b(n);r=h(P,"DIV",{class:!0});var L=b(r);l=h(L,"DIV",{class:!0});var N=b(l);o=h(N,"DIV",{class:!0,"data-svelte-h":!0}),ne(o)!=="svelte-wws45t"&&(o.textContent=f),E=M(N),Re(v.$$.fragment,N),N.forEach(u),y=M(L),S=h(L,"DIV",{class:!0});var V=b(S);D.l(V),V.forEach(u),L.forEach(u),P.forEach(u),this.h()},h(){c(e,"property","og:description"),c(e,"content","PDAM Card"),at.title="PDAM Card",c(t,"name","description"),c(t,"content","PDAM Card"),c(o,"class","title"),c(l,"class","column is-narrow is-one-fifth"),c(S,"class","column"),c(r,"class","columns")},m(g,T){i(at.head,e),i(at.head,t),Y(g,s,T),Y(g,n,T),i(n,r),i(r,l),i(l,o),i(l,E),we(v,l,null),i(r,y),i(r,S),_[I].m(S,null),w=!0},p(g,[T]){const P={};!p&&T&2&&(p=!0,P.currentMenu=g[1],ct(()=>p=!1)),v.$set(P);let L=I;I=C(g),I===L?_[I].p(g,T):(es(),_e(_[L],1,1,()=>{_[L]=null}),ts(),D=_[I],D?D.p(g,T):(D=_[I]=m[I](g),D.c()),he(D,1),D.m(S,null))},i(g){w||(he(v.$$.fragment,g),he(D),w=!0)},o(g){_e(v.$$.fragment,g),_e(D),w=!1},d(g){g&&(u(s),u(n)),u(e),u(t),Te(v),_[I].d()}}}let ha="noSl, name, address, city";function fa(a,e,t){let s=[];const n=We();let r=1,l=[];const o=k=>s.filter(m=>m.id===k)[0].address;async function f(){let k="pdam-card.pdf";const m="/v1/pdam";await Ce.headers({Accept:"application/pdf","Content-Type":"application/json"}).url(m).post(l).blob(_=>{var C=window.URL.createObjectURL(_),g=document.createElement("a");g.href=C,g.download=k,g.click(),g.remove(),setTimeout(()=>!1,1e3),window.URL.revokeObjectURL(C)}).catch(_=>{console.log(_)})}const E=async()=>await Ce.get("/v2/pdam/branch/").json(),v=rs({queryKey:["pdam","branch","list"],queryFn:async()=>await E()});ot(async()=>{v.subscribe(k=>t(0,s=k.data??[]))});function p(k){n.invalidateQueries(["pdam","customer","list"]),t(1,r=1)}function y(k){const m=l.filter(_=>_.noSl===k.detail.slId)[0];if(m){t(2,l=l.filter(_=>_.noSl!=m.noSl));return}t(2,l=[...l,{address:k.detail.address,cabang:o(k.detail.branchId),city:k.detail.branchName??"",name:k.detail.name,noSl:k.detail.slId}])}function S(k){t(2,l=l.filter(m=>m.noSl!=k.detail.noSl))}function I(k){if(k.detail){const m=l.map(C=>C.noSl),_=k.detail.map(C=>({address:C.address,cabang:o(C.branchId),city:C.branchName??"",name:C.name,noSl:C.slId})).filter(C=>!m.includes(C.noSl));t(2,l=[...l,..._])}}function D(k){r=k,t(1,r)}return[s,r,l,f,p,y,S,I,D,()=>f(),()=>t(2,l=[])]}class Ia extends Ae{constructor(e){super(),Ne(this,e,fa,da,Ve,{})}}export{Ia as component};
