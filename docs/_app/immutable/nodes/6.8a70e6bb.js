import{T as as,s as Ve,B as ls,C as rs,D as ns,E as is,o as it,H as Pe,f as h,g as f,h as y,d,j as c,i as X,v as i,x as _e,l as G,a as V,m as Y,c as A,w as x,u as re,I as ge,n as ce,y as Le,U as Be,p as lt,V as ot,z as Xt,W as at,X as Gt,Q as os,S as cs,r as us}from"../chunks/scheduler.a1a79cf5.js";import{S as Ae,i as Qe,a as he,t as pe,j as ct,b as Oe,d as Re,m as we,e as Te,g as Yt,c as Zt}from"../chunks/index.f0883218.js";import{f as Ce,g as ds}from"../chunks/fetch-api.1021b51e.js";import{e as ke,u as Fe,d as Ke}from"../chunks/each.5046d998.js";import{r as $t}from"../chunks/index.e7c8a821.js";import{S as xt,h as hs,n as es,u as Ct,i as St,t as fs,k as vs,r as Ot,b as Rt,v as ms,a as ps,c as Ne,w as _s,l as wt,x as Tt}from"../chunks/mutation.1fce78fe.js";import{a as bs}from"../chunks/dayjs.min.6559d33b.js";import{c as gs}from"../chunks/browser.54b85836.js";class ys extends xt{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=[],this.previousSelectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Vt(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return ks(this.currentQuery,this.options)}shouldFetchOnWindowFocus(){return Ds(this.currentQuery,this.options)}destroy(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)}setOptions(e,t){const s=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const r=this.hasListeners();r&&At(this.currentQuery,n,this.options,s)&&this.executeFetch(),this.updateResult(t),r&&(this.currentQuery!==n||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();const l=this.computeRefetchInterval();r&&(this.currentQuery!==n||this.options.enabled!==s.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)}updateOptions(e,t){const s=Object.assign(Object.assign({},this.options),e);e.queryKey&&!e.queryHash&&e.queryKey!==this.options.queryKey&&(s.queryHash=hs(e.queryKey,s)),this.setOptions(s,t)}getOptimisticResult(e){const t=this.client.defaultQueryObserverOptions(e),s=this.client.getQueryCache().build(this.client,t);return this.createResult(s,t)}getCurrentResult(){return this.currentResult}trackResult(e,t){const s={},n=r=>{this.trackedProps.includes(r)||this.trackedProps.push(r)};return Object.keys(e).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(n(r),e[r])})}),(t.useErrorBoundary||t.suspense)&&n("error"),s}getNextResult(e){return new Promise((t,s)=>{const n=this.subscribe(r=>{r.isFetching||(n(),r.isError&&(e!=null&&e.throwOnError)?s(r.error):t(r))})})}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch(e){return this.fetch(Object.assign(Object.assign({},e),{meta:{refetchPage:e==null?void 0:e.refetchPage}}))}fetchOptimistic(e){const t=this.client.defaultQueryObserverOptions(e),s=this.client.getQueryCache().build(this.client,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.executeFetch(e).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(es)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),Ct||this.currentResult.isStale||!St(this.options.staleTime))return;const t=fs(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!==null&&e!==void 0?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Ct||this.options.enabled===!1||!St(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||vs.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearTimers(){this.clearStaleTimeout(),this.clearRefetchInterval()}clearStaleTimeout(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0}clearRefetchInterval(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0}createResult(e,t){var s;const n=this.currentQuery,r=this.options,l=this.currentResult,o=this.currentResultState,u=this.currentResultOptions,b=e!==n,m=b?e.state:this.currentQueryInitialState,p=b?this.currentResult:this.previousQueryResult,{state:g}=e;let{dataUpdatedAt:C,error:S,errorUpdatedAt:I,isFetching:w,status:D}=g,R=!1,k=!1,v;if(t.optimisticResults){const E=this.hasListeners(),O=!E&&Vt(e,t),Q=E&&At(e,n,t,r);(O||Q)&&(w=!0,C||(D="loading"))}if(t.keepPreviousData&&!g.dataUpdateCount&&(p!=null&&p.isSuccess)&&D!=="error")v=p.data,C=p.dataUpdatedAt,D=p.status,R=!0;else if(t.select&&typeof g.data<"u")if(l&&g.data===(o==null?void 0:o.data)&&t.select===((s=this.previousSelect)===null||s===void 0?void 0:s.fn)&&!this.previousSelectError)v=this.previousSelect.result;else try{v=t.select(g.data),t.structuralSharing!==!1&&(v=Ot(l==null?void 0:l.data,v)),this.previousSelect={fn:t.select,result:v},this.previousSelectError=null}catch(E){Rt().error(E),S=E,this.previousSelectError=E,I=Date.now(),D="error"}else v=g.data;if(typeof t.placeholderData<"u"&&typeof v>"u"&&(D==="loading"||D==="idle")){let E;if(l!=null&&l.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData))E=l.data;else if(E=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof E<"u")try{E=t.select(E),t.structuralSharing!==!1&&(E=Ot(l==null?void 0:l.data,E)),this.previousSelectError=null}catch(O){Rt().error(O),S=O,this.previousSelectError=O,I=Date.now(),D="error"}typeof E<"u"&&(D="success",v=E,k=!0)}return{status:D,isLoading:D==="loading",isSuccess:D==="success",isError:D==="error",isIdle:D==="idle",data:v,dataUpdatedAt:C,error:S,errorUpdatedAt:I,failureCount:g.fetchFailureCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>m.dataUpdateCount||g.errorUpdateCount>m.errorUpdateCount,isFetching:w,isRefetching:w&&D!=="loading",isLoadingError:D==="error"&&g.dataUpdatedAt===0,isPlaceholderData:k,isPreviousData:R,isRefetchError:D==="error"&&g.dataUpdatedAt!==0,isStale:He(e,t),refetch:this.refetch,remove:this.remove}}shouldNotifyListeners(e,t){if(!t)return!0;const{notifyOnChangeProps:s,notifyOnChangePropsExclusions:n}=this.options;if(!s&&!n||s==="tracked"&&!this.trackedProps.length)return!0;const r=s==="tracked"?this.trackedProps:s;return Object.keys(e).some(l=>{const o=l,u=e[o]!==t[o],b=r==null?void 0:r.some(p=>p===l),m=n==null?void 0:n.some(p=>p===l);return u&&!m&&(!r||b)})}updateResult(e){const t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,ms(this.currentResult,t))return;const s={cache:!0};(e==null?void 0:e.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,t)&&(s.listeners=!0),this.notify(Object.assign(Object.assign({},s),e))}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!0:e.type==="error"&&!ps(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){Ne.batch(()=>{var t,s,n,r,l,o,u,b;e.onSuccess?((s=(t=this.options).onSuccess)===null||s===void 0||s.call(t,this.currentResult.data),(r=(n=this.options).onSettled)===null||r===void 0||r.call(n,this.currentResult.data,null)):e.onError&&((o=(l=this.options).onError)===null||o===void 0||o.call(l,this.currentResult.error),(b=(u=this.options).onSettled)===null||b===void 0||b.call(u,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(m=>{m(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Es(a,e){return e.enabled!==!1&&!a.state.dataUpdatedAt&&!(a.state.status==="error"&&e.retryOnMount===!1)}function Is(a,e){return e.enabled!==!1&&a.state.dataUpdatedAt>0&&(e.refetchOnMount==="always"||e.refetchOnMount!==!1&&He(a,e))}function Vt(a,e){return Es(a,e)||Is(a,e)}function ks(a,e){return e.enabled!==!1&&(e.refetchOnReconnect==="always"||e.refetchOnReconnect!==!1&&He(a,e))}function Ds(a,e){return e.enabled!==!1&&(e.refetchOnWindowFocus==="always"||e.refetchOnWindowFocus!==!1&&He(a,e))}function At(a,e,t,s){return t.enabled!==!1&&(a!==e||s.enabled===!1)&&(!t.suspense||a.state.status!=="error")&&He(a,t)}function He(a,e){return a.isStaleByTime(e.staleTime)}class Cs extends xt{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){this.options=this.client.defaultMutationOptions(e)}onUnsubscribe(){var e;this.listeners.length||(e=this.currentMutation)===null||e===void 0||e.removeObserver(this)}onMutationUpdate(e){this.updateResult();const t={listeners:!0};e.type==="success"?t.onSuccess=!0:e.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object.assign(Object.assign({},this.options),{variables:typeof e<"u"?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:_s(),t=Object.assign(Object.assign({},e),{isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=t}notify(e){Ne.batch(()=>{var t,s,n,r,l,o,u,b;this.mutateOptions&&(e.onSuccess?((s=(t=this.mutateOptions).onSuccess)===null||s===void 0||s.call(t,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(r=(n=this.mutateOptions).onSettled)===null||r===void 0||r.call(n,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&((o=(l=this.mutateOptions).onError)===null||o===void 0||o.call(l,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(b=(u=this.mutateOptions).onSettled)===null||b===void 0||b.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))),e.listeners&&this.listeners.forEach(m=>{m(this.currentResult)})})}}function ze(){const a=as("queryClient");if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a}function Qt(a){return a.optimisticResults=!0,a.onError&&(a.onError=Ne.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Ne.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Ne.batchCalls(a.onSettled)),a}function ts(a,e,t){const s=wt(a,e,t),n=ze();let r=n.defaultQueryObserverOptions(s);r=Qt(r);const l=new ys(n,r),{subscribe:o}=$t(l.getCurrentResult(),p=>l.subscribe(Ne.batchCalls(p)));l.updateResult();function u(p,g,C){const S=wt(p,g,C);let I=n.defaultQueryObserverOptions(S);I=Qt(I),l.hasListeners()&&l.setOptions(I,{listeners:!1})}function b(p){l.updateOptions(p)}function m(p){b({enabled:p})}return{subscribe:o,setOptions:u,updateOptions:b,setEnabled:m}}const Ss=a=>({queryResult:a&1}),Nt=a=>({queryResult:a[0]});function Os(a){let e;const t=a[6].query,s=ls(t,a,a[5],Nt);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,r){s&&s.m(n,r),e=!0},p(n,[r]){s&&s.p&&(!e||r&33)&&rs(s,t,n,n[5],e?is(t,n[5],r,Ss):ns(n[5]),Nt)},i(n){e||(he(s,n),e=!0)},o(n){pe(s,n),e=!1},d(n){s&&s.d(n)}}}function Rs(a,e,t){let s,{$$slots:n={},$$scope:r}=e,{options:l}=e,{queryResult:o=void 0}=e,u=!0;it(()=>{t(3,u=!1)});const b=ts(l);return Pe(a,b,m=>t(4,s=m)),a.$$set=m=>{"options"in m&&t(2,l=m.options),"queryResult"in m&&t(0,o=m.queryResult),"$$scope"in m&&t(5,r=m.$$scope)},a.$$.update=()=>{a.$$.dirty&16&&t(0,o=s),a.$$.dirty&12&&(u||b.setOptions(l))},[o,b,l,u,s,r,n]}class ws extends Ae{constructor(e){super(),Qe(this,e,Rs,Os,Ve,{options:2,queryResult:0})}}const ss=ws;function qe(a,e,t){const s=Tt(a,e,t),n=ze(),r=new Cs(n,s),l=(p,g)=>{r.mutate(p,g).catch(es)},o=r.getCurrentResult(),u=Object.assign(Object.assign({},o),{mutate:l,mutateAsync:o.mutate}),{subscribe:b}=$t(u,p=>r.subscribe(Ne.batchCalls(g=>{r.hasListeners()&&p(Object.assign(Object.assign({},g),{mutate:l,mutateAsync:g.mutate}))})));function m(p,g,C){if(r.hasListeners()){const S=Tt(p,g,C);r.setOptions(S)}}return{subscribe:b,setOptions:m}}function Mt(a,e,t){const s=a.slice();return s[3]=e[t],s}function Ut(a,e){let t,s,n=e[3].name+"",r,l,o,u,b;function m(){return e[2](e[3])}return{key:a,first:null,c(){t=h("li"),s=h("a"),r=G(n),o=V(),this.h()},l(p){t=f(p,"LI",{});var g=y(t);s=f(g,"A",{href:!0,class:!0});var C=y(s);r=Y(C,n),C.forEach(d),o=A(g),g.forEach(d),this.h()},h(){c(s,"href","#"+e[3].id),c(s,"class",l=e[3].id===e[0]?"is-active":""),this.first=t},m(p,g){X(p,t,g),i(t,s),i(s,r),i(t,o),u||(b=x(s,"click",m),u=!0)},p(p,g){e=p,g&1&&l!==(l=e[3].id===e[0]?"is-active":"")&&c(s,"class",l)},d(p){p&&d(t),u=!1,b()}}}function Ts(a){let e,t,s=[],n=new Map,r=ke(a[1]);const l=o=>o[3].id;for(let o=0;o<r.length;o+=1){let u=Mt(a,r,o),b=l(u);n.set(b,s[o]=Ut(b,u))}return{c(){e=h("aside"),t=h("ul");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=f(o,"ASIDE",{class:!0});var u=y(e);t=f(u,"UL",{class:!0});var b=y(t);for(let m=0;m<s.length;m+=1)s[m].l(b);b.forEach(d),u.forEach(d),this.h()},h(){c(t,"class","menu-list"),c(e,"class","menu")},m(o,u){X(o,e,u),i(e,t);for(let b=0;b<s.length;b+=1)s[b]&&s[b].m(t,null)},p(o,[u]){u&3&&(r=ke(o[1]),s=Fe(s,u,l,1,o,r,n,t,Ke,Ut,null,Mt))},i:_e,o:_e,d(o){o&&d(e);for(let u=0;u<s.length;u+=1)s[u].d()}}}function Vs(a,e,t){const s=[{id:1,name:"Customer"},{id:2,name:"Cabang"},{id:3,name:"Import"},{id:4,name:"Download Card"}];let{currentMenu:n=1}=e;const r=l=>t(0,n=l.id);return a.$$set=l=>{"currentMenu"in l&&t(0,n=l.currentMenu)},[n,s,r]}class As extends Ae{constructor(e){super(),Qe(this,e,Vs,Ts,Ve,{currentMenu:0})}}function Qs(a){let e,t,s,n,r,l,o,u=a[0].id===0?"Cabang Baru":"Cabang "+a[0].name,b,m,p,g,C,S,I,w,D="Nama",R,k,v,_,E,O,Q="Alamat",B,H,P,F,W,L,j,ee,$,ae="Cancel",J,U,T,K,q,le;return{c(){e=h("div"),t=h("div"),s=h("div"),n=V(),r=h("div"),l=h("header"),o=h("p"),b=G(u),m=V(),p=h("button"),g=V(),C=h("section"),S=h("div"),I=h("label"),w=h("span"),w.textContent=D,R=V(),k=h("input"),v=V(),_=h("div"),E=h("label"),O=h("span"),O.textContent=Q,B=V(),H=h("input"),P=V(),F=h("footer"),W=h("div"),L=h("div"),j=V(),ee=h("div"),$=h("button"),$.textContent=ae,J=V(),U=h("button"),T=G("Save"),this.h()},l(te){e=f(te,"DIV",{});var N=y(e);t=f(N,"DIV",{class:!0});var z=y(t);s=f(z,"DIV",{class:!0}),y(s).forEach(d),n=A(z),r=f(z,"DIV",{class:!0});var M=y(r);l=f(M,"HEADER",{class:!0});var ne=y(l);o=f(ne,"P",{class:!0});var ie=y(o);b=Y(ie,u),ie.forEach(d),m=A(ne),p=f(ne,"BUTTON",{class:!0,"aria-label":!0}),y(p).forEach(d),ne.forEach(d),g=A(M),C=f(M,"SECTION",{class:!0});var ue=y(C);S=f(ue,"DIV",{class:!0});var ye=y(S);I=f(ye,"LABEL",{});var oe=y(I);w=f(oe,"SPAN",{class:!0,"data-svelte-h":!0}),re(w)!=="svelte-zhk08k"&&(w.textContent=D),R=A(oe),k=f(oe,"INPUT",{type:!0,class:!0,placeholder:!0}),oe.forEach(d),ye.forEach(d),v=A(ue),_=f(ue,"DIV",{class:!0});var Se=y(_);E=f(Se,"LABEL",{class:!0});var Ee=y(E);O=f(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),re(O)!=="svelte-rl919z"&&(O.textContent=Q),B=A(Ee),H=f(Ee,"INPUT",{type:!0,class:!0,placeholder:!0}),Ee.forEach(d),Se.forEach(d),ue.forEach(d),P=A(M),F=f(M,"FOOTER",{class:!0});var be=y(F);W=f(be,"DIV",{class:!0});var fe=y(W);L=f(fe,"DIV",{class:!0}),y(L).forEach(d),j=A(fe),ee=f(fe,"DIV",{class:!0});var de=y(ee);$=f(de,"BUTTON",{class:!0,"data-svelte-h":!0}),re($)!=="svelte-10tfac"&&($.textContent=ae),J=A(de),U=f(de,"BUTTON",{class:!0});var ve=y(U);T=Y(ve,"Save"),ve.forEach(d),de.forEach(d),fe.forEach(d),be.forEach(d),M.forEach(d),z.forEach(d),N.forEach(d),this.h()},h(){c(s,"class","modal-background"),c(o,"class","modal-card-title"),c(p,"class","delete has-background-danger-dark"),c(p,"aria-label","close"),c(l,"class","modal-card-head"),c(w,"class","label is-small"),c(k,"type","text"),c(k,"class","input is-primary"),c(k,"placeholder","Nama cabang"),c(S,"class","block"),c(O,"class","label is-small"),c(H,"type","text"),c(H,"class","input is-info"),c(H,"placeholder","Alamat cabang"),c(E,"class","block"),c(_,"class","block"),c(C,"class","modal-card-body"),c(L,"class","is-flex-grow-1"),c($,"class","button is-outlined is-link"),U.disabled=a[2],c(U,"class","button is-primary"),c(ee,"class","buttons is-flex-grow-0"),c(W,"class","is-flex is-flex-direction-row container"),c(F,"class","modal-card-foot"),c(r,"class","modal-card"),c(t,"class",K="modal "+a[1])},m(te,N){X(te,e,N),i(e,t),i(t,s),i(t,n),i(t,r),i(r,l),i(l,o),i(o,b),i(l,m),i(l,p),i(r,g),i(r,C),i(C,S),i(S,I),i(I,w),i(I,R),i(I,k),ge(k,a[0].name),i(C,v),i(C,_),i(_,E),i(E,O),i(E,B),i(E,H),ge(H,a[0].address),i(r,P),i(r,F),i(F,W),i(W,L),i(W,j),i(W,ee),i(ee,$),i(ee,J),i(ee,U),i(U,T),q||(le=[x(s,"click",a[4]),x(p,"click",a[5]),x(k,"input",a[6]),x(H,"input",a[7]),x($,"click",a[8]),x(U,"click",a[9])],q=!0)},p(te,[N]){N&1&&u!==(u=te[0].id===0?"Cabang Baru":"Cabang "+te[0].name)&&ce(b,u),N&1&&k.value!==te[0].name&&ge(k,te[0].name),N&1&&H.value!==te[0].address&&ge(H,te[0].address),N&4&&(U.disabled=te[2]),N&2&&K!==(K="modal "+te[1])&&c(t,"class",K)},i:_e,o:_e,d(te){te&&d(e),q=!1,Le(le)}}}function Ns(a,e,t){let s;const n=Be();let{isActive:r=""}=e,{data:l}=e;const o=()=>t(1,r=""),u=()=>t(1,r="");function b(){l.name=this.value,t(0,l)}function m(){l.address=this.value,t(0,l)}const p=()=>t(1,r=""),g=()=>n("onSave",l);return a.$$set=C=>{"isActive"in C&&t(1,r=C.isActive),"data"in C&&t(0,l=C.data)},a.$$.update=()=>{a.$$.dirty&1&&t(2,s=l.name.trim().length===0||l.address.trim().length===0)},[l,r,s,n,o,u,b,m,p,g]}class Ms extends Ae{constructor(e){super(),Qe(this,e,Ns,Qs,Ve,{isActive:1,data:0})}}function Pt(a,e,t){const s=a.slice();return s[18]=e[t],s}function Us(a){let e,t=[],s=new Map,n=ke(a[17].data??[]);const r=l=>l[18].id;for(let l=0;l<n.length;l+=1){let o=Pt(a,n,l),u=r(o);s.set(u,t[l]=jt(u,o))}return{c(){e=h("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=f(l,"DIV",{class:!0});var o=y(e);for(let u=0;u<t.length;u+=1)t[u].l(o);o.forEach(d),this.h()},h(){c(e,"class","container")},m(l,o){X(l,e,o);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null)},p(l,o){o&131075&&(n=ke(l[17].data??[]),t=Fe(t,o,r,1,l,n,s,e,Ke,jt,null,Pt))},d(l){l&&d(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Ps(a){let e,t="Loading branch...";return{c(){e=h("div"),e.textContent=t},l(s){e=f(s,"DIV",{"data-svelte-h":!0}),re(e)!=="svelte-u90sd0"&&(e.textContent=t)},m(s,n){X(s,e,n)},p:_e,d(s){s&&d(e)}}}function jt(a,e){let t,s,n,r,l=e[18].name+"",o,u,b,m=e[18].address+"",p,g,C,S,I="Edit",w,D,R;function k(){return e[7](e[18])}return{key:a,first:null,c(){t=h("hr"),s=V(),n=h("div"),r=h("div"),o=G(l),u=V(),b=h("div"),p=G(m),g=V(),C=h("div"),S=h("button"),S.textContent=I,w=V(),this.h()},l(v){t=f(v,"HR",{class:!0}),s=A(v),n=f(v,"DIV",{class:!0});var _=y(n);r=f(_,"DIV",{class:!0});var E=y(r);o=Y(E,l),E.forEach(d),u=A(_),b=f(_,"DIV",{class:!0});var O=y(b);p=Y(O,m),O.forEach(d),g=A(_),C=f(_,"DIV",{class:!0});var Q=y(C);S=f(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),re(S)!=="svelte-5ooks2"&&(S.textContent=I),Q.forEach(d),w=A(_),_.forEach(d),this.h()},h(){c(t,"class","p-0 m-0 my-2"),c(r,"class","column py-0 has-text-weight-bold"),c(b,"class","column is-8 py-0"),c(S,"class","button is-small is-link is-outlined"),c(C,"class","column py-0 is-narrow"),c(n,"class","columns p-0 m-0"),this.first=t},m(v,_){X(v,t,_),X(v,s,_),X(v,n,_),i(n,r),i(r,o),i(n,u),i(n,b),i(b,p),i(n,g),i(n,C),i(C,S),i(n,w),D||(R=x(S,"click",k),D=!0)},p(v,_){e=v,_&131072&&l!==(l=e[18].name+"")&&ce(o,l),_&131072&&m!==(m=e[18].address+"")&&ce(p,m)},d(v){v&&(d(t),d(s),d(n)),D=!1,R()}}}function js(a){let e;function t(r,l){return r[17].status==="loading"?Ps:Us}let s=t(a),n=s(a);return{c(){e=h("div"),n.c(),this.h()},l(r){e=f(r,"DIV",{slot:!0});var l=y(e);n.l(l),l.forEach(d),this.h()},h(){c(e,"slot","query")},m(r,l){X(r,e,l),n.m(e,null)},p(r,l){s===(s=t(r))&&n?n.p(r,l):(n.d(1),n=s(r),n&&(n.c(),n.m(e,null)))},d(r){r&&d(e),n.d()}}}function qs(a){let e,t,s="Cabang",n,r,l,o,u,b,m,p="+ New",g,C,S,I,w,D;r=new ss({props:{options:a[2],$$slots:{query:[js,({queryResult:v})=>({17:v}),({queryResult:v})=>v?131072:0]},$$scope:{ctx:a}}});function R(v){a[9](v)}let k={data:{...a[0]}};return a[1]!==void 0&&(k.isActive=a[1]),C=new Ms({props:k}),lt.push(()=>ct(C,"isActive",R)),C.$on("onSave",a[6]),{c(){e=h("div"),t=h("div"),t.textContent=s,n=V(),Oe(r.$$.fragment),l=V(),o=h("hr"),u=V(),b=h("div"),m=h("button"),m.textContent=p,g=V(),Oe(C.$$.fragment),this.h()},l(v){e=f(v,"DIV",{class:!0});var _=y(e);t=f(_,"DIV",{class:!0,"data-svelte-h":!0}),re(t)!=="svelte-2a0ajw"&&(t.textContent=s),n=A(_),Re(r.$$.fragment,_),l=A(_),o=f(_,"HR",{class:!0}),u=A(_),b=f(_,"DIV",{class:!0});var E=y(b);m=f(E,"BUTTON",{class:!0,"data-svelte-h":!0}),re(m)!=="svelte-1uu56oi"&&(m.textContent=p),E.forEach(d),g=A(_),Re(C.$$.fragment,_),_.forEach(d),this.h()},h(){c(t,"class","subtitle block"),c(o,"class","p-0 m-0 my-2"),c(m,"class","button is-success"),c(b,"class","block mt-3"),c(e,"class","container fluid")},m(v,_){X(v,e,_),i(e,t),i(e,n),we(r,e,null),i(e,l),i(e,o),i(e,u),i(e,b),i(b,m),i(e,g),we(C,e,null),I=!0,w||(D=x(m,"click",a[8]),w=!0)},p(v,[_]){const E={};_&4&&(E.options=v[2]),_&2228227&&(E.$$scope={dirty:_,ctx:v}),r.$set(E);const O={};_&1&&(O.data={...v[0]}),!S&&_&2&&(S=!0,O.isActive=v[1],ot(()=>S=!1)),C.$set(O)},i(v){I||(he(r.$$.fragment,v),he(C.$$.fragment,v),I=!0)},o(v){pe(r.$$.fragment,v),pe(C.$$.fragment,v),I=!1},d(v){v&&d(e),Te(r),Te(C),w=!1,D()}}}function Ls(a,e,t){let s,n,r;const l=ze(),o=async()=>await Ce.get("/v2/pdam/branch/").json(),u=async k=>await Ce.headers({"Content-Type":"application/json",Accept:"application/json"}).put(k,`/v2/pdam/branch/${k.id}`).json(),m=qe(async k=>await Ce.headers({"Content-Type":"application/json",Accept:"application/json"}).post(k,"/v2/pdam/branch/").json(),{onMutate:async k=>{await l.cancelQueries();const v=l.getQueryData(["pdam","branch","list"]);return v&&l.setQueryData(["pdam","branch","list"],[...v]),v},onSuccess:async(k,v,_)=>{setTimeout(()=>{},1e3)},onError:(k,v,_)=>{_!=null&&_.previousData&&l.setQueryData(["pdam","branch","list"],_.previousData)},onSettled:async(k,v,_,E)=>{await l.invalidateQueries(["pdam","branch","list"])}});Pe(a,m,k=>t(12,r=k));const p=qe(u,{onMutate:async k=>{await l.cancelQueries();const v=l.getQueryData(["pdam","branch","list"]);return v&&l.setQueryData(["pdam","branch","list"],v),v},onSuccess:async(k,v,_)=>{setTimeout(()=>{},1e3)},onError:(k,v,_)=>{_!=null&&_.previousData&&l.setQueryData(["pdam","branch","list"],_.previousData)},onSettled:async(k,v,_,E)=>{await l.invalidateQueries(["pdam","branch","list"])}});Pe(a,p,k=>t(11,n=k));const g={id:0,name:"",address:""};let C=g,S="";function I(k){const v=k.detail;v.id===0?r.mutate(v):n.mutate(v),t(1,S="")}const w=k=>{t(0,C=k),t(1,S="is-active")},D=()=>{t(0,C={...g}),t(1,S="is-active")};function R(k){S=k,t(1,S)}return t(2,s={queryKey:["pdam","branch","list"],queryFn:()=>o(),keepPreviousData:!0}),[C,S,s,m,p,g,I,w,D,R]}class Bs extends Ae{constructor(e){super(),Qe(this,e,Ls,qs,Ve,{})}}function qt(a,e,t){const s=a.slice();return s[17]=e[t],s}function Lt(a,e){let t,s=e[17].name+"",n,r;return{key:a,first:null,c(){t=h("option"),n=G(s),this.h()},l(l){t=f(l,"OPTION",{});var o=y(t);n=Y(o,s),o.forEach(d),this.h()},h(){t.__value=r=e[17].id,ge(t,t.__value),this.first=t},m(l,o){X(l,t,o),i(t,n)},p(l,o){e=l,o&4&&s!==(s=e[17].name+"")&&ce(n,s),o&4&&r!==(r=e[17].id)&&(t.__value=r,ge(t,t.__value))},d(l){l&&d(t)}}}function Fs(a){let e,t,s,n,r,l,o=(a[0].isNew?"Pelanggan Baru":a[0].name)+"",u,b,m,p,g,C,S,I,w="Nama",D,R,k,v,_,E,O,Q,B="No. SL",H,P,F,W,L,j,ee="Cabang",$,ae,J,U=[],T=new Map,K,q,le,te,N="Alamat",z,M,ne,ie,ue,ye,oe,Se,Ee,be,fe,de,ve,je="Cancel",Me,Ie,De,We,rt,ut,Je=ke(a[2]);const dt=Z=>Z[17].id;for(let Z=0;Z<Je.length;Z+=1){let se=qt(a,Je,Z),me=dt(se);T.set(me,U[Z]=Lt(me,se))}return{c(){e=h("div"),t=h("div"),s=V(),n=h("div"),r=h("header"),l=h("p"),u=G(o),b=V(),m=h("button"),p=V(),g=h("section"),C=h("div"),S=h("label"),I=h("span"),I.textContent=w,D=V(),R=h("input"),k=V(),v=h("div"),_=h("div"),E=h("div"),O=h("label"),Q=h("span"),Q.textContent=B,H=V(),P=h("input"),F=V(),W=h("div"),L=h("label"),j=h("span"),j.textContent=ee,$=V(),ae=h("div"),J=h("select");for(let Z=0;Z<U.length;Z+=1)U[Z].c();K=V(),q=h("div"),le=h("label"),te=h("span"),te.textContent=N,z=V(),M=h("textarea"),ne=V(),ie=h("footer"),ue=h("div"),ye=h("div"),oe=h("button"),Se=G("Remove"),be=V(),fe=h("div"),de=h("div"),ve=h("button"),ve.textContent=je,Me=V(),Ie=h("button"),De=G("Save"),this.h()},l(Z){e=f(Z,"DIV",{class:!0});var se=y(e);t=f(se,"DIV",{class:!0}),y(t).forEach(d),s=A(se),n=f(se,"DIV",{class:!0});var me=y(n);r=f(me,"HEADER",{class:!0});var Xe=y(r);l=f(Xe,"P",{class:!0});var ht=y(l);u=Y(ht,o),ht.forEach(d),b=A(Xe),m=f(Xe,"BUTTON",{class:!0,"aria-label":!0}),y(m).forEach(d),Xe.forEach(d),p=A(me),g=f(me,"SECTION",{class:!0});var Ue=y(g);C=f(Ue,"DIV",{class:!0});var ft=y(C);S=f(ft,"LABEL",{});var Ge=y(S);I=f(Ge,"SPAN",{class:!0,"data-svelte-h":!0}),re(I)!=="svelte-zhk08k"&&(I.textContent=w),D=A(Ge),R=f(Ge,"INPUT",{type:!0,maxlength:!0,class:!0,placeholder:!0}),Ge.forEach(d),ft.forEach(d),k=A(Ue),v=f(Ue,"DIV",{class:!0});var vt=y(v);_=f(vt,"DIV",{class:!0});var Ye=y(_);E=f(Ye,"DIV",{class:!0});var mt=y(E);O=f(mt,"LABEL",{});var Ze=y(O);Q=f(Ze,"SPAN",{class:!0,"data-svelte-h":!0}),re(Q)!=="svelte-p9pzvr"&&(Q.textContent=B),H=A(Ze),P=f(Ze,"INPUT",{maxlength:!0,type:!0,class:!0,placeholder:!0}),Ze.forEach(d),mt.forEach(d),F=A(Ye),W=f(Ye,"DIV",{class:!0});var pt=y(W);L=f(pt,"LABEL",{});var $e=y(L);j=f($e,"SPAN",{class:!0,"data-svelte-h":!0}),re(j)!=="svelte-xv7er7"&&(j.textContent=ee),$=A($e),ae=f($e,"DIV",{class:!0});var _t=y(ae);J=f(_t,"SELECT",{});var bt=y(J);for(let nt=0;nt<U.length;nt+=1)U[nt].l(bt);bt.forEach(d),_t.forEach(d),$e.forEach(d),pt.forEach(d),Ye.forEach(d),vt.forEach(d),K=A(Ue),q=f(Ue,"DIV",{class:!0});var gt=y(q);le=f(gt,"LABEL",{class:!0});var xe=y(le);te=f(xe,"SPAN",{class:!0,"data-svelte-h":!0}),re(te)!=="svelte-rl919z"&&(te.textContent=N),z=A(xe),M=f(xe,"TEXTAREA",{maxlength:!0,rows:!0,class:!0,placeholder:!0}),y(M).forEach(d),xe.forEach(d),gt.forEach(d),Ue.forEach(d),ne=A(me),ie=f(me,"FOOTER",{class:!0});var yt=y(ie);ue=f(yt,"DIV",{class:!0});var et=y(ue);ye=f(et,"DIV",{class:!0});var Et=y(ye);oe=f(Et,"BUTTON",{class:!0});var It=y(oe);Se=Y(It,"Remove"),It.forEach(d),Et.forEach(d),be=A(et),fe=f(et,"DIV",{class:!0});var kt=y(fe);de=f(kt,"DIV",{class:!0});var tt=y(de);ve=f(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),re(ve)!=="svelte-1ucskx2"&&(ve.textContent=je),Me=A(tt),Ie=f(tt,"BUTTON",{class:!0});var Dt=y(Ie);De=Y(Dt,"Save"),Dt.forEach(d),tt.forEach(d),kt.forEach(d),et.forEach(d),yt.forEach(d),me.forEach(d),se.forEach(d),this.h()},h(){c(t,"class","modal-background"),c(l,"class","modal-card-title"),c(m,"class","delete has-background-danger-dark"),c(m,"aria-label","close"),c(r,"class","modal-card-head"),c(I,"class","label is-small"),c(R,"type","text"),c(R,"maxlength",50),c(R,"class","input is-primary"),c(R,"placeholder","Nama pelanggan"),c(C,"class","block"),c(Q,"class","label is-small"),c(P,"maxlength",10),c(P,"type","text"),c(P,"class","input is-primary"),c(P,"placeholder","No SL pelanggan"),c(E,"class","column"),c(j,"class","label is-small"),a[0].branchId===void 0&&Xt(()=>a[11].call(J)),c(ae,"class","select is-primary is-fullwidth"),c(W,"class","column is-narrow"),c(_,"class","columns"),c(v,"class","block"),c(te,"class","label is-small"),c(M,"maxlength",128),c(M,"rows","2"),c(M,"class","textarea is-info py-1 pb-2"),c(M,"placeholder","Alamat pelanggan"),c(le,"class","block"),c(q,"class","block"),c(g,"class","modal-card-body"),oe.disabled=Ee=a[0].isNew,c(oe,"class","button is-danger is-outlined"),c(ye,"class","column"),c(ve,"class","button is-outlined is-link"),Ie.disabled=a[4],c(Ie,"class","button is-primary"),c(de,"class","buttons"),c(fe,"class","column is-narrow"),c(ue,"class","columns container is-mobile"),c(ie,"class","modal-card-foot py-4"),c(n,"class","modal-card"),c(e,"class",We="modal "+a[1]+" px-4")},m(Z,se){X(Z,e,se),i(e,t),i(e,s),i(e,n),i(n,r),i(r,l),i(l,u),i(r,b),i(r,m),i(n,p),i(n,g),i(g,C),i(C,S),i(S,I),i(S,D),i(S,R),ge(R,a[0].name),a[9](R),i(g,k),i(g,v),i(v,_),i(_,E),i(E,O),i(O,Q),i(O,H),i(O,P),ge(P,a[0].slId),i(_,F),i(_,W),i(W,L),i(L,j),i(L,$),i(L,ae),i(ae,J);for(let me=0;me<U.length;me+=1)U[me]&&U[me].m(J,null);at(J,a[0].branchId,!0),i(g,K),i(g,q),i(q,le),i(le,te),i(le,z),i(le,M),ge(M,a[0].address),i(n,ne),i(n,ie),i(ie,ue),i(ue,ye),i(ye,oe),i(oe,Se),i(ue,be),i(ue,fe),i(fe,de),i(de,ve),i(de,Me),i(de,Ie),i(Ie,De),rt||(ut=[x(t,"click",a[6]),x(m,"click",a[7]),x(R,"input",a[8]),x(P,"input",a[10]),x(J,"change",a[11]),x(M,"input",a[12]),x(oe,"click",a[13]),x(ve,"click",a[14]),x(Ie,"click",a[15])],rt=!0)},p(Z,[se]){se&1&&o!==(o=(Z[0].isNew?"Pelanggan Baru":Z[0].name)+"")&&ce(u,o),se&5&&R.value!==Z[0].name&&ge(R,Z[0].name),se&5&&P.value!==Z[0].slId&&ge(P,Z[0].slId),se&4&&(Je=ke(Z[2]),U=Fe(U,se,dt,1,Z,Je,T,J,Ke,Lt,null,qt)),se&5&&at(J,Z[0].branchId),se&5&&ge(M,Z[0].address),se&5&&Ee!==(Ee=Z[0].isNew)&&(oe.disabled=Ee),se&16&&(Ie.disabled=Z[4]),se&2&&We!==(We="modal "+Z[1]+" px-4")&&c(e,"class",We)},i:_e,o:_e,d(Z){Z&&d(e),a[9](null);for(let se=0;se<U.length;se+=1)U[se].d();rt=!1,Le(ut)}}}function Ks(a,e,t){let s;const n=Be();let r,{isActive:l=""}=e,{data:o}=e,{branchs:u=[]}=e;it(async()=>{r.focus(),r.select()});const b=v=>{const _=u.filter(E=>E.id===v)[0];_&&t(0,o.branchName=_.name,o)},m=()=>t(1,l=""),p=()=>t(1,l="");function g(){o.name=this.value,t(0,o),t(2,u)}function C(v){lt[v?"unshift":"push"](()=>{r=v,t(3,r)})}function S(){o.slId=this.value,t(0,o),t(2,u)}function I(){o.branchId=Gt(this),t(0,o),t(2,u)}function w(){o.address=this.value,t(0,o),t(2,u)}const D=()=>n("removeCustomer",o),R=()=>t(1,l=""),k=()=>n("onSave",o);return a.$$set=v=>{"isActive"in v&&t(1,l=v.isActive),"data"in v&&t(0,o=v.data),"branchs"in v&&t(2,u=v.branchs)},a.$$.update=()=>{a.$$.dirty&1&&b(o.branchId),a.$$.dirty&1&&t(4,s=o.name.trim().length===0||o.address.trim().length===0||o.branchId===0||o.slId.trim().length===0)},[o,l,u,r,s,n,m,p,g,C,S,I,w,D,R,k]}class Hs extends Ae{constructor(e){super(),Qe(this,e,Ks,Fs,Ve,{isActive:1,data:0,branchs:2})}}function Bt(a,e,t){const s=a.slice();return s[36]=e[t],s}function Ft(a,e,t){const s=a.slice();return s[36]=e[t],s}function zs(a){let e=[],t=new Map,s,n,r,l,o,u,b,m,p,g,C,S,I,w,D,R,k,v,_,E,O,Q,B,H,P=a[1]+1+"",F,W,L,j,ee,$,ae,J,U=ke(a[35].data??[]);const T=N=>N[36].slId;for(let N=0;N<U.length;N+=1){let z=Ft(a,U,N),M=T(z);t.set(M,e[N]=Kt(M,z))}let K=ke(a[7]),q=[];for(let N=0;N<K.length;N+=1)q[N]=Ht(Bt(a,K,N));function le(){return a[20](a[35])}function te(){return a[22](a[35])}return{c(){for(let N=0;N<e.length;N+=1)e[N].c();s=V(),n=h("hr"),r=V(),l=h("div"),o=h("div"),u=h("div"),b=h("div"),m=h("div"),p=h("div"),g=h("select");for(let N=0;N<q.length;N+=1)q[N].c();C=V(),S=h("div"),I=h("button"),w=G("Select All"),R=V(),k=h("div"),v=h("div"),_=h("button"),E=G("< Previous"),Q=V(),B=h("div"),H=h("div"),F=G(P),W=V(),L=h("div"),j=h("button"),ee=G("Next >"),this.h()},l(N){for(let De=0;De<e.length;De+=1)e[De].l(N);s=A(N),n=f(N,"HR",{class:!0}),r=A(N),l=f(N,"DIV",{class:!0});var z=y(l);o=f(z,"DIV",{class:!0});var M=y(o);u=f(M,"DIV",{class:!0});var ne=y(u);b=f(ne,"DIV",{class:!0});var ie=y(b);m=f(ie,"DIV",{class:!0});var ue=y(m);p=f(ue,"DIV",{class:!0});var ye=y(p);g=f(ye,"SELECT",{});var oe=y(g);for(let De=0;De<q.length;De+=1)q[De].l(oe);oe.forEach(d),ye.forEach(d),ue.forEach(d),C=A(ie),S=f(ie,"DIV",{class:!0});var Se=y(S);I=f(Se,"BUTTON",{title:!0,class:!0});var Ee=y(I);w=Y(Ee,"Select All"),Ee.forEach(d),Se.forEach(d),ie.forEach(d),ne.forEach(d),R=A(M),k=f(M,"DIV",{class:!0});var be=y(k);v=f(be,"DIV",{class:!0});var fe=y(v);_=f(fe,"BUTTON",{class:!0});var de=y(_);E=Y(de,"< Previous"),de.forEach(d),fe.forEach(d),Q=A(be),B=f(be,"DIV",{class:!0});var ve=y(B);H=f(ve,"DIV",{class:!0});var je=y(H);F=Y(je,P),je.forEach(d),ve.forEach(d),W=A(be),L=f(be,"DIV",{class:!0});var Me=y(L);j=f(Me,"BUTTON",{class:!0});var Ie=y(j);ee=Y(Ie,"Next >"),Ie.forEach(d),Me.forEach(d),be.forEach(d),M.forEach(d),z.forEach(d),this.h()},h(){c(n,"class","p-0 m-0 my-2"),a[2]===void 0&&Xt(()=>a[19].call(g)),c(p,"class","select"),c(m,"class","column"),c(I,"title","Select all customer to print request"),c(I,"class","button"),I.disabled=D=a[35].data&&a[35].data.length===0,c(S,"class","column is-narrow"),c(b,"class","columns is-mobile"),c(u,"class","column"),_.disabled=O=a[1]===0,c(_,"class","button"),c(v,"class","column is-narrow"),c(H,"class","has-text-centered"),c(B,"class","column"),c(j,"class","button"),j.disabled=$=a[35].data&&a[35].data.length!==a[2],c(L,"class","column is-narrow"),c(k,"class","column is-narrow columns is-mobile"),c(o,"class","columns"),c(l,"class","block")},m(N,z){for(let M=0;M<e.length;M+=1)e[M]&&e[M].m(N,z);X(N,s,z),X(N,n,z),X(N,r,z),X(N,l,z),i(l,o),i(o,u),i(u,b),i(b,m),i(m,p),i(p,g);for(let M=0;M<q.length;M+=1)q[M]&&q[M].m(g,null);at(g,a[2],!0),i(b,C),i(b,S),i(S,I),i(I,w),i(o,R),i(o,k),i(k,v),i(v,_),i(_,E),i(k,Q),i(k,B),i(B,H),i(H,F),i(k,W),i(k,L),i(L,j),i(j,ee),ae||(J=[x(g,"change",a[19]),x(I,"click",le),x(_,"click",a[21]),x(j,"click",te)],ae=!0)},p(N,z){if(a=N,z[0]&16408|z[1]&16&&(U=ke(a[35].data??[]),e=Fe(e,z,T,1,a,U,t,s.parentNode,Ke,Kt,s,Ft)),z[0]&128){K=ke(a[7]);let M;for(M=0;M<K.length;M+=1){const ne=Bt(a,K,M);q[M]?q[M].p(ne,z):(q[M]=Ht(ne),q[M].c(),q[M].m(g,null))}for(;M<q.length;M+=1)q[M].d(1);q.length=K.length}z[0]&132&&at(g,a[2]),z[1]&16&&D!==(D=a[35].data&&a[35].data.length===0)&&(I.disabled=D),z[0]&2&&O!==(O=a[1]===0)&&(_.disabled=O),z[0]&2&&P!==(P=a[1]+1+"")&&ce(F,P),z[0]&132|z[1]&16&&$!==($=a[35].data&&a[35].data.length!==a[2])&&(j.disabled=$)},d(N){N&&(d(s),d(n),d(r),d(l));for(let z=0;z<e.length;z+=1)e[z].d(N);os(q,N),ae=!1,Le(J)}}}function Ws(a){let e,t="Loading customer...";return{c(){e=h("div"),e.textContent=t},l(s){e=f(s,"DIV",{"data-svelte-h":!0}),re(e)!=="svelte-1kcp520"&&(e.textContent=t)},m(s,n){X(s,e,n)},p:_e,d(s){s&&d(e)}}}function Kt(a,e){let t,s,n,r,l,o=e[36].name+"",u,b,m,p,g,C,S,I=e[36].slId+"",w,D,R,k=e[36].address+"",v,_,E,O,Q,B=(e[36].branchName??"-")+"",H,P,F,W,L="Edit",j,ee;function $(){return e[17](e[36])}function ae(){return e[18](e[36])}return{key:a,first:null,c(){t=h("hr"),s=V(),n=h("div"),r=h("div"),l=h("div"),u=G(o),b=V(),m=h("div"),p=h("label"),g=h("input"),C=V(),S=h("span"),w=G(I),D=V(),R=h("div"),v=G(k),_=V(),E=h("div"),O=h("div"),Q=h("div"),H=G(B),P=V(),F=h("div"),W=h("button"),W.textContent=L,this.h()},l(J){t=f(J,"HR",{class:!0}),s=A(J),n=f(J,"DIV",{class:!0});var U=y(n);r=f(U,"DIV",{class:!0});var T=y(r);l=f(T,"DIV",{class:!0});var K=y(l);u=Y(K,o),K.forEach(d),b=A(T),m=f(T,"DIV",{class:!0});var q=y(m);p=f(q,"LABEL",{});var le=y(p);g=f(le,"INPUT",{type:!0}),C=A(le),S=f(le,"SPAN",{class:!0});var te=y(S);w=Y(te,I),te.forEach(d),le.forEach(d),q.forEach(d),T.forEach(d),D=A(U),R=f(U,"DIV",{class:!0});var N=y(R);v=Y(N,k),N.forEach(d),_=A(U),E=f(U,"DIV",{class:!0});var z=y(E);O=f(z,"DIV",{class:!0});var M=y(O);Q=f(M,"DIV",{class:!0});var ne=y(Q);H=Y(ne,B),ne.forEach(d),P=A(M),F=f(M,"DIV",{class:!0});var ie=y(F);W=f(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),re(W)!=="svelte-1ipzwr1"&&(W.textContent=L),ie.forEach(d),M.forEach(d),z.forEach(d),U.forEach(d),this.h()},h(){c(t,"class","p-0 m-0 my-2"),c(l,"class","column pb-0 has-text-weight-bold"),c(g,"type","checkbox"),c(S,"class","ml-2"),c(m,"class","column pb-0 is-narrow"),c(r,"class","column py-0 columns is-mobile is-5"),c(R,"class","column is-4 py-0"),c(Q,"class","column"),c(W,"class","button is-small is-link is-outlined"),c(F,"class","column is-narrow"),c(O,"class","columns is-mobile"),c(E,"class","column py-0 is-3"),c(n,"class","columns p-0 m-0"),this.first=t},m(J,U){X(J,t,U),X(J,s,U),X(J,n,U),i(n,r),i(r,l),i(l,u),i(r,b),i(r,m),i(m,p),i(p,g),i(p,C),i(p,S),i(S,w),i(n,D),i(n,R),i(R,v),i(n,_),i(n,E),i(E,O),i(O,Q),i(Q,H),i(O,P),i(O,F),i(F,W),j||(ee=[x(g,"click",$),x(W,"click",ae)],j=!0)},p(J,U){e=J,U[1]&16&&o!==(o=e[36].name+"")&&ce(u,o),U[1]&16&&I!==(I=e[36].slId+"")&&ce(w,I),U[1]&16&&k!==(k=e[36].address+"")&&ce(v,k),U[1]&16&&B!==(B=(e[36].branchName??"-")+"")&&ce(H,B)},d(J){J&&(d(t),d(s),d(n)),j=!1,Le(ee)}}}function Ht(a){let e,t=a[36]+"",s;return{c(){e=h("option"),s=G(t),this.h()},l(n){e=f(n,"OPTION",{});var r=y(e);s=Y(r,t),r.forEach(d),this.h()},h(){e.__value=a[36],ge(e,e.__value)},m(n,r){X(n,e,r),i(e,s)},p:_e,d(n){n&&d(e)}}}function Js(a){let e;function t(r,l){return r[35].status==="loading"?Ws:zs}let s=t(a),n=s(a);return{c(){e=h("div"),n.c(),this.h()},l(r){e=f(r,"DIV",{slot:!0});var l=y(e);n.l(l),l.forEach(d),this.h()},h(){c(e,"slot","query")},m(r,l){X(r,e,l),n.m(e,null)},p(r,l){s===(s=t(r))&&n?n.p(r,l):(n.d(1),n=s(r),n&&(n.c(),n.m(e,null)))},d(r){r&&d(e),n.d()}}}function zt(a){let e,t,s;function n(l){a[23](l)}let r={branchs:a[0],data:{...a[3]}};return a[4]!==void 0&&(r.isActive=a[4]),e=new Hs({props:r}),lt.push(()=>ct(e,"isActive",n)),e.$on("onSave",a[12]),e.$on("removeCustomer",a[15]),{c(){Oe(e.$$.fragment)},l(l){Re(e.$$.fragment,l)},m(l,o){we(e,l,o),s=!0},p(l,o){const u={};o[0]&1&&(u.branchs=l[0]),o[0]&8&&(u.data={...l[3]}),!t&&o[0]&16&&(t=!0,u.isActive=l[4],ot(()=>t=!1)),e.$set(u)},i(l){s||(he(e.$$.fragment,l),s=!0)},o(l){pe(e.$$.fragment,l),s=!1},d(l){Te(e,l)}}}function Xs(a){let e,t,s,n='<div class="subtitle block">Customer</div>',r,l,o,u="+ New",b,m,p,g,C,S;m=new ss({props:{options:a[5],$$slots:{query:[Js,({queryResult:w})=>({35:w}),({queryResult:w})=>[0,w?16:0]]},$$scope:{ctx:a}}});let I=a[4]==="is-active"&&zt(a);return{c(){e=h("div"),t=h("div"),s=h("div"),s.innerHTML=n,r=V(),l=h("div"),o=h("button"),o.textContent=u,b=V(),Oe(m.$$.fragment),p=V(),I&&I.c(),this.h()},l(w){e=f(w,"DIV",{class:!0});var D=y(e);t=f(D,"DIV",{class:!0});var R=y(t);s=f(R,"DIV",{class:!0,"data-svelte-h":!0}),re(s)!=="svelte-s6vxt3"&&(s.innerHTML=n),r=A(R),l=f(R,"DIV",{class:!0});var k=y(l);o=f(k,"BUTTON",{class:!0,"data-svelte-h":!0}),re(o)!=="svelte-13enxc"&&(o.textContent=u),k.forEach(d),R.forEach(d),b=A(D),Re(m.$$.fragment,D),p=A(D),I&&I.l(D),D.forEach(d),this.h()},h(){c(s,"class","column"),c(o,"class","button is-success"),c(l,"class","column is-narrow"),c(t,"class","columns is-mobile"),c(e,"class","container")},m(w,D){X(w,e,D),i(e,t),i(t,s),i(t,r),i(t,l),i(l,o),i(e,b),we(m,e,null),i(e,p),I&&I.m(e,null),g=!0,C||(S=x(o,"click",a[16]),C=!0)},p(w,D){const R={};D[0]&32&&(R.options=w[5]),D[0]&30|D[1]&1040&&(R.$$scope={dirty:D,ctx:w}),m.$set(R),w[4]==="is-active"?I?(I.p(w,D),D[0]&16&&he(I,1)):(I=zt(w),I.c(),he(I,1),I.m(e,null)):I&&(Yt(),pe(I,1,1,()=>{I=null}),Zt())},i(w){g||(he(m.$$.fragment,w),he(I),g=!0)},o(w){pe(m.$$.fragment,w),pe(I),g=!1},d(w){w&&d(e),Te(m),I&&I.d(),C=!1,S()}}}function Gs(a,e,t){let s,n,r,l;const o=Be(),u=ze();let{branchs:b=[]}=e,m=0,p=5,g=[50,25,20,10,5];const C=async(T,K)=>await Ce.get(`/v2/pdam/customer/list/${K}/${K*T}`).json(),S=async T=>{T&&T.length===p&&await u.prefetchQuery(["pdam","customer","list",m+1],()=>C(m+1,p))},I=async T=>await Ce.headers({"Content-Type":"application/json",Accept:"application/json"}).put(T,`/v2/pdam/customer/${T.oldSlId}`).json(),w=async T=>await Ce.headers({"Content-Type":"application/json",Accept:"application/json"}).post(T,"/v2/pdam/customer/").json(),D=async T=>await Ce.headers({"Content-Type":"application/json",Accept:"application/json"}).delete(`/v2/pdam/customer/${T}`).json(),R=qe(w,{onMutate:async T=>{await u.cancelQueries();const K=u.getQueryData(["pdam","customer","list",m,p]);return K&&u.setQueryData(["pdam","customer","list",m,p],[...K]),K},onSuccess:async(T,K,q)=>{setTimeout(()=>{},1e3)},onError:(T,K,q)=>{q!=null&&q.previousData&&u.setQueryData(["pdam","customer","list",m,p],q.previousData)},onSettled:async(T,K,q,le)=>{await u.invalidateQueries(["pdam","customer","list",m,p])}});Pe(a,R,T=>t(27,l=T));const k=qe(I,{onMutate:async T=>{await u.cancelQueries();const K=u.getQueryData(["pdam","customer","list",m,p]);return K&&u.setQueryData(["pdam","customer","list",m,p],K),K},onSuccess:async(T,K,q)=>{setTimeout(()=>{},1e3)},onError:(T,K,q)=>{q!=null&&q.previousData&&u.setQueryData(["pdam","customer","list",m,p],q.previousData)},onSettled:async(T,K,q,le)=>{await u.invalidateQueries(["pdam","customer","list",m,p])}});Pe(a,k,T=>t(26,r=T));const v=qe(D,{onSuccess:async()=>console.log("Delete Success"),onSettled:async()=>await u.invalidateQueries(["pdam","customer","list",m,p])});Pe(a,v,T=>t(25,n=T));const _={slId:"",name:"",address:"",branchId:0,isNew:!0};let E=_,O="";function Q(T){const K=T.detail;K.isNew?l.mutate(K):r.mutate({...K,createdAt:bs().format()}),t(4,O="")}const B=T=>{t(1,m=T)},H=T=>{B(0)};function P(T){o("selectCustomer",T)}function F(T){n.mutate(T.detail.slId),t(4,O="")}const W=()=>{t(3,E={..._}),t(4,O="is-active")},L=T=>P(T),j=T=>{t(3,E={...T,isNew:!1,oldSlId:T.slId}),t(4,O="is-active")};function ee(){p=Gt(this),t(2,p),t(7,g)}const $=T=>o("selectAll",T.data),ae=()=>B(Math.max(m-1,0)),J=T=>{B(T.data&&T.data.length!==p?m:m+1)};function U(T){O=T,t(4,O)}return a.$$set=T=>{"branchs"in T&&t(0,b=T.branchs)},a.$$.update=()=>{a.$$.dirty[0]&4&&H(),a.$$.dirty[0]&6&&t(5,s={queryKey:["pdam","customer","list",m,p],queryFn:()=>C(m,p),onSuccess:()=>S,keepPreviousData:!0})},[b,m,p,E,O,s,o,g,R,k,v,_,Q,B,P,F,W,L,j,ee,$,ae,J,U]}class Ys extends Ae{constructor(e){super(),Qe(this,e,Gs,Xs,Ve,{branchs:0},null,[-1,-1])}}function Zs(a){let e,t,s="Import data pelanggan dari file .csv",n,r,l,o,u,b,m,p,g,C,S,I,w,D,R,k,v,_,E,O=JSON.stringify({"Jumlah data":a[1].length,data:a[1]},null,2)+"",Q,B,H;return{c(){e=h("div"),t=h("div"),t.textContent=s,n=V(),r=h("div"),l=h("div"),o=h("div"),u=h("input"),b=V(),m=h("div"),p=h("span"),g=G("CSV Format ("),C=G(a[0]),S=G(")"),I=V(),w=h("div"),D=h("button"),R=G("Import Now"),v=V(),_=h("div"),E=h("pre"),Q=G(O),this.h()},l(P){e=f(P,"DIV",{});var F=y(e);t=f(F,"DIV",{class:!0,"data-svelte-h":!0}),re(t)!=="svelte-aw1kmd"&&(t.textContent=s),n=A(F),r=f(F,"DIV",{class:!0});var W=y(r);l=f(W,"DIV",{class:!0});var L=y(l);o=f(L,"DIV",{class:!0});var j=y(o);u=f(j,"INPUT",{type:!0,class:!0,accept:!0}),j.forEach(d),b=A(L),m=f(L,"DIV",{class:!0});var ee=y(m);p=f(ee,"SPAN",{});var $=y(p);g=Y($,"CSV Format ("),C=Y($,a[0]),S=Y($,")"),$.forEach(d),ee.forEach(d),I=A(L),w=f(L,"DIV",{class:!0});var ae=y(w);D=f(ae,"BUTTON",{class:!0});var J=y(D);R=Y(J,"Import Now"),J.forEach(d),ae.forEach(d),L.forEach(d),v=A(W),_=f(W,"DIV",{});var U=y(_);E=f(U,"PRE",{});var T=y(E);Q=Y(T,O),T.forEach(d),U.forEach(d),W.forEach(d),F.forEach(d),this.h()},h(){c(t,"class","subtitle"),c(u,"type","file"),c(u,"class","input"),c(u,"accept","text/csv"),c(o,"class","column"),c(m,"class","column"),D.disabled=k=a[1].length===0,c(D,"class","button is-primary"),c(w,"class","column is-narrow"),c(l,"class","columns"),c(r,"class","block")},m(P,F){X(P,e,F),i(e,t),i(e,n),i(e,r),i(r,l),i(l,o),i(o,u),i(l,b),i(l,m),i(m,p),i(p,g),i(p,C),i(p,S),i(l,I),i(l,w),i(w,D),i(D,R),i(r,v),i(r,_),i(_,E),i(E,Q),B||(H=[x(u,"change",cs(a[5])),x(D,"click",a[3])],B=!0)},p(P,[F]){F&1&&ce(C,P[0]),F&2&&k!==(k=P[1].length===0)&&(D.disabled=k),F&2&&O!==(O=JSON.stringify({"Jumlah data":P[1].length,data:P[1]},null,2)+"")&&ce(Q,O)},i:_e,o:_e,d(P){P&&d(e),B=!1,Le(H)}}}function $s(a,e,t){let{branchs:s=[]}=e,{header:n=""}=e,r=[];const l=Be(),o=p=>{const g=s.filter(C=>C.name===p)[0];return g?g.id:1};function u(p){const g=p.currentTarget;if(g&&g.files&&g.files[0]){const C=g.files[0],S=new FileReader;S.onload=I=>{var D;const w=((D=I.target)==null?void 0:D.result)??"";gs().fromString(w).then(R=>{t(1,r=R.map(k=>({name:k.name,address:k.address,slId:k.noSl,branchId:o(k.city),branchName:k.city})))})},S.readAsText(C,"utf-8")}}async function b(p){const g=await Ce.headers({"Content-Type":"application/json",Accept:"application/json"}).url("/v2/pdam/customer/import").post(r).json();g.status==="SUCCESS"&&l("success",g)}const m=p=>u(p);return a.$$set=p=>{"branchs"in p&&t(4,s=p.branchs),"header"in p&&t(0,n=p.header)},[n,r,u,b,s,m]}class xs extends Ae{constructor(e){super(),Qe(this,e,$s,Zs,Ve,{branchs:4,header:0})}}function Wt(a,e,t){const s=a.slice();return s[5]=e[t],s}function Jt(a,e){let t,s,n,r,l,o=e[5].name+"",u,b,m,p=e[5].noSl+"",g,C,S,I=e[5].address+"",w,D,R,k,v=e[5].city+"",_,E,O,Q,B="Remove",H,P,F;function W(){return e[4](e[5])}return{key:a,first:null,c(){t=h("hr"),s=V(),n=h("div"),r=h("div"),l=h("div"),u=G(o),b=V(),m=h("div"),g=G(p),C=V(),S=h("div"),w=G(I),D=V(),R=h("div"),k=h("div"),_=G(v),E=V(),O=h("div"),Q=h("button"),Q.textContent=B,H=V(),this.h()},l(L){t=f(L,"HR",{class:!0}),s=A(L),n=f(L,"DIV",{class:!0});var j=y(n);r=f(j,"DIV",{class:!0});var ee=y(r);l=f(ee,"DIV",{class:!0});var $=y(l);u=Y($,o),$.forEach(d),b=A(ee),m=f(ee,"DIV",{class:!0});var ae=y(m);g=Y(ae,p),ae.forEach(d),ee.forEach(d),C=A(j),S=f(j,"DIV",{class:!0});var J=y(S);w=Y(J,I),J.forEach(d),D=A(j),R=f(j,"DIV",{class:!0});var U=y(R);k=f(U,"DIV",{class:!0});var T=y(k);_=Y(T,v),T.forEach(d),E=A(U),O=f(U,"DIV",{class:!0});var K=y(O);Q=f(K,"BUTTON",{title:!0,class:!0,"data-svelte-h":!0}),re(Q)!=="svelte-4tdzbf"&&(Q.textContent=B),K.forEach(d),U.forEach(d),H=A(j),j.forEach(d),this.h()},h(){c(t,"class","p-0 m-0 my-2"),c(l,"class","column pb-0 has-text-weight-bold"),c(m,"class","column pb-0 is-narrow"),c(r,"class","column py-0 columns is-mobile"),c(S,"class","column py-0"),c(k,"class","column"),c(Q,"title","Remove from print request"),c(Q,"class","button is-small is-warning"),c(O,"class","column is-narrow"),c(R,"class","column py-0 is-4 columns is-mobile"),c(n,"class","columns p-0 m-0"),this.first=t},m(L,j){X(L,t,j),X(L,s,j),X(L,n,j),i(n,r),i(r,l),i(l,u),i(r,b),i(r,m),i(m,g),i(n,C),i(n,S),i(S,w),i(n,D),i(n,R),i(R,k),i(k,_),i(R,E),i(R,O),i(O,Q),i(n,H),P||(F=x(Q,"click",W),P=!0)},p(L,j){e=L,j&1&&o!==(o=e[5].name+"")&&ce(u,o),j&1&&p!==(p=e[5].noSl+"")&&ce(g,p),j&1&&I!==(I=e[5].address+"")&&ce(w,I),j&1&&v!==(v=e[5].city+"")&&ce(_,v)},d(L){L&&(d(t),d(s),d(n)),P=!1,F()}}}function ea(a){let e,t,s,n=a[0].length+"",r,l,o,u,b,m,p,g,C,S,I=[],w=new Map,D,R,k=ke(a[0]);const v=_=>_[5].noSl;for(let _=0;_<k.length;_+=1){let E=Wt(a,k,_),O=v(E);w.set(O,I[_]=Jt(O,E))}return{c(){e=h("div"),t=h("div"),s=G("Ada "),r=G(n),l=G(" pelanggan yang akan dicetak kartunya."),o=V(),u=h("div"),b=h("button"),m=G("Download"),g=V(),C=h("div"),S=h("div");for(let _=0;_<I.length;_+=1)I[_].c();this.h()},l(_){e=f(_,"DIV",{class:!0});var E=y(e);t=f(E,"DIV",{class:!0});var O=y(t);s=Y(O,"Ada "),r=Y(O,n),l=Y(O," pelanggan yang akan dicetak kartunya."),O.forEach(d),o=A(E),u=f(E,"DIV",{class:!0});var Q=y(u);b=f(Q,"BUTTON",{class:!0});var B=y(b);m=Y(B,"Download"),B.forEach(d),Q.forEach(d),E.forEach(d),g=A(_),C=f(_,"DIV",{class:!0});var H=y(C);S=f(H,"DIV",{class:!0});var P=y(S);for(let F=0;F<I.length;F+=1)I[F].l(P);P.forEach(d),H.forEach(d),this.h()},h(){c(t,"class","column"),b.disabled=p=!a[1],c(b,"class","button is-primary"),c(u,"class","column is-narrow"),c(e,"class","block columns"),c(S,"class","container"),c(C,"class","block")},m(_,E){X(_,e,E),i(e,t),i(t,s),i(t,r),i(t,l),i(e,o),i(e,u),i(u,b),i(b,m),X(_,g,E),X(_,C,E),i(C,S);for(let O=0;O<I.length;O+=1)I[O]&&I[O].m(S,null);D||(R=x(b,"click",a[3]),D=!0)},p(_,[E]){E&1&&n!==(n=_[0].length+"")&&ce(r,n),E&2&&p!==(p=!_[1])&&(b.disabled=p),E&5&&(k=ke(_[0]),I=Fe(I,E,v,1,_,k,w,S,Ke,Jt,null,Wt))},i:_e,o:_e,d(_){_&&(d(e),d(g),d(C));for(let E=0;E<I.length;E+=1)I[E].d();D=!1,R()}}}function ta(a,e,t){var u;const s=Be();let{data:n=[]}=e,r=!1;function l(b){s("downloadCaard",!0)}const o=b=>s("removeItem",b);a.$$set=b=>{"data"in b&&t(0,n=b.data)};{const b=(u=document.getElementById("username"))==null?void 0:u.innerText;t(1,r=b==="mastur.st12@outlook.com")}return[n,r,s,l,o]}class sa extends Ae{constructor(e){super(),Qe(this,e,ta,ea,Ve,{data:0})}}const{document:st}=ds;function aa(a){let e,t;return e=new sa({props:{data:a[2]}}),e.$on("downloadCaard",a[9]),e.$on("removeItem",a[6]),{c(){Oe(e.$$.fragment)},l(s){Re(e.$$.fragment,s)},m(s,n){we(e,s,n),t=!0},p(s,n){const r={};n&4&&(r.data=s[2]),e.$set(r)},i(s){t||(he(e.$$.fragment,s),t=!0)},o(s){pe(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function la(a){let e,t;return e=new xs({props:{branchs:a[0],header:oa}}),e.$on("success",a[4]),{c(){Oe(e.$$.fragment)},l(s){Re(e.$$.fragment,s)},m(s,n){we(e,s,n),t=!0},p(s,n){const r={};n&1&&(r.branchs=s[0]),e.$set(r)},i(s){t||(he(e.$$.fragment,s),t=!0)},o(s){pe(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function ra(a){let e,t;return e=new Ys({props:{branchs:a[0]}}),e.$on("selectCustomer",a[5]),e.$on("selectAll",a[7]),{c(){Oe(e.$$.fragment)},l(s){Re(e.$$.fragment,s)},m(s,n){we(e,s,n),t=!0},p(s,n){const r={};n&1&&(r.branchs=s[0]),e.$set(r)},i(s){t||(he(e.$$.fragment,s),t=!0)},o(s){pe(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function na(a){let e,t;return e=new Bs({}),{c(){Oe(e.$$.fragment)},l(s){Re(e.$$.fragment,s)},m(s,n){we(e,s,n),t=!0},p:_e,i(s){t||(he(e.$$.fragment,s),t=!0)},o(s){pe(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function ia(a){let e,t,s,n,r,l="Kartu PDAM",o,u,b,m,p,g,C,S,I,w;function D(E){a[8](E)}let R={};a[1]!==void 0&&(R.currentMenu=a[1]),m=new As({props:R}),lt.push(()=>ct(m,"currentMenu",D));const k=[na,ra,la,aa],v=[];function _(E,O){return E[1]===2?0:E[1]===1?1:E[1]===3?2:3}return S=_(a),I=v[S]=k[S](a),{c(){e=h("meta"),t=h("meta"),s=V(),n=h("section"),r=h("div"),r.textContent=l,o=V(),u=h("div"),b=h("div"),Oe(m.$$.fragment),g=V(),C=h("div"),I.c(),this.h()},l(E){const O=us("svelte-15hq90y",st.head);e=f(O,"META",{property:!0,content:!0}),t=f(O,"META",{name:!0,content:!0}),O.forEach(d),s=A(E),n=f(E,"SECTION",{});var Q=y(n);r=f(Q,"DIV",{class:!0,"data-svelte-h":!0}),re(r)!=="svelte-14g43s4"&&(r.textContent=l),o=A(Q),u=f(Q,"DIV",{class:!0});var B=y(u);b=f(B,"DIV",{class:!0});var H=y(b);Re(m.$$.fragment,H),H.forEach(d),g=A(B),C=f(B,"DIV",{class:!0});var P=y(C);I.l(P),P.forEach(d),B.forEach(d),Q.forEach(d),this.h()},h(){c(e,"property","og:description"),c(e,"content","PDAM Card"),st.title="PDAM Card",c(t,"name","description"),c(t,"content","PDAM Card"),c(r,"class","title"),c(b,"class","column is-narrow is-one-fifth"),c(C,"class","column"),c(u,"class","columns")},m(E,O){i(st.head,e),i(st.head,t),X(E,s,O),X(E,n,O),i(n,r),i(n,o),i(n,u),i(u,b),we(m,b,null),i(u,g),i(u,C),v[S].m(C,null),w=!0},p(E,[O]){const Q={};!p&&O&2&&(p=!0,Q.currentMenu=E[1],ot(()=>p=!1)),m.$set(Q);let B=S;S=_(E),S===B?v[S].p(E,O):(Yt(),pe(v[B],1,1,()=>{v[B]=null}),Zt(),I=v[S],I?I.p(E,O):(I=v[S]=k[S](E),I.c()),he(I,1),I.m(C,null))},i(E){w||(he(m.$$.fragment,E),he(I),w=!0)},o(E){pe(m.$$.fragment,E),pe(I),w=!1},d(E){E&&(d(s),d(n)),d(e),d(t),Te(m),v[S].d()}}}let oa="noSl, name, address, city";function ca(a,e,t){let s=[];const n=ze();let r=1,l=[];const o=D=>s.filter(R=>R.id===D)[0].address;async function u(){let D="pdam-card.pdf";const R="/v1/pdam";await Ce.headers({Accept:"application/pdf","Content-Type":"application/json"}).url(R).post(l).blob(k=>{var v=window.URL.createObjectURL(k),_=document.createElement("a");_.href=v,_.download=D,_.click(),_.remove(),setTimeout(()=>!1,1e3),window.URL.revokeObjectURL(v)}).catch(k=>{console.log(k)})}const b=async()=>await Ce.get("/v2/pdam/branch/").json(),m=ts({queryKey:["pdam","branch","list"],queryFn:async()=>await b()});it(async()=>{m.subscribe(D=>t(0,s=D.data??[]))});function p(D){n.invalidateQueries(["pdam","customer","list"]),t(1,r=1)}function g(D){const R=l.filter(k=>k.noSl===D.detail.slId)[0];if(R){t(2,l=l.filter(k=>k.noSl!=R.noSl));return}t(2,l=[...l,{address:D.detail.address,cabang:o(D.detail.branchId),city:D.detail.branchName??"",name:D.detail.name,noSl:D.detail.slId}])}function C(D){t(2,l=l.filter(R=>R.noSl!=D.detail.noSl))}function S(D){if(D.detail){const R=l.map(v=>v.noSl),k=D.detail.map(v=>({address:v.address,cabang:o(v.branchId),city:v.branchName??"",name:v.name,noSl:v.slId})).filter(v=>!R.includes(v.noSl));t(2,l=[...l,...k])}}function I(D){r=D,t(1,r)}return[s,r,l,u,p,g,C,S,I,()=>u()]}class ba extends Ae{constructor(e){super(),Qe(this,e,ca,ia,Ve,{})}}export{ba as component};
