import{s as Pe,n as me,r as xe}from"../chunks/scheduler.28edf0f0.js";import{S as Le,i as Re,g as s,s as y,C as Be,h as o,f as c,c as N,j as C,x as Y,k as g,y as e,a as X,A as z,E as Oe,m as J,n as F,o as ne,H as Ue,D as ye}from"../chunks/index.2c506ba6.js";import{g as Me}from"../chunks/globals.7f7f1b26.js";import{e as Ne}from"../chunks/each.e59479a4.js";import{c as De}from"../chunks/browser.54b85836.js";import{f as Ve}from"../chunks/fetch-api.03dee818.js";const{document:ue}=Me;function Ie(a,t,l){const n=a.slice();return n[21]=t[l],n[22]=t,n[23]=l,n}function He(a){let t,l,n,_,h,D,I,m;return{c(){t=s("input"),l=y(),n=s("span"),_=J("CSV Format ("),h=J(re),D=J(")"),this.h()},l(f){t=o(f,"INPUT",{type:!0,class:!0,accept:!0}),l=N(f),n=o(f,"SPAN",{});var r=C(n);_=F(r,"CSV Format ("),h=F(r,re),D=F(r,")"),r.forEach(c),this.h()},h(){g(t,"type","file"),g(t,"class","mb-4 mt-2"),g(t,"accept","text/csv")},m(f,r){X(f,t,r),X(f,l,r),X(f,n,r),e(n,_),e(n,h),e(n,D),I||(m=z(t,"change",Ue(a[15])),I=!0)},p:me,d(f){f&&(c(t),c(l),c(n)),I=!1,m()}}}function je(a){let t,l,n,_,h,D,I,m,f,r,T,K="Parse to JSON",x,E,L,P,H,R,O=a[5]?"Please wait....":"",V,w,U;return{c(){t=s("div"),l=s("label"),n=s("span"),_=J("CSV Text (comma delimited) format: ("),h=J(re),D=J("):"),I=y(),m=s("textarea"),f=y(),r=s("div"),T=s("button"),T.textContent=K,x=y(),E=s("button"),L=J("Download"),H=y(),R=s("p"),V=J(O),this.h()},l(i){t=o(i,"DIV",{class:!0});var A=C(t);l=o(A,"LABEL",{class:!0});var u=C(l);n=o(u,"SPAN",{});var v=C(n);_=F(v,"CSV Text (comma delimited) format: ("),h=F(v,re),D=F(v,"):"),v.forEach(c),I=N(u),m=o(u,"TEXTAREA",{class:!0,rows:!0}),C(m).forEach(c),u.forEach(c),A.forEach(c),f=N(i),r=o(i,"DIV",{class:!0});var k=C(r);T=o(k,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(T)!=="svelte-utg0zw"&&(T.textContent=K),x=N(k),E=o(k,"BUTTON",{class:!0});var S=C(E);L=F(S,"Download"),S.forEach(c),H=N(k),R=o(k,"P",{});var d=C(R);V=F(d,O),d.forEach(c),k.forEach(c),this.h()},h(){g(m,"class","textarea column is-full svelte-1gi0ox8"),g(m,"rows","10"),g(l,"class","label svelte-1gi0ox8"),g(t,"class","field block"),g(T,"class","button is-link block"),E.disabled=P=!a[4],g(E,"class","button block is-primary"),g(r,"class","buttons block")},m(i,A){X(i,t,A),e(t,l),e(l,n),e(n,_),e(n,h),e(n,D),e(l,I),e(l,m),ye(m,a[3]),X(i,f,A),X(i,r,A),e(r,T),e(r,x),e(r,E),e(E,L),e(r,H),e(r,R),e(R,V),w||(U=[z(m,"input",a[12]),z(T,"click",a[13]),z(E,"click",a[14])],w=!0)},p(i,A){A&8&&ye(m,i[3]),A&16&&P!==(P=!i[4])&&(E.disabled=P),A&32&&O!==(O=i[5]?"Please wait....":"")&&ne(V,O)},d(i){i&&(c(t),c(f),c(r)),w=!1,xe(U)}}}function we(a){let t,l,n,_,h,D=a[21].noSl+"",I,m,f,r=a[21].name+"",T,K,x,E=a[21].address+"",L,P,H,R=a[21].city+"",O,V,w,U=a[21].cabang+"",i,A,u,v;function k(){a[18].call(n,a[22],a[23])}return{c(){t=s("tr"),l=s("td"),n=s("input"),_=y(),h=s("td"),I=J(D),m=y(),f=s("td"),T=J(r),K=y(),x=s("td"),L=J(E),P=y(),H=s("td"),O=J(R),V=y(),w=s("td"),i=J(U),A=y(),this.h()},l(S){t=o(S,"TR",{});var d=C(t);l=o(d,"TD",{});var M=C(l);n=o(M,"INPUT",{type:!0}),M.forEach(c),_=N(d),h=o(d,"TD",{});var Q=C(h);I=F(Q,D),Q.forEach(c),m=N(d),f=o(d,"TD",{});var Z=C(f);T=F(Z,r),Z.forEach(c),K=N(d),x=o(d,"TD",{});var q=C(x);L=F(q,E),q.forEach(c),P=N(d),H=o(d,"TD",{});var se=C(H);O=F(se,R),se.forEach(c),V=N(d),w=o(d,"TD",{});var $=C(w);i=F($,U),$.forEach(c),A=N(d),d.forEach(c),this.h()},h(){g(n,"type","checkbox")},m(S,d){X(S,t,d),e(t,l),e(l,n),n.checked=a[21].selected,e(t,_),e(t,h),e(h,I),e(t,m),e(t,f),e(f,T),e(t,K),e(t,x),e(x,L),e(t,P),e(t,H),e(H,O),e(t,V),e(t,w),e(w,i),e(t,A),u||(v=z(n,"change",k),u=!0)},p(S,d){a=S,d&2&&(n.checked=a[21].selected),d&2&&D!==(D=a[21].noSl+"")&&ne(I,D),d&2&&r!==(r=a[21].name+"")&&ne(T,r),d&2&&E!==(E=a[21].address+"")&&ne(L,E),d&2&&R!==(R=a[21].city+"")&&ne(O,R),d&2&&U!==(U=a[21].cabang+"")&&ne(i,U)},d(S){S&&c(t),u=!1,v()}}}function Je(a){let t,l,n,_,h,D="Kartu PDAM",I,m,f,r,T,K="CSV Text",x,E,L,P,H="File",R,O,V,w,U,i,A,u,v,k,S="No. SL",d,M,Q="NAMA",Z,q,se="ALAMAT",$,ee,ve="CABANG",fe,te,be="ALAMAT CABANG",he,le,_e,ge;function Te(p,j){return p[0]==="text"?je:He}let ce=Te(a),W=ce(a),ae=Ne(a[1]),B=[];for(let p=0;p<ae.length;p+=1)B[p]=we(Ie(a,ae,p));return{c(){t=s("meta"),l=s("meta"),n=y(),_=s("section"),h=s("div"),h.textContent=D,I=y(),m=s("div"),f=s("ul"),r=s("li"),T=s("a"),T.textContent=K,E=y(),L=s("li"),P=s("a"),P.textContent=H,O=y(),W.c(),V=y(),w=s("table"),U=s("thead"),i=s("tr"),A=s("th"),u=s("input"),v=y(),k=s("th"),k.textContent=S,d=y(),M=s("th"),M.textContent=Q,Z=y(),q=s("th"),q.textContent=se,$=y(),ee=s("th"),ee.textContent=ve,fe=y(),te=s("th"),te.textContent=be,he=y(),le=s("tbody");for(let p=0;p<B.length;p+=1)B[p].c();this.h()},l(p){const j=Be("svelte-15hq90y",ue.head);t=o(j,"META",{property:!0,content:!0}),l=o(j,"META",{name:!0,content:!0}),j.forEach(c),n=N(p),_=o(p,"SECTION",{class:!0});var b=C(_);h=o(b,"DIV",{class:!0,"data-svelte-h":!0}),Y(h)!=="svelte-14g43s4"&&(h.textContent=D),I=N(b),m=o(b,"DIV",{class:!0});var oe=C(m);f=o(oe,"UL",{});var ie=C(f);r=o(ie,"LI",{class:!0});var Ce=C(r);T=o(Ce,"A",{href:!0,"data-svelte-h":!0}),Y(T)!=="svelte-q1uj1g"&&(T.textContent=K),Ce.forEach(c),E=N(ie),L=o(ie,"LI",{class:!0});var Ae=C(L);P=o(Ae,"A",{href:!0,"data-svelte-h":!0}),Y(P)!=="svelte-1a2fnp4"&&(P.textContent=H),Ae.forEach(c),ie.forEach(c),oe.forEach(c),O=N(b),W.l(b),V=N(b),w=o(b,"TABLE",{class:!0});var de=C(w);U=o(de,"THEAD",{});var Ee=C(U);i=o(Ee,"TR",{});var G=C(i);A=o(G,"TH",{});var ke=C(A);u=o(ke,"INPUT",{type:!0}),ke.forEach(c),v=N(G),k=o(G,"TH",{"data-svelte-h":!0}),Y(k)!=="svelte-ordyps"&&(k.textContent=S),d=N(G),M=o(G,"TH",{"data-svelte-h":!0}),Y(M)!=="svelte-s0ordp"&&(M.textContent=Q),Z=N(G),q=o(G,"TH",{"data-svelte-h":!0}),Y(q)!=="svelte-hx9f2o"&&(q.textContent=se),$=N(G),ee=o(G,"TH",{"data-svelte-h":!0}),Y(ee)!=="svelte-4f99bg"&&(ee.textContent=ve),fe=N(G),te=o(G,"TH",{"data-svelte-h":!0}),Y(te)!=="svelte-1fywyle"&&(te.textContent=be),G.forEach(c),Ee.forEach(c),he=N(de),le=o(de,"TBODY",{});var Se=C(le);for(let pe=0;pe<B.length;pe+=1)B[pe].l(Se);Se.forEach(c),de.forEach(c),b.forEach(c),this.h()},h(){g(t,"property","og:description"),g(t,"content","PDAM Card"),ue.title="PDAM Card",g(l,"name","description"),g(l,"content","PDAM Card"),g(h,"class","title"),g(T,"href","#"),g(r,"class",x=a[0]==="text"?"is-active":""),g(P,"href","#"),g(L,"class",R=a[0]==="file"?"is-active":""),g(m,"class","tabs is-toggle is-toggle-rounded is-small"),g(u,"type","checkbox"),g(w,"class","table container is-narrow"),g(_,"class","container")},m(p,j){e(ue.head,t),e(ue.head,l),X(p,n,j),X(p,_,j),e(_,h),e(_,I),e(_,m),e(m,f),e(f,r),e(r,T),e(f,E),e(f,L),e(L,P),e(_,O),W.m(_,null),e(_,V),e(_,w),e(w,U),e(U,i),e(i,A),e(A,u),u.checked=a[2],e(i,v),e(i,k),e(i,d),e(i,M),e(i,Z),e(i,q),e(i,$),e(i,ee),e(i,fe),e(i,te),e(w,he),e(w,le);for(let b=0;b<B.length;b+=1)B[b]&&B[b].m(le,null);_e||(ge=[z(T,"click",a[10]),z(P,"click",a[11]),z(u,"change",a[16]),z(u,"input",a[17])],_e=!0)},p(p,[j]){if(j&1&&x!==(x=p[0]==="text"?"is-active":"")&&g(r,"class",x),j&1&&R!==(R=p[0]==="file"?"is-active":"")&&g(L,"class",R),ce===(ce=Te(p))&&W?W.p(p,j):(W.d(1),W=ce(p),W&&(W.c(),W.m(_,V))),j&4&&(u.checked=p[2]),j&2){ae=Ne(p[1]);let b;for(b=0;b<ae.length;b+=1){const oe=Ie(p,ae,b);B[b]?B[b].p(oe,j):(B[b]=we(oe),B[b].c(),B[b].m(le,null))}for(;b<B.length;b+=1)B[b].d(1);B.length=ae.length}},i:me,o:me,d(p){p&&(c(n),c(_)),c(t),c(l),W.d(),Oe(B,p),_e=!1,xe(ge)}}}let re="noSl, name, address, city";function Fe(a,t,l){var A;let n="text";const _=[{name:"Jatibarang",address:"Jl. Purna Brata No. 1001 Telp. (0234)  351491"},{name:"Sindang",address:"Jl. Singalodra  - Sindang Telp. (0234) 277564"},{name:"Indramayu",address:"Jl. Tanjungpura No. 197 Kepandean - Indramayu Telp (0234) 7121205"}];let h=[],D=!1,I=`1203006969, ERWIN,PASEKAN BLOK III RT 16/06,Sindang
1201004409, TARSIPAN, BLOK C RT 25/05 PANYINDANGAN WETAN,Sindang
1001018682,CASIDI,Dusun Bojong Rt/Rw 13/05,Indramayu`,m=!1;const f=u=>_.filter(v=>v.name===u)[0].address;function r(u){const v=u.currentTarget;if(v&&v.files&&v.files[0]){const k=v.files[0],S=new FileReader;S.onload=d=>{var Q;const M=((Q=d.target)==null?void 0:Q.result)??"";De().fromString(M).then(Z=>{l(1,h=Z.map(q=>({...q,cabang:f(q.city),selected:!0})))})},S.readAsText(k,"utf-8")}}function T(u){l(1,h=h.map(v=>({...v,selected:!D})))}function K(u){De().fromString(re+`
`+I).then(v=>{l(1,h=v.map(k=>({...k,cabang:f(k.city),selected:!0})))})}let x=!1;async function E(u){l(5,x=!0);let v="pdam-card.pdf";const k="/v1/pdam";await Ve.headers({Accept:"application/pdf","Content-Type":"application/json"}).url(k).post({data:h.filter(S=>S.selected)}).blob(S=>{var d=window.URL.createObjectURL(S),M=document.createElement("a");M.href=d,M.download=v,M.click(),M.remove(),setTimeout(()=>l(5,x=!1),1e3),window.URL.revokeObjectURL(d)}).catch(S=>{l(5,x=!1),console.log(S)})}const L=()=>l(0,n="text"),P=()=>l(0,n="file");function H(){I=this.value,l(3,I)}const R=u=>K(),O=u=>E(),V=u=>r(u);function w(){D=this.checked,l(2,D)}const U=u=>T();function i(u,v){u[v].selected=this.checked,l(1,h)}{const u=(A=document.getElementById("username"))==null?void 0:A.innerText;l(4,m=u==="mastur.st12@outlook.com")}return[n,h,D,I,m,x,r,T,K,E,L,P,H,R,O,V,w,U,i]}class Xe extends Le{constructor(t){super(),Re(this,t,Fe,Je,Pe,{})}}export{Xe as component};
