import{T as as,s as Ve,B as ls,C as rs,D as ns,E as is,o as it,H as je,f,g as v,h as y,d as h,j as u,i as x,v as r,x as be,l as Y,a as Q,m as Z,c as N,w as te,u as ie,I as ge,n as ue,y as Le,U as He,p as rt,V as ot,z as Xt,W as lt,X as Gt,Q as os,S as cs,r as us}from"../chunks/scheduler.a1a79cf5.js";import{S as Ae,i as Qe,a as he,t as _e,j as ct,b as Se,d as Oe,m as we,e as Te,g as Yt,c as Zt}from"../chunks/index.f0883218.js";import{f as De,g as ds}from"../chunks/fetch-api.1021b51e.js";import{e as Ie,u as Ke,d as ze}from"../chunks/each.5046d998.js";import{r as $t}from"../chunks/index.e7c8a821.js";import{S as xt,h as hs,n as es,u as Ct,i as Rt,t as fs,k as vs,r as St,b as Ot,v as ms,a as ps,c as Me,w as _s,l as wt,x as Tt}from"../chunks/mutation.1fce78fe.js";import{a as bs}from"../chunks/dayjs.min.6559d33b.js";import{c as gs}from"../chunks/browser.54b85836.js";class ys extends xt{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=[],this.previousSelectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Vt(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return ks(this.currentQuery,this.options)}shouldFetchOnWindowFocus(){return Ds(this.currentQuery,this.options)}destroy(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)}setOptions(e,t){const s=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const i=this.hasListeners();i&&At(this.currentQuery,n,this.options,s)&&this.executeFetch(),this.updateResult(t),i&&(this.currentQuery!==n||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();const l=this.computeRefetchInterval();i&&(this.currentQuery!==n||this.options.enabled!==s.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)}updateOptions(e,t){const s=Object.assign(Object.assign({},this.options),e);e.queryKey&&!e.queryHash&&e.queryKey!==this.options.queryKey&&(s.queryHash=hs(e.queryKey,s)),this.setOptions(s,t)}getOptimisticResult(e){const t=this.client.defaultQueryObserverOptions(e),s=this.client.getQueryCache().build(this.client,t);return this.createResult(s,t)}getCurrentResult(){return this.currentResult}trackResult(e,t){const s={},n=i=>{this.trackedProps.includes(i)||this.trackedProps.push(i)};return Object.keys(e).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(n(i),e[i])})}),(t.useErrorBoundary||t.suspense)&&n("error"),s}getNextResult(e){return new Promise((t,s)=>{const n=this.subscribe(i=>{i.isFetching||(n(),i.isError&&(e!=null&&e.throwOnError)?s(i.error):t(i))})})}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch(e){return this.fetch(Object.assign(Object.assign({},e),{meta:{refetchPage:e==null?void 0:e.refetchPage}}))}fetchOptimistic(e){const t=this.client.defaultQueryObserverOptions(e),s=this.client.getQueryCache().build(this.client,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.executeFetch(e).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(es)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),Ct||this.currentResult.isStale||!Rt(this.options.staleTime))return;const t=fs(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!==null&&e!==void 0?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Ct||this.options.enabled===!1||!Rt(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||vs.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearTimers(){this.clearStaleTimeout(),this.clearRefetchInterval()}clearStaleTimeout(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0}clearRefetchInterval(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0}createResult(e,t){var s;const n=this.currentQuery,i=this.options,l=this.currentResult,o=this.currentResultState,c=this.currentResultOptions,g=e!==n,d=g?e.state:this.currentQueryInitialState,_=g?this.currentResult:this.previousQueryResult,{state:b}=e;let{dataUpdatedAt:D,error:S,errorUpdatedAt:I,isFetching:C,status:O}=b,R=!1,p=!1,m;if(t.optimisticResults){const E=this.hasListeners(),T=!E&&Vt(e,t),B=E&&At(e,n,t,i);(T||B)&&(C=!0,D||(O="loading"))}if(t.keepPreviousData&&!b.dataUpdateCount&&(_!=null&&_.isSuccess)&&O!=="error")m=_.data,D=_.dataUpdatedAt,O=_.status,R=!0;else if(t.select&&typeof b.data<"u")if(l&&b.data===(o==null?void 0:o.data)&&t.select===((s=this.previousSelect)===null||s===void 0?void 0:s.fn)&&!this.previousSelectError)m=this.previousSelect.result;else try{m=t.select(b.data),t.structuralSharing!==!1&&(m=St(l==null?void 0:l.data,m)),this.previousSelect={fn:t.select,result:m},this.previousSelectError=null}catch(E){Ot().error(E),S=E,this.previousSelectError=E,I=Date.now(),O="error"}else m=b.data;if(typeof t.placeholderData<"u"&&typeof m>"u"&&(O==="loading"||O==="idle")){let E;if(l!=null&&l.isPlaceholderData&&t.placeholderData===(c==null?void 0:c.placeholderData))E=l.data;else if(E=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof E<"u")try{E=t.select(E),t.structuralSharing!==!1&&(E=St(l==null?void 0:l.data,E)),this.previousSelectError=null}catch(T){Ot().error(T),S=T,this.previousSelectError=T,I=Date.now(),O="error"}typeof E<"u"&&(O="success",m=E,p=!0)}return{status:O,isLoading:O==="loading",isSuccess:O==="success",isError:O==="error",isIdle:O==="idle",data:m,dataUpdatedAt:D,error:S,errorUpdatedAt:I,failureCount:b.fetchFailureCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>d.dataUpdateCount||b.errorUpdateCount>d.errorUpdateCount,isFetching:C,isRefetching:C&&O!=="loading",isLoadingError:O==="error"&&b.dataUpdatedAt===0,isPlaceholderData:p,isPreviousData:R,isRefetchError:O==="error"&&b.dataUpdatedAt!==0,isStale:We(e,t),refetch:this.refetch,remove:this.remove}}shouldNotifyListeners(e,t){if(!t)return!0;const{notifyOnChangeProps:s,notifyOnChangePropsExclusions:n}=this.options;if(!s&&!n||s==="tracked"&&!this.trackedProps.length)return!0;const i=s==="tracked"?this.trackedProps:s;return Object.keys(e).some(l=>{const o=l,c=e[o]!==t[o],g=i==null?void 0:i.some(_=>_===l),d=n==null?void 0:n.some(_=>_===l);return c&&!d&&(!i||g)})}updateResult(e){const t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,ms(this.currentResult,t))return;const s={cache:!0};(e==null?void 0:e.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,t)&&(s.listeners=!0),this.notify(Object.assign(Object.assign({},s),e))}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!0:e.type==="error"&&!ps(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){Me.batch(()=>{var t,s,n,i,l,o,c,g;e.onSuccess?((s=(t=this.options).onSuccess)===null||s===void 0||s.call(t,this.currentResult.data),(i=(n=this.options).onSettled)===null||i===void 0||i.call(n,this.currentResult.data,null)):e.onError&&((o=(l=this.options).onError)===null||o===void 0||o.call(l,this.currentResult.error),(g=(c=this.options).onSettled)===null||g===void 0||g.call(c,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(d=>{d(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Es(a,e){return e.enabled!==!1&&!a.state.dataUpdatedAt&&!(a.state.status==="error"&&e.retryOnMount===!1)}function Is(a,e){return e.enabled!==!1&&a.state.dataUpdatedAt>0&&(e.refetchOnMount==="always"||e.refetchOnMount!==!1&&We(a,e))}function Vt(a,e){return Es(a,e)||Is(a,e)}function ks(a,e){return e.enabled!==!1&&(e.refetchOnReconnect==="always"||e.refetchOnReconnect!==!1&&We(a,e))}function Ds(a,e){return e.enabled!==!1&&(e.refetchOnWindowFocus==="always"||e.refetchOnWindowFocus!==!1&&We(a,e))}function At(a,e,t,s){return t.enabled!==!1&&(a!==e||s.enabled===!1)&&(!t.suspense||a.state.status!=="error")&&We(a,t)}function We(a,e){return a.isStaleByTime(e.staleTime)}class Cs extends xt{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){this.options=this.client.defaultMutationOptions(e)}onUnsubscribe(){var e;this.listeners.length||(e=this.currentMutation)===null||e===void 0||e.removeObserver(this)}onMutationUpdate(e){this.updateResult();const t={listeners:!0};e.type==="success"?t.onSuccess=!0:e.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object.assign(Object.assign({},this.options),{variables:typeof e<"u"?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:_s(),t=Object.assign(Object.assign({},e),{isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=t}notify(e){Me.batch(()=>{var t,s,n,i,l,o,c,g;this.mutateOptions&&(e.onSuccess?((s=(t=this.mutateOptions).onSuccess)===null||s===void 0||s.call(t,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(n=this.mutateOptions).onSettled)===null||i===void 0||i.call(n,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&((o=(l=this.mutateOptions).onError)===null||o===void 0||o.call(l,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(g=(c=this.mutateOptions).onSettled)===null||g===void 0||g.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))),e.listeners&&this.listeners.forEach(d=>{d(this.currentResult)})})}}function Je(){const a=as("queryClient");if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a}function Qt(a){return a.optimisticResults=!0,a.onError&&(a.onError=Me.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Me.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Me.batchCalls(a.onSettled)),a}function ts(a,e,t){const s=wt(a,e,t),n=Je();let i=n.defaultQueryObserverOptions(s);i=Qt(i);const l=new ys(n,i),{subscribe:o}=$t(l.getCurrentResult(),_=>l.subscribe(Me.batchCalls(_)));l.updateResult();function c(_,b,D){const S=wt(_,b,D);let I=n.defaultQueryObserverOptions(S);I=Qt(I),l.hasListeners()&&l.setOptions(I,{listeners:!1})}function g(_){l.updateOptions(_)}function d(_){g({enabled:_})}return{subscribe:o,setOptions:c,updateOptions:g,setEnabled:d}}const Rs=a=>({queryResult:a&1}),Nt=a=>({queryResult:a[0]});function Ss(a){let e;const t=a[6].query,s=ls(t,a,a[5],Nt);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,i){s&&s.m(n,i),e=!0},p(n,[i]){s&&s.p&&(!e||i&33)&&rs(s,t,n,n[5],e?is(t,n[5],i,Rs):ns(n[5]),Nt)},i(n){e||(he(s,n),e=!0)},o(n){_e(s,n),e=!1},d(n){s&&s.d(n)}}}function Os(a,e,t){let s,{$$slots:n={},$$scope:i}=e,{options:l}=e,{queryResult:o=void 0}=e,c=!0;it(()=>{t(3,c=!1)});const g=ts(l);return je(a,g,d=>t(4,s=d)),a.$$set=d=>{"options"in d&&t(2,l=d.options),"queryResult"in d&&t(0,o=d.queryResult),"$$scope"in d&&t(5,i=d.$$scope)},a.$$.update=()=>{a.$$.dirty&16&&t(0,o=s),a.$$.dirty&12&&(c||g.setOptions(l))},[o,g,l,c,s,i,n]}class ws extends Ae{constructor(e){super(),Qe(this,e,Os,Ss,Ve,{options:2,queryResult:0})}}const ss=ws;function Fe(a,e,t){const s=Tt(a,e,t),n=Je(),i=new Cs(n,s),l=(_,b)=>{i.mutate(_,b).catch(es)},o=i.getCurrentResult(),c=Object.assign(Object.assign({},o),{mutate:l,mutateAsync:o.mutate}),{subscribe:g}=$t(c,_=>i.subscribe(Me.batchCalls(b=>{i.hasListeners()&&_(Object.assign(Object.assign({},b),{mutate:l,mutateAsync:b.mutate}))})));function d(_,b,D){if(i.hasListeners()){const S=Tt(_,b,D);i.setOptions(S)}}return{subscribe:g,setOptions:d}}function Mt(a,e,t){const s=a.slice();return s[3]=e[t],s}function Ut(a,e){let t,s,n=e[3].name+"",i,l,o,c,g;function d(){return e[2](e[3])}return{key:a,first:null,c(){t=f("li"),s=f("a"),i=Y(n),o=Q(),this.h()},l(_){t=v(_,"LI",{});var b=y(t);s=v(b,"A",{href:!0,class:!0});var D=y(s);i=Z(D,n),D.forEach(h),o=N(b),b.forEach(h),this.h()},h(){u(s,"href","#"+e[3].id),u(s,"class",l=e[3].id===e[0]?"is-active":""),this.first=t},m(_,b){x(_,t,b),r(t,s),r(s,i),r(t,o),c||(g=te(s,"click",d),c=!0)},p(_,b){e=_,b&1&&l!==(l=e[3].id===e[0]?"is-active":"")&&u(s,"class",l)},d(_){_&&h(t),c=!1,g()}}}function Ts(a){let e,t,s=[],n=new Map,i=Ie(a[1]);const l=o=>o[3].id;for(let o=0;o<i.length;o+=1){let c=Mt(a,i,o),g=l(c);n.set(g,s[o]=Ut(g,c))}return{c(){e=f("aside"),t=f("ul");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=v(o,"ASIDE",{class:!0});var c=y(e);t=v(c,"UL",{class:!0});var g=y(t);for(let d=0;d<s.length;d+=1)s[d].l(g);g.forEach(h),c.forEach(h),this.h()},h(){u(t,"class","menu-list"),u(e,"class","menu")},m(o,c){x(o,e,c),r(e,t);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(t,null)},p(o,[c]){c&3&&(i=Ie(o[1]),s=Ke(s,c,l,1,o,i,n,t,ze,Ut,null,Mt))},i:be,o:be,d(o){o&&h(e);for(let c=0;c<s.length;c+=1)s[c].d()}}}function Vs(a,e,t){const s=[{id:2,name:"Cabang"},{id:3,name:"Import"},{id:1,name:"Customer"},{id:4,name:"Download Card"}];let{currentMenu:n=1}=e;const i=l=>t(0,n=l.id);return a.$$set=l=>{"currentMenu"in l&&t(0,n=l.currentMenu)},[n,s,i]}class As extends Ae{constructor(e){super(),Qe(this,e,Vs,Ts,Ve,{currentMenu:0})}}function Qs(a){let e,t,s,n,i,l,o,c=a[0].id===0?"Cabang Baru":"Cabang "+a[0].name,g,d,_,b,D,S,I,C,O="Nama",R,p,m,k,E,T,B="Alamat",H,q,M,J,V,A,j,X,$,se="Cancel",F,U,w,W,z,G;return{c(){e=f("div"),t=f("div"),s=f("div"),n=Q(),i=f("div"),l=f("header"),o=f("p"),g=Y(c),d=Q(),_=f("button"),b=Q(),D=f("section"),S=f("div"),I=f("label"),C=f("span"),C.textContent=O,R=Q(),p=f("input"),m=Q(),k=f("div"),E=f("label"),T=f("span"),T.textContent=B,H=Q(),q=f("input"),M=Q(),J=f("footer"),V=f("div"),A=f("div"),j=Q(),X=f("div"),$=f("button"),$.textContent=se,F=Q(),U=f("button"),w=Y("Save"),this.h()},l(ae){e=v(ae,"DIV",{});var oe=y(e);t=v(oe,"DIV",{class:!0});var L=y(t);s=v(L,"DIV",{class:!0}),y(s).forEach(h),n=N(L),i=v(L,"DIV",{class:!0});var P=y(i);l=v(P,"HEADER",{class:!0});var K=y(l);o=v(K,"P",{class:!0});var re=y(o);g=Z(re,c),re.forEach(h),d=N(K),_=v(K,"BUTTON",{class:!0,"aria-label":!0}),y(_).forEach(h),K.forEach(h),b=N(P),D=v(P,"SECTION",{class:!0});var de=y(D);S=v(de,"DIV",{class:!0});var fe=y(S);I=v(fe,"LABEL",{});var ce=y(I);C=v(ce,"SPAN",{class:!0,"data-svelte-h":!0}),ie(C)!=="svelte-zhk08k"&&(C.textContent=O),R=N(ce),p=v(ce,"INPUT",{type:!0,class:!0,placeholder:!0}),ce.forEach(h),fe.forEach(h),m=N(de),k=v(de,"DIV",{class:!0});var Ce=y(k);E=v(Ce,"LABEL",{class:!0});var ye=y(E);T=v(ye,"SPAN",{class:!0,"data-svelte-h":!0}),ie(T)!=="svelte-rl919z"&&(T.textContent=B),H=N(ye),q=v(ye,"INPUT",{type:!0,class:!0,placeholder:!0}),ye.forEach(h),Ce.forEach(h),de.forEach(h),M=N(P),J=v(P,"FOOTER",{class:!0});var Re=y(J);V=v(Re,"DIV",{class:!0});var ve=y(V);A=v(ve,"DIV",{class:!0}),y(A).forEach(h),j=N(ve),X=v(ve,"DIV",{class:!0});var ne=y(X);$=v(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),ie($)!=="svelte-10tfac"&&($.textContent=se),F=N(ne),U=v(ne,"BUTTON",{class:!0});var me=y(U);w=Z(me,"Save"),me.forEach(h),ne.forEach(h),ve.forEach(h),Re.forEach(h),P.forEach(h),L.forEach(h),oe.forEach(h),this.h()},h(){u(s,"class","modal-background"),u(o,"class","modal-card-title"),u(_,"class","delete has-background-danger-dark"),u(_,"aria-label","close"),u(l,"class","modal-card-head"),u(C,"class","label is-small"),u(p,"type","text"),u(p,"class","input is-primary"),u(p,"placeholder","Nama cabang"),u(S,"class","block"),u(T,"class","label is-small"),u(q,"type","text"),u(q,"class","input is-info"),u(q,"placeholder","Alamat cabang"),u(E,"class","block"),u(k,"class","block"),u(D,"class","modal-card-body"),u(A,"class","is-flex-grow-1"),u($,"class","button is-outlined is-link"),U.disabled=a[2],u(U,"class","button is-primary"),u(X,"class","buttons is-flex-grow-0"),u(V,"class","is-flex is-flex-direction-row container"),u(J,"class","modal-card-foot"),u(i,"class","modal-card px-4"),u(t,"class",W="modal "+a[1])},m(ae,oe){x(ae,e,oe),r(e,t),r(t,s),r(t,n),r(t,i),r(i,l),r(l,o),r(o,g),r(l,d),r(l,_),r(i,b),r(i,D),r(D,S),r(S,I),r(I,C),r(I,R),r(I,p),ge(p,a[0].name),r(D,m),r(D,k),r(k,E),r(E,T),r(E,H),r(E,q),ge(q,a[0].address),r(i,M),r(i,J),r(J,V),r(V,A),r(V,j),r(V,X),r(X,$),r(X,F),r(X,U),r(U,w),z||(G=[te(s,"click",a[4]),te(_,"click",a[5]),te(p,"input",a[6]),te(q,"input",a[7]),te($,"click",a[8]),te(U,"click",a[9])],z=!0)},p(ae,[oe]){oe&1&&c!==(c=ae[0].id===0?"Cabang Baru":"Cabang "+ae[0].name)&&ue(g,c),oe&1&&p.value!==ae[0].name&&ge(p,ae[0].name),oe&1&&q.value!==ae[0].address&&ge(q,ae[0].address),oe&4&&(U.disabled=ae[2]),oe&2&&W!==(W="modal "+ae[1])&&u(t,"class",W)},i:be,o:be,d(ae){ae&&h(e),z=!1,Le(G)}}}function Ns(a,e,t){let s;const n=He();let{isActive:i=""}=e,{data:l}=e;const o=()=>t(1,i=""),c=()=>t(1,i="");function g(){l.name=this.value,t(0,l)}function d(){l.address=this.value,t(0,l)}const _=()=>t(1,i=""),b=()=>n("onSave",l);return a.$$set=D=>{"isActive"in D&&t(1,i=D.isActive),"data"in D&&t(0,l=D.data)},a.$$.update=()=>{a.$$.dirty&1&&t(2,s=l.name.trim().length===0||l.address.trim().length===0)},[l,i,s,n,o,c,g,d,_,b]}class Ms extends Ae{constructor(e){super(),Qe(this,e,Ns,Qs,Ve,{isActive:1,data:0})}}function Pt(a,e,t){const s=a.slice();return s[18]=e[t],s[20]=t,s}function Us(a){let e,t,s,n=[],i=new Map,l=Ie(a[17].data??[]);const o=c=>c[18].id;for(let c=0;c<l.length;c+=1){let g=Pt(a,l,c),d=o(g);i.set(d,n[c]=qt(d,g))}return{c(){e=f("div"),t=f("hr"),s=Q();for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=v(c,"DIV",{class:!0});var g=y(e);t=v(g,"HR",{class:!0}),s=N(g);for(let d=0;d<n.length;d+=1)n[d].l(g);g.forEach(h),this.h()},h(){u(t,"class","p-0 m-0 my-2"),u(e,"class","container")},m(c,g){x(c,e,g),r(e,t),r(e,s);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null)},p(c,g){g&131075&&(l=Ie(c[17].data??[]),n=Ke(n,g,o,1,c,l,i,e,ze,qt,null,Pt))},d(c){c&&h(e);for(let g=0;g<n.length;g+=1)n[g].d()}}}function Ps(a){let e,t="Loading branch...";return{c(){e=f("div"),e.textContent=t},l(s){e=v(s,"DIV",{"data-svelte-h":!0}),ie(e)!=="svelte-u90sd0"&&(e.textContent=t)},m(s,n){x(s,e,n)},p:be,d(s){s&&h(e)}}}function qt(a,e){let t,s,n=e[18].name+"",i,l,o,c=e[18].address+"",g,d,_,b,D="Edit",S,I,C,O;function R(){return e[8](e[18])}return{key:a,first:null,c(){t=f("div"),s=f("div"),i=Y(n),l=Q(),o=f("div"),g=Y(c),d=Q(),_=f("div"),b=f("button"),b.textContent=D,S=Q(),I=f("hr"),this.h()},l(p){t=v(p,"DIV",{class:!0});var m=y(t);s=v(m,"DIV",{class:!0});var k=y(s);i=Z(k,n),k.forEach(h),l=N(m),o=v(m,"DIV",{class:!0});var E=y(o);g=Z(E,c),E.forEach(h),d=N(m),_=v(m,"DIV",{class:!0});var T=y(_);b=v(T,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(b)!=="svelte-5ooks2"&&(b.textContent=D),T.forEach(h),m.forEach(h),S=N(p),I=v(p,"HR",{class:!0}),this.h()},h(){u(s,"class","column has-text-weight-bold pb-0"),u(o,"class","column is-8 pb-0"),u(b,"class","button is-small is-link is-outlined"),u(_,"class","column is-narrow pb-0"),u(t,"class","columns"),u(I,"class","p-0 m-0 my-2"),this.first=t},m(p,m){x(p,t,m),r(t,s),r(s,i),r(t,l),r(t,o),r(o,g),r(t,d),r(t,_),r(_,b),x(p,S,m),x(p,I,m),C||(O=te(b,"click",R),C=!0)},p(p,m){e=p,m&131072&&n!==(n=e[18].name+"")&&ue(i,n),m&131072&&c!==(c=e[18].address+"")&&ue(g,c)},d(p){p&&(h(t),h(S),h(I)),C=!1,O()}}}function qs(a){let e;function t(i,l){return i[17].status==="loading"?Ps:Us}let s=t(a),n=s(a);return{c(){e=f("div"),n.c(),this.h()},l(i){e=v(i,"DIV",{slot:!0});var l=y(e);n.l(l),l.forEach(h),this.h()},h(){u(e,"slot","query")},m(i,l){x(i,e,l),n.m(e,null)},p(i,l){s===(s=t(i))&&n?n.p(i,l):(n.d(1),n=s(i),n&&(n.c(),n.m(e,null)))},d(i){i&&h(e),n.d()}}}function js(a){let e,t,s,n='<div class="subtitle block">Cabang</div>',i,l,o,c="+ New",g,d,_,b,D,S,I,C;d=new ss({props:{options:a[2],$$slots:{query:[qs,({queryResult:p})=>({17:p}),({queryResult:p})=>p?131072:0]},$$scope:{ctx:a}}});function O(p){a[9](p)}let R={data:{...a[0]}};return a[1]!==void 0&&(R.isActive=a[1]),b=new Ms({props:R}),rt.push(()=>ct(b,"isActive",O)),b.$on("onSave",a[6]),{c(){e=f("div"),t=f("div"),s=f("div"),s.innerHTML=n,i=Q(),l=f("div"),o=f("button"),o.textContent=c,g=Q(),Se(d.$$.fragment),_=Q(),Se(b.$$.fragment),this.h()},l(p){e=v(p,"DIV",{class:!0});var m=y(e);t=v(m,"DIV",{class:!0});var k=y(t);s=v(k,"DIV",{class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-ama811"&&(s.innerHTML=n),i=N(k),l=v(k,"DIV",{class:!0});var E=y(l);o=v(E,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(o)!=="svelte-1uu56oi"&&(o.textContent=c),E.forEach(h),k.forEach(h),g=N(m),Oe(d.$$.fragment,m),_=N(m),Oe(b.$$.fragment,m),m.forEach(h),this.h()},h(){u(s,"class","column"),u(o,"class","button is-success"),u(l,"class","column is-narrow"),u(t,"class","columns is-mobile"),u(e,"class","container fluid")},m(p,m){x(p,e,m),r(e,t),r(t,s),r(t,i),r(t,l),r(l,o),r(e,g),we(d,e,null),r(e,_),we(b,e,null),S=!0,I||(C=te(o,"click",a[7]),I=!0)},p(p,[m]){const k={};m&4&&(k.options=p[2]),m&2228227&&(k.$$scope={dirty:m,ctx:p}),d.$set(k);const E={};m&1&&(E.data={...p[0]}),!D&&m&2&&(D=!0,E.isActive=p[1],ot(()=>D=!1)),b.$set(E)},i(p){S||(he(d.$$.fragment,p),he(b.$$.fragment,p),S=!0)},o(p){_e(d.$$.fragment,p),_e(b.$$.fragment,p),S=!1},d(p){p&&h(e),Te(d),Te(b),I=!1,C()}}}function Ls(a,e,t){let s,n,i;const l=Je(),o=async()=>await De.get("/v2/pdam/branch/").json(),c=async p=>await De.headers({"Content-Type":"application/json",Accept:"application/json"}).put(p,`/v2/pdam/branch/${p.id}`).json(),d=Fe(async p=>await De.headers({"Content-Type":"application/json",Accept:"application/json"}).post(p,"/v2/pdam/branch/").json(),{onMutate:async p=>{await l.cancelQueries();const m=l.getQueryData(["pdam","branch","list"]);return m&&l.setQueryData(["pdam","branch","list"],[...m]),m},onSuccess:async(p,m,k)=>{setTimeout(()=>{},1e3)},onError:(p,m,k)=>{k!=null&&k.previousData&&l.setQueryData(["pdam","branch","list"],k.previousData)},onSettled:async(p,m,k,E)=>{await l.invalidateQueries(["pdam","branch","list"])}});je(a,d,p=>t(12,i=p));const _=Fe(c,{onMutate:async p=>{await l.cancelQueries();const m=l.getQueryData(["pdam","branch","list"]);return m&&l.setQueryData(["pdam","branch","list"],m),m},onSuccess:async(p,m,k)=>{setTimeout(()=>{},1e3)},onError:(p,m,k)=>{k!=null&&k.previousData&&l.setQueryData(["pdam","branch","list"],k.previousData)},onSettled:async(p,m,k,E)=>{await l.invalidateQueries(["pdam","branch","list"])}});je(a,_,p=>t(11,n=p));const b={id:0,name:"",address:""};let D=b,S="";function I(p){const m=p.detail;m.id===0?i.mutate(m):n.mutate(m),t(1,S="")}const C=()=>{t(0,D={...b}),t(1,S="is-active")},O=p=>{t(0,D=p),t(1,S="is-active")};function R(p){S=p,t(1,S)}return t(2,s={queryKey:["pdam","branch","list"],queryFn:()=>o(),keepPreviousData:!0}),[D,S,s,d,_,b,I,C,O,R]}class Bs extends Ae{constructor(e){super(),Qe(this,e,Ls,js,Ve,{})}}function jt(a,e,t){const s=a.slice();return s[17]=e[t],s}function Lt(a,e){let t,s=e[17].name+"",n,i;return{key:a,first:null,c(){t=f("option"),n=Y(s),this.h()},l(l){t=v(l,"OPTION",{});var o=y(t);n=Z(o,s),o.forEach(h),this.h()},h(){t.__value=i=e[17].id,ge(t,t.__value),this.first=t},m(l,o){x(l,t,o),r(t,n)},p(l,o){e=l,o&4&&s!==(s=e[17].name+"")&&ue(n,s),o&4&&i!==(i=e[17].id)&&(t.__value=i,ge(t,t.__value))},d(l){l&&h(t)}}}function Fs(a){let e,t,s,n,i,l,o=(a[0].isNew?"Pelanggan Baru":a[0].name)+"",c,g,d,_,b,D,S,I,C="Nama",O,R,p,m,k,E,T,B,H="No. SL",q,M,J,V,A,j,X="Cabang",$,se,F,U=[],w=new Map,W,z,G,ae,oe="Alamat",L,P,K,re,de,fe,ce,Ce,ye,Re,ve,ne,me,Be="Cancel",Ue,Ee,Pe,Ne,ke,ut,Xe=Ie(a[2]);const dt=ee=>ee[17].id;for(let ee=0;ee<Xe.length;ee+=1){let le=jt(a,Xe,ee),pe=dt(le);w.set(pe,U[ee]=Lt(pe,le))}return{c(){e=f("div"),t=f("div"),s=Q(),n=f("div"),i=f("header"),l=f("p"),c=Y(o),g=Q(),d=f("button"),_=Q(),b=f("section"),D=f("div"),S=f("label"),I=f("span"),I.textContent=C,O=Q(),R=f("input"),p=Q(),m=f("div"),k=f("div"),E=f("div"),T=f("label"),B=f("span"),B.textContent=H,q=Q(),M=f("input"),J=Q(),V=f("div"),A=f("label"),j=f("span"),j.textContent=X,$=Q(),se=f("div"),F=f("select");for(let ee=0;ee<U.length;ee+=1)U[ee].c();W=Q(),z=f("div"),G=f("label"),ae=f("span"),ae.textContent=oe,L=Q(),P=f("textarea"),K=Q(),re=f("footer"),de=f("div"),fe=f("div"),ce=f("button"),Ce=Y("Remove"),Re=Q(),ve=f("div"),ne=f("div"),me=f("button"),me.textContent=Be,Ue=Q(),Ee=f("button"),Pe=Y("Save"),this.h()},l(ee){e=v(ee,"DIV",{class:!0});var le=y(e);t=v(le,"DIV",{class:!0}),y(t).forEach(h),s=N(le),n=v(le,"DIV",{class:!0});var pe=y(n);i=v(pe,"HEADER",{class:!0});var Ge=y(i);l=v(Ge,"P",{class:!0});var ht=y(l);c=Z(ht,o),ht.forEach(h),g=N(Ge),d=v(Ge,"BUTTON",{class:!0,"aria-label":!0}),y(d).forEach(h),Ge.forEach(h),_=N(pe),b=v(pe,"SECTION",{class:!0});var qe=y(b);D=v(qe,"DIV",{class:!0});var ft=y(D);S=v(ft,"LABEL",{});var Ye=y(S);I=v(Ye,"SPAN",{class:!0,"data-svelte-h":!0}),ie(I)!=="svelte-zhk08k"&&(I.textContent=C),O=N(Ye),R=v(Ye,"INPUT",{type:!0,maxlength:!0,class:!0,placeholder:!0}),Ye.forEach(h),ft.forEach(h),p=N(qe),m=v(qe,"DIV",{class:!0});var vt=y(m);k=v(vt,"DIV",{class:!0});var Ze=y(k);E=v(Ze,"DIV",{class:!0});var mt=y(E);T=v(mt,"LABEL",{});var $e=y(T);B=v($e,"SPAN",{class:!0,"data-svelte-h":!0}),ie(B)!=="svelte-p9pzvr"&&(B.textContent=H),q=N($e),M=v($e,"INPUT",{maxlength:!0,type:!0,class:!0,placeholder:!0}),$e.forEach(h),mt.forEach(h),J=N(Ze),V=v(Ze,"DIV",{class:!0});var pt=y(V);A=v(pt,"LABEL",{});var xe=y(A);j=v(xe,"SPAN",{class:!0,"data-svelte-h":!0}),ie(j)!=="svelte-xv7er7"&&(j.textContent=X),$=N(xe),se=v(xe,"DIV",{class:!0});var _t=y(se);F=v(_t,"SELECT",{});var bt=y(F);for(let nt=0;nt<U.length;nt+=1)U[nt].l(bt);bt.forEach(h),_t.forEach(h),xe.forEach(h),pt.forEach(h),Ze.forEach(h),vt.forEach(h),W=N(qe),z=v(qe,"DIV",{class:!0});var gt=y(z);G=v(gt,"LABEL",{class:!0});var et=y(G);ae=v(et,"SPAN",{class:!0,"data-svelte-h":!0}),ie(ae)!=="svelte-rl919z"&&(ae.textContent=oe),L=N(et),P=v(et,"TEXTAREA",{maxlength:!0,rows:!0,class:!0,placeholder:!0}),y(P).forEach(h),et.forEach(h),gt.forEach(h),qe.forEach(h),K=N(pe),re=v(pe,"FOOTER",{class:!0});var yt=y(re);de=v(yt,"DIV",{class:!0});var tt=y(de);fe=v(tt,"DIV",{class:!0});var Et=y(fe);ce=v(Et,"BUTTON",{class:!0});var It=y(ce);Ce=Z(It,"Remove"),It.forEach(h),Et.forEach(h),Re=N(tt),ve=v(tt,"DIV",{class:!0});var kt=y(ve);ne=v(kt,"DIV",{class:!0});var st=y(ne);me=v(st,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(me)!=="svelte-1ucskx2"&&(me.textContent=Be),Ue=N(st),Ee=v(st,"BUTTON",{class:!0});var Dt=y(Ee);Pe=Z(Dt,"Save"),Dt.forEach(h),st.forEach(h),kt.forEach(h),tt.forEach(h),yt.forEach(h),pe.forEach(h),le.forEach(h),this.h()},h(){u(t,"class","modal-background"),u(l,"class","modal-card-title"),u(d,"class","delete has-background-danger-dark"),u(d,"aria-label","close"),u(i,"class","modal-card-head"),u(I,"class","label is-small"),u(R,"type","text"),u(R,"maxlength",50),u(R,"class","input is-primary"),u(R,"placeholder","Nama pelanggan"),u(D,"class","block"),u(B,"class","label is-small"),u(M,"maxlength",10),u(M,"type","text"),u(M,"class","input is-primary"),u(M,"placeholder","No SL pelanggan"),u(E,"class","column"),u(j,"class","label is-small"),a[0].branchId===void 0&&Xt(()=>a[11].call(F)),u(se,"class","select is-primary is-fullwidth"),u(V,"class","column is-narrow"),u(k,"class","columns"),u(m,"class","block"),u(ae,"class","label is-small"),u(P,"maxlength",128),u(P,"rows","2"),u(P,"class","textarea is-info py-1 pb-2"),u(P,"placeholder","Alamat pelanggan"),u(G,"class","block"),u(z,"class","block"),u(b,"class","modal-card-body"),ce.disabled=ye=a[0].isNew,u(ce,"class","button is-danger is-outlined"),u(fe,"class","column"),u(me,"class","button is-outlined is-link"),Ee.disabled=a[4],u(Ee,"class","button is-primary"),u(ne,"class","buttons"),u(ve,"class","column is-narrow"),u(de,"class","columns container is-mobile"),u(re,"class","modal-card-foot py-4"),u(n,"class","modal-card"),u(e,"class",Ne="modal "+a[1]+" px-4")},m(ee,le){x(ee,e,le),r(e,t),r(e,s),r(e,n),r(n,i),r(i,l),r(l,c),r(i,g),r(i,d),r(n,_),r(n,b),r(b,D),r(D,S),r(S,I),r(S,O),r(S,R),ge(R,a[0].name),a[9](R),r(b,p),r(b,m),r(m,k),r(k,E),r(E,T),r(T,B),r(T,q),r(T,M),ge(M,a[0].slId),r(k,J),r(k,V),r(V,A),r(A,j),r(A,$),r(A,se),r(se,F);for(let pe=0;pe<U.length;pe+=1)U[pe]&&U[pe].m(F,null);lt(F,a[0].branchId,!0),r(b,W),r(b,z),r(z,G),r(G,ae),r(G,L),r(G,P),ge(P,a[0].address),r(n,K),r(n,re),r(re,de),r(de,fe),r(fe,ce),r(ce,Ce),r(de,Re),r(de,ve),r(ve,ne),r(ne,me),r(ne,Ue),r(ne,Ee),r(Ee,Pe),ke||(ut=[te(t,"click",a[6]),te(d,"click",a[7]),te(R,"input",a[8]),te(M,"input",a[10]),te(F,"change",a[11]),te(P,"input",a[12]),te(ce,"click",a[13]),te(me,"click",a[14]),te(Ee,"click",a[15])],ke=!0)},p(ee,[le]){le&1&&o!==(o=(ee[0].isNew?"Pelanggan Baru":ee[0].name)+"")&&ue(c,o),le&5&&R.value!==ee[0].name&&ge(R,ee[0].name),le&5&&M.value!==ee[0].slId&&ge(M,ee[0].slId),le&4&&(Xe=Ie(ee[2]),U=Ke(U,le,dt,1,ee,Xe,w,F,ze,Lt,null,jt)),le&5&&lt(F,ee[0].branchId),le&5&&ge(P,ee[0].address),le&5&&ye!==(ye=ee[0].isNew)&&(ce.disabled=ye),le&16&&(Ee.disabled=ee[4]),le&2&&Ne!==(Ne="modal "+ee[1]+" px-4")&&u(e,"class",Ne)},i:be,o:be,d(ee){ee&&h(e),a[9](null);for(let le=0;le<U.length;le+=1)U[le].d();ke=!1,Le(ut)}}}function Hs(a,e,t){let s;const n=He();let i,{isActive:l=""}=e,{data:o}=e,{branchs:c=[]}=e;it(async()=>{i.focus(),i.select()});const g=m=>{const k=c.filter(E=>E.id===m)[0];k&&t(0,o.branchName=k.name,o)},d=()=>t(1,l=""),_=()=>t(1,l="");function b(){o.name=this.value,t(0,o),t(2,c)}function D(m){rt[m?"unshift":"push"](()=>{i=m,t(3,i)})}function S(){o.slId=this.value,t(0,o),t(2,c)}function I(){o.branchId=Gt(this),t(0,o),t(2,c)}function C(){o.address=this.value,t(0,o),t(2,c)}const O=()=>n("removeCustomer",o),R=()=>t(1,l=""),p=()=>n("onSave",o);return a.$$set=m=>{"isActive"in m&&t(1,l=m.isActive),"data"in m&&t(0,o=m.data),"branchs"in m&&t(2,c=m.branchs)},a.$$.update=()=>{a.$$.dirty&1&&g(o.branchId),a.$$.dirty&1&&t(4,s=o.name.trim().length===0||o.address.trim().length===0||o.branchId===0||o.slId.trim().length===0)},[o,l,c,i,s,n,d,_,b,D,S,I,C,O,R,p]}class Ks extends Ae{constructor(e){super(),Qe(this,e,Hs,Fs,Ve,{isActive:1,data:0,branchs:2})}}function Bt(a,e,t){const s=a.slice();return s[36]=e[t],s}function Ft(a,e,t){const s=a.slice();return s[36]=e[t],s[40]=t,s}function zs(a){let e,t,s,n=[],i=new Map,l,o,c,g,d,_,b,D,S,I,C,O,R,p,m,k,E,T,B,H,q,M,J=a[1]+1+"",V,A,j,X,$,se,F,U,w=Ie(a[35].data??[]);const W=L=>L[36].slId;for(let L=0;L<w.length;L+=1){let P=Ft(a,w,L),K=W(P);i.set(K,n[L]=Ht(K,P))}let z=Ie(a[7]),G=[];for(let L=0;L<z.length;L+=1)G[L]=Kt(Bt(a,z,L));function ae(){return a[20](a[35])}function oe(){return a[22](a[35])}return{c(){e=f("div"),t=f("hr"),s=Q();for(let L=0;L<n.length;L+=1)n[L].c();l=Q(),o=f("div"),c=f("div"),g=f("div"),d=f("div"),_=f("div"),b=f("div"),D=f("select");for(let L=0;L<G.length;L+=1)G[L].c();S=Q(),I=f("div"),C=f("button"),O=Y("Select All"),p=Q(),m=f("div"),k=f("div"),E=f("button"),T=Y("< Previous"),H=Q(),q=f("div"),M=f("div"),V=Y(J),A=Q(),j=f("div"),X=f("button"),$=Y("Next >"),this.h()},l(L){e=v(L,"DIV",{});var P=y(e);t=v(P,"HR",{class:!0}),s=N(P);for(let ke=0;ke<n.length;ke+=1)n[ke].l(P);P.forEach(h),l=N(L),o=v(L,"DIV",{class:!0});var K=y(o);c=v(K,"DIV",{class:!0});var re=y(c);g=v(re,"DIV",{class:!0});var de=y(g);d=v(de,"DIV",{class:!0});var fe=y(d);_=v(fe,"DIV",{class:!0});var ce=y(_);b=v(ce,"DIV",{class:!0});var Ce=y(b);D=v(Ce,"SELECT",{});var ye=y(D);for(let ke=0;ke<G.length;ke+=1)G[ke].l(ye);ye.forEach(h),Ce.forEach(h),ce.forEach(h),S=N(fe),I=v(fe,"DIV",{class:!0});var Re=y(I);C=v(Re,"BUTTON",{title:!0,class:!0});var ve=y(C);O=Z(ve,"Select All"),ve.forEach(h),Re.forEach(h),fe.forEach(h),de.forEach(h),p=N(re),m=v(re,"DIV",{class:!0});var ne=y(m);k=v(ne,"DIV",{class:!0});var me=y(k);E=v(me,"BUTTON",{class:!0});var Be=y(E);T=Z(Be,"< Previous"),Be.forEach(h),me.forEach(h),H=N(ne),q=v(ne,"DIV",{class:!0});var Ue=y(q);M=v(Ue,"DIV",{class:!0});var Ee=y(M);V=Z(Ee,J),Ee.forEach(h),Ue.forEach(h),A=N(ne),j=v(ne,"DIV",{class:!0});var Pe=y(j);X=v(Pe,"BUTTON",{class:!0});var Ne=y(X);$=Z(Ne,"Next >"),Ne.forEach(h),Pe.forEach(h),ne.forEach(h),re.forEach(h),K.forEach(h),this.h()},h(){u(t,"class","p-0 m-0 my-2"),a[2]===void 0&&Xt(()=>a[19].call(D)),u(b,"class","select"),u(_,"class","column"),u(C,"title","Select all customer to print request"),u(C,"class","button"),C.disabled=R=a[35].data&&a[35].data.length===0,u(I,"class","column is-narrow"),u(d,"class","columns is-mobile"),u(g,"class","column"),E.disabled=B=a[1]===0,u(E,"class","button"),u(k,"class","column is-narrow"),u(M,"class","has-text-centered"),u(q,"class","column"),u(X,"class","button"),X.disabled=se=a[35].data&&a[35].data.length!==a[2],u(j,"class","column is-narrow"),u(m,"class","column is-narrow columns is-mobile"),u(c,"class","columns"),u(o,"class","block mt-4")},m(L,P){x(L,e,P),r(e,t),r(e,s);for(let K=0;K<n.length;K+=1)n[K]&&n[K].m(e,null);x(L,l,P),x(L,o,P),r(o,c),r(c,g),r(g,d),r(d,_),r(_,b),r(b,D);for(let K=0;K<G.length;K+=1)G[K]&&G[K].m(D,null);lt(D,a[2],!0),r(d,S),r(d,I),r(I,C),r(C,O),r(c,p),r(c,m),r(m,k),r(k,E),r(E,T),r(m,H),r(m,q),r(q,M),r(M,V),r(m,A),r(m,j),r(j,X),r(X,$),F||(U=[te(D,"change",a[19]),te(C,"click",ae),te(E,"click",a[21]),te(X,"click",oe)],F=!0)},p(L,P){if(a=L,P[0]&16408|P[1]&16&&(w=Ie(a[35].data??[]),n=Ke(n,P,W,1,a,w,i,e,ze,Ht,null,Ft)),P[0]&128){z=Ie(a[7]);let K;for(K=0;K<z.length;K+=1){const re=Bt(a,z,K);G[K]?G[K].p(re,P):(G[K]=Kt(re),G[K].c(),G[K].m(D,null))}for(;K<G.length;K+=1)G[K].d(1);G.length=z.length}P[0]&132&&lt(D,a[2]),P[1]&16&&R!==(R=a[35].data&&a[35].data.length===0)&&(C.disabled=R),P[0]&2&&B!==(B=a[1]===0)&&(E.disabled=B),P[0]&2&&J!==(J=a[1]+1+"")&&ue(V,J),P[0]&132|P[1]&16&&se!==(se=a[35].data&&a[35].data.length!==a[2])&&(X.disabled=se)},d(L){L&&(h(e),h(l),h(o));for(let P=0;P<n.length;P+=1)n[P].d();os(G,L),F=!1,Le(U)}}}function Ws(a){let e,t="Loading customer...";return{c(){e=f("div"),e.textContent=t},l(s){e=v(s,"DIV",{"data-svelte-h":!0}),ie(e)!=="svelte-1kcp520"&&(e.textContent=t)},m(s,n){x(s,e,n)},p:be,d(s){s&&h(e)}}}function Ht(a,e){let t,s,n,i=e[36].name+"",l,o,c,g,d,_,b,D=e[36].slId+"",S,I,C,O=e[36].address+"",R,p,m,k,E,T=(e[36].branchName??"-")+"",B,H,q,M,J="Edit",V,A,j,X;function $(){return e[17](e[36])}function se(){return e[18](e[36])}return{key:a,first:null,c(){t=f("div"),s=f("div"),n=f("div"),l=Y(i),o=Q(),c=f("div"),g=f("label"),d=f("input"),_=Q(),b=f("span"),S=Y(D),I=Q(),C=f("div"),R=Y(O),p=Q(),m=f("div"),k=f("div"),E=f("div"),B=Y(T),H=Q(),q=f("div"),M=f("button"),M.textContent=J,V=Q(),A=f("hr"),this.h()},l(F){t=v(F,"DIV",{class:!0});var U=y(t);s=v(U,"DIV",{class:!0});var w=y(s);n=v(w,"DIV",{class:!0});var W=y(n);l=Z(W,i),W.forEach(h),o=N(w),c=v(w,"DIV",{class:!0});var z=y(c);g=v(z,"LABEL",{});var G=y(g);d=v(G,"INPUT",{type:!0}),_=N(G),b=v(G,"SPAN",{class:!0});var ae=y(b);S=Z(ae,D),ae.forEach(h),G.forEach(h),z.forEach(h),w.forEach(h),I=N(U),C=v(U,"DIV",{class:!0});var oe=y(C);R=Z(oe,O),oe.forEach(h),p=N(U),m=v(U,"DIV",{class:!0});var L=y(m);k=v(L,"DIV",{class:!0});var P=y(k);E=v(P,"DIV",{class:!0});var K=y(E);B=Z(K,T),K.forEach(h),H=N(P),q=v(P,"DIV",{class:!0});var re=y(q);M=v(re,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(M)!=="svelte-1ipzwr1"&&(M.textContent=J),re.forEach(h),P.forEach(h),L.forEach(h),U.forEach(h),V=N(F),A=v(F,"HR",{class:!0}),this.h()},h(){u(n,"class","column pb-0 has-text-weight-bold"),u(d,"type","checkbox"),u(b,"class","ml-2"),u(c,"class","column pb-0 is-narrow"),u(s,"class","column pb-0 columns is-mobile is-5 is-gapless"),u(C,"class","column pb-0 is-4"),u(E,"class","column pb-0"),u(M,"class","button is-small is-link is-outlined"),u(q,"class","column pb-0 is-narrow"),u(k,"class","columns is-mobile is-gapless"),u(m,"class","column pb-0 is-3"),u(t,"class","columns"),u(A,"class","p-0 m-0 my-2"),this.first=t},m(F,U){x(F,t,U),r(t,s),r(s,n),r(n,l),r(s,o),r(s,c),r(c,g),r(g,d),r(g,_),r(g,b),r(b,S),r(t,I),r(t,C),r(C,R),r(t,p),r(t,m),r(m,k),r(k,E),r(E,B),r(k,H),r(k,q),r(q,M),x(F,V,U),x(F,A,U),j||(X=[te(d,"click",$),te(M,"click",se)],j=!0)},p(F,U){e=F,U[1]&16&&i!==(i=e[36].name+"")&&ue(l,i),U[1]&16&&D!==(D=e[36].slId+"")&&ue(S,D),U[1]&16&&O!==(O=e[36].address+"")&&ue(R,O),U[1]&16&&T!==(T=(e[36].branchName??"-")+"")&&ue(B,T)},d(F){F&&(h(t),h(V),h(A)),j=!1,Le(X)}}}function Kt(a){let e,t=a[36]+"",s;return{c(){e=f("option"),s=Y(t),this.h()},l(n){e=v(n,"OPTION",{});var i=y(e);s=Z(i,t),i.forEach(h),this.h()},h(){e.__value=a[36],ge(e,e.__value)},m(n,i){x(n,e,i),r(e,s)},p:be,d(n){n&&h(e)}}}function Js(a){let e;function t(i,l){return i[35].status==="loading"?Ws:zs}let s=t(a),n=s(a);return{c(){e=f("div"),n.c(),this.h()},l(i){e=v(i,"DIV",{slot:!0});var l=y(e);n.l(l),l.forEach(h),this.h()},h(){u(e,"slot","query")},m(i,l){x(i,e,l),n.m(e,null)},p(i,l){s===(s=t(i))&&n?n.p(i,l):(n.d(1),n=s(i),n&&(n.c(),n.m(e,null)))},d(i){i&&h(e),n.d()}}}function zt(a){let e,t,s;function n(l){a[23](l)}let i={branchs:a[0],data:{...a[3]}};return a[4]!==void 0&&(i.isActive=a[4]),e=new Ks({props:i}),rt.push(()=>ct(e,"isActive",n)),e.$on("onSave",a[12]),e.$on("removeCustomer",a[15]),{c(){Se(e.$$.fragment)},l(l){Oe(e.$$.fragment,l)},m(l,o){we(e,l,o),s=!0},p(l,o){const c={};o[0]&1&&(c.branchs=l[0]),o[0]&8&&(c.data={...l[3]}),!t&&o[0]&16&&(t=!0,c.isActive=l[4],ot(()=>t=!1)),e.$set(c)},i(l){s||(he(e.$$.fragment,l),s=!0)},o(l){_e(e.$$.fragment,l),s=!1},d(l){Te(e,l)}}}function Xs(a){let e,t,s,n='<div class="subtitle block">Customer</div>',i,l,o,c="+ New",g,d,_,b,D,S;d=new ss({props:{options:a[5],$$slots:{query:[Js,({queryResult:C})=>({35:C}),({queryResult:C})=>[0,C?16:0]]},$$scope:{ctx:a}}});let I=a[4]==="is-active"&&zt(a);return{c(){e=f("div"),t=f("div"),s=f("div"),s.innerHTML=n,i=Q(),l=f("div"),o=f("button"),o.textContent=c,g=Q(),Se(d.$$.fragment),_=Q(),I&&I.c(),this.h()},l(C){e=v(C,"DIV",{class:!0});var O=y(e);t=v(O,"DIV",{class:!0});var R=y(t);s=v(R,"DIV",{class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-s6vxt3"&&(s.innerHTML=n),i=N(R),l=v(R,"DIV",{class:!0});var p=y(l);o=v(p,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(o)!=="svelte-13enxc"&&(o.textContent=c),p.forEach(h),R.forEach(h),g=N(O),Oe(d.$$.fragment,O),_=N(O),I&&I.l(O),O.forEach(h),this.h()},h(){u(s,"class","column"),u(o,"class","button is-success"),u(l,"class","column is-narrow"),u(t,"class","columns is-mobile"),u(e,"class","container")},m(C,O){x(C,e,O),r(e,t),r(t,s),r(t,i),r(t,l),r(l,o),r(e,g),we(d,e,null),r(e,_),I&&I.m(e,null),b=!0,D||(S=te(o,"click",a[16]),D=!0)},p(C,O){const R={};O[0]&32&&(R.options=C[5]),O[0]&30|O[1]&1040&&(R.$$scope={dirty:O,ctx:C}),d.$set(R),C[4]==="is-active"?I?(I.p(C,O),O[0]&16&&he(I,1)):(I=zt(C),I.c(),he(I,1),I.m(e,null)):I&&(Yt(),_e(I,1,1,()=>{I=null}),Zt())},i(C){b||(he(d.$$.fragment,C),he(I),b=!0)},o(C){_e(d.$$.fragment,C),_e(I),b=!1},d(C){C&&h(e),Te(d),I&&I.d(),D=!1,S()}}}function Gs(a,e,t){let s,n,i,l;const o=He(),c=Je();let{branchs:g=[]}=e,d=0,_=5,b=[5,10,25,50,100];const D=async(w,W)=>await De.get(`/v2/pdam/customer/list/${W}/${W*w}`).json(),S=async w=>{w&&w.length===_&&await c.prefetchQuery(["pdam","customer","list",d+1],()=>D(d+1,_))},I=async w=>await De.headers({"Content-Type":"application/json",Accept:"application/json"}).put(w,`/v2/pdam/customer/${w.oldSlId}`).json(),C=async w=>await De.headers({"Content-Type":"application/json",Accept:"application/json"}).post(w,"/v2/pdam/customer/").json(),O=async w=>await De.headers({"Content-Type":"application/json",Accept:"application/json"}).delete(`/v2/pdam/customer/${w}`).json(),R=Fe(C,{onMutate:async w=>{await c.cancelQueries();const W=c.getQueryData(["pdam","customer","list",d,_]);return W&&c.setQueryData(["pdam","customer","list",d,_],[...W]),W},onSuccess:async(w,W,z)=>{setTimeout(()=>{},1e3)},onError:(w,W,z)=>{z!=null&&z.previousData&&c.setQueryData(["pdam","customer","list",d,_],z.previousData)},onSettled:async(w,W,z,G)=>{await c.invalidateQueries(["pdam","customer","list",d,_])}});je(a,R,w=>t(27,l=w));const p=Fe(I,{onMutate:async w=>{await c.cancelQueries();const W=c.getQueryData(["pdam","customer","list",d,_]);return W&&c.setQueryData(["pdam","customer","list",d,_],W),W},onSuccess:async(w,W,z)=>{setTimeout(()=>{},1e3)},onError:(w,W,z)=>{z!=null&&z.previousData&&c.setQueryData(["pdam","customer","list",d,_],z.previousData)},onSettled:async(w,W,z,G)=>{await c.invalidateQueries(["pdam","customer","list",d,_])}});je(a,p,w=>t(26,i=w));const m=Fe(O,{onSuccess:async()=>console.log("Delete Success"),onSettled:async()=>await c.invalidateQueries(["pdam","customer","list",d,_])});je(a,m,w=>t(25,n=w));const k={slId:"",name:"",address:"",branchId:0,isNew:!0};let E=k,T="";function B(w){const W=w.detail;W.isNew?l.mutate(W):i.mutate({...W,createdAt:bs().format()}),t(4,T="")}const H=w=>{t(1,d=w)},q=w=>{H(0)};function M(w){o("selectCustomer",w)}function J(w){n.mutate(w.detail.slId),t(4,T="")}const V=()=>{t(3,E={...k}),t(4,T="is-active")},A=w=>M(w),j=w=>{t(3,E={...w,isNew:!1,oldSlId:w.slId}),t(4,T="is-active")};function X(){_=Gt(this),t(2,_),t(7,b)}const $=w=>o("selectAll",w.data),se=()=>H(Math.max(d-1,0)),F=w=>{H(w.data&&w.data.length!==_?d:d+1)};function U(w){T=w,t(4,T)}return a.$$set=w=>{"branchs"in w&&t(0,g=w.branchs)},a.$$.update=()=>{a.$$.dirty[0]&4&&q(),a.$$.dirty[0]&6&&t(5,s={queryKey:["pdam","customer","list",d,_],queryFn:()=>D(d,_),onSuccess:()=>S,keepPreviousData:!0})},[g,d,_,E,T,s,o,b,R,p,m,k,B,H,M,J,V,A,j,X,$,se,F,U]}class Ys extends Ae{constructor(e){super(),Qe(this,e,Gs,Xs,Ve,{branchs:0},null,[-1,-1])}}function Zs(a){let e,t,s="Import data pelanggan dari file .csv",n,i,l,o,c,g,d,_,b,D,S,I,C,O,R,p,m,k,E,T=JSON.stringify({"Jumlah data":a[1].length,data:a[1]},null,2)+"",B,H,q;return{c(){e=f("div"),t=f("div"),t.textContent=s,n=Q(),i=f("div"),l=f("div"),o=f("div"),c=f("input"),g=Q(),d=f("div"),_=f("span"),b=Y("CSV Format ("),D=Y(a[0]),S=Y(")"),I=Q(),C=f("div"),O=f("button"),R=Y("Import Now"),m=Q(),k=f("div"),E=f("pre"),B=Y(T),this.h()},l(M){e=v(M,"DIV",{});var J=y(e);t=v(J,"DIV",{class:!0,"data-svelte-h":!0}),ie(t)!=="svelte-aw1kmd"&&(t.textContent=s),n=N(J),i=v(J,"DIV",{class:!0});var V=y(i);l=v(V,"DIV",{class:!0});var A=y(l);o=v(A,"DIV",{class:!0});var j=y(o);c=v(j,"INPUT",{type:!0,class:!0,accept:!0}),j.forEach(h),g=N(A),d=v(A,"DIV",{class:!0});var X=y(d);_=v(X,"SPAN",{});var $=y(_);b=Z($,"CSV Format ("),D=Z($,a[0]),S=Z($,")"),$.forEach(h),X.forEach(h),I=N(A),C=v(A,"DIV",{class:!0});var se=y(C);O=v(se,"BUTTON",{class:!0});var F=y(O);R=Z(F,"Import Now"),F.forEach(h),se.forEach(h),A.forEach(h),m=N(V),k=v(V,"DIV",{});var U=y(k);E=v(U,"PRE",{});var w=y(E);B=Z(w,T),w.forEach(h),U.forEach(h),V.forEach(h),J.forEach(h),this.h()},h(){u(t,"class","subtitle"),u(c,"type","file"),u(c,"class","input"),u(c,"accept","text/csv"),u(o,"class","column"),u(d,"class","column"),O.disabled=p=a[1].length===0,u(O,"class","button is-primary"),u(C,"class","column is-narrow"),u(l,"class","columns"),u(i,"class","block")},m(M,J){x(M,e,J),r(e,t),r(e,n),r(e,i),r(i,l),r(l,o),r(o,c),r(l,g),r(l,d),r(d,_),r(_,b),r(_,D),r(_,S),r(l,I),r(l,C),r(C,O),r(O,R),r(i,m),r(i,k),r(k,E),r(E,B),H||(q=[te(c,"change",cs(a[5])),te(O,"click",a[3])],H=!0)},p(M,[J]){J&1&&ue(D,M[0]),J&2&&p!==(p=M[1].length===0)&&(O.disabled=p),J&2&&T!==(T=JSON.stringify({"Jumlah data":M[1].length,data:M[1]},null,2)+"")&&ue(B,T)},i:be,o:be,d(M){M&&h(e),H=!1,Le(q)}}}function $s(a,e,t){let{branchs:s=[]}=e,{header:n=""}=e,i=[];const l=He(),o=_=>{const b=s.filter(D=>D.name===_)[0];return b?b.id:1};function c(_){const b=_.currentTarget;if(b&&b.files&&b.files[0]){const D=b.files[0],S=new FileReader;S.onload=I=>{var O;const C=((O=I.target)==null?void 0:O.result)??"";gs().fromString(C).then(R=>{t(1,i=R.map(p=>({name:p.name,address:p.address,slId:p.noSl,branchId:o(p.city),branchName:p.city})))})},S.readAsText(D,"utf-8")}}async function g(_){const b=await De.headers({"Content-Type":"application/json",Accept:"application/json"}).url("/v2/pdam/customer/import").post(i).json();b.status==="SUCCESS"&&l("success",b)}const d=_=>c(_);return a.$$set=_=>{"branchs"in _&&t(4,s=_.branchs),"header"in _&&t(0,n=_.header)},[n,i,c,g,s,d]}class xs extends Ae{constructor(e){super(),Qe(this,e,$s,Zs,Ve,{branchs:4,header:0})}}function Wt(a,e,t){const s=a.slice();return s[6]=e[t],s[8]=t,s}function Jt(a,e){let t,s,n,i=e[6].name+"",l,o,c,g=e[6].noSl+"",d,_,b,D=e[6].address+"",S,I,C,O,R=e[6].city+"",p,m,k,E,T="Remove",B,H,q,M;function J(){return e[5](e[6])}return{key:a,first:null,c(){t=f("div"),s=f("div"),n=f("div"),l=Y(i),o=Q(),c=f("div"),d=Y(g),_=Q(),b=f("div"),S=Y(D),I=Q(),C=f("div"),O=f("div"),p=Y(R),m=Q(),k=f("div"),E=f("button"),E.textContent=T,B=Q(),H=f("hr"),this.h()},l(V){t=v(V,"DIV",{class:!0});var A=y(t);s=v(A,"DIV",{class:!0});var j=y(s);n=v(j,"DIV",{class:!0});var X=y(n);l=Z(X,i),X.forEach(h),o=N(j),c=v(j,"DIV",{class:!0});var $=y(c);d=Z($,g),$.forEach(h),j.forEach(h),_=N(A),b=v(A,"DIV",{class:!0});var se=y(b);S=Z(se,D),se.forEach(h),I=N(A),C=v(A,"DIV",{class:!0});var F=y(C);O=v(F,"DIV",{class:!0});var U=y(O);p=Z(U,R),U.forEach(h),m=N(F),k=v(F,"DIV",{class:!0});var w=y(k);E=v(w,"BUTTON",{title:!0,class:!0,"data-svelte-h":!0}),ie(E)!=="svelte-4tdzbf"&&(E.textContent=T),w.forEach(h),F.forEach(h),A.forEach(h),B=N(V),H=v(V,"HR",{class:!0}),this.h()},h(){u(n,"class","column pb-0 has-text-weight-bold"),u(c,"class","column pb-0 is-narrow"),u(s,"class","column pb-0 columns is-mobile is-gapless"),u(b,"class","column pb-0"),u(O,"class","column pb-0"),u(E,"title","Remove from print request"),u(E,"class","button is-small is-warning"),u(k,"class","column pb-0 is-narrow"),u(C,"class","column pb-0 is-4 columns is-mobile is-gapless"),u(t,"class","columns"),u(H,"class","p-0 m-0 my-2"),this.first=t},m(V,A){x(V,t,A),r(t,s),r(s,n),r(n,l),r(s,o),r(s,c),r(c,d),r(t,_),r(t,b),r(b,S),r(t,I),r(t,C),r(C,O),r(O,p),r(C,m),r(C,k),r(k,E),x(V,B,A),x(V,H,A),q||(M=te(E,"click",J),q=!0)},p(V,A){e=V,A&1&&i!==(i=e[6].name+"")&&ue(l,i),A&1&&g!==(g=e[6].noSl+"")&&ue(d,g),A&1&&D!==(D=e[6].address+"")&&ue(S,D),A&1&&R!==(R=e[6].city+"")&&ue(p,R)},d(V){V&&(h(t),h(B),h(H)),q=!1,M()}}}function ea(a){let e,t,s,n=a[0].length+"",i,l,o,c,g,d,_,b,D,S,I,C,O,R,p,m,k,E,T=[],B=new Map,H,q,M=Ie(a[0]);const J=V=>V[6].noSl;for(let V=0;V<M.length;V+=1){let A=Wt(a,M,V),j=J(A);B.set(j,T[V]=Jt(j,A))}return{c(){e=f("div"),t=f("div"),s=Y("Ada "),i=Y(n),l=Y(" pelanggan yang akan dicetak kartunya."),o=Q(),c=f("div"),g=f("div"),d=f("button"),_=Y("Remove All"),D=Q(),S=f("div"),I=f("button"),C=Y("Download"),R=Q(),p=f("div"),m=f("hr"),k=Q(),E=f("div");for(let V=0;V<T.length;V+=1)T[V].c();this.h()},l(V){e=v(V,"DIV",{class:!0});var A=y(e);t=v(A,"DIV",{class:!0});var j=y(t);s=Z(j,"Ada "),i=Z(j,n),l=Z(j," pelanggan yang akan dicetak kartunya."),j.forEach(h),o=N(A),c=v(A,"DIV",{class:!0});var X=y(c);g=v(X,"DIV",{class:!0});var $=y(g);d=v($,"BUTTON",{title:!0,class:!0});var se=y(d);_=Z(se,"Remove All"),se.forEach(h),$.forEach(h),D=N(X),S=v(X,"DIV",{class:!0});var F=y(S);I=v(F,"BUTTON",{class:!0});var U=y(I);C=Z(U,"Download"),U.forEach(h),F.forEach(h),X.forEach(h),A.forEach(h),R=N(V),p=v(V,"DIV",{class:!0});var w=y(p);m=v(w,"HR",{class:!0}),k=N(w),E=v(w,"DIV",{class:!0});var W=y(E);for(let z=0;z<T.length;z+=1)T[z].l(W);W.forEach(h),w.forEach(h),this.h()},h(){u(t,"class","column"),d.disabled=b=a[0].length===0,u(d,"title","Remove from print request"),u(d,"class","button is-danger"),u(g,"class","column"),I.disabled=O=!a[1],u(I,"class","button is-primary"),u(S,"class","column is-narrow"),u(c,"class","column is-narrow columns is-mobile"),u(e,"class","block columns"),u(m,"class","p-0 m-0 my-2"),u(E,"class","container is-outlined is-primary"),u(p,"class","block")},m(V,A){x(V,e,A),r(e,t),r(t,s),r(t,i),r(t,l),r(e,o),r(e,c),r(c,g),r(g,d),r(d,_),r(c,D),r(c,S),r(S,I),r(I,C),x(V,R,A),x(V,p,A),r(p,m),r(p,k),r(p,E);for(let j=0;j<T.length;j+=1)T[j]&&T[j].m(E,null);H||(q=[te(d,"click",a[4]),te(I,"click",a[3])],H=!0)},p(V,[A]){A&1&&n!==(n=V[0].length+"")&&ue(i,n),A&1&&b!==(b=V[0].length===0)&&(d.disabled=b),A&2&&O!==(O=!V[1])&&(I.disabled=O),A&5&&(M=Ie(V[0]),T=Ke(T,A,J,1,V,M,B,E,ze,Jt,null,Wt))},i:be,o:be,d(V){V&&(h(e),h(R),h(p));for(let A=0;A<T.length;A+=1)T[A].d();H=!1,Le(q)}}}function ta(a,e,t){var g;const s=He();let{data:n=[]}=e,i=!1;function l(d){s("downloadCaard",!0)}const o=()=>s("removeAllItem",!0),c=d=>s("removeItem",d);a.$$set=d=>{"data"in d&&t(0,n=d.data)};{const d=(g=document.getElementById("username"))==null?void 0:g.innerText;t(1,i=d==="mastur.st12@outlook.com")}return[n,i,s,l,o,c]}class sa extends Ae{constructor(e){super(),Qe(this,e,ta,ea,Ve,{data:0})}}const{document:at}=ds;function aa(a){let e,t;return e=new sa({props:{data:a[2]}}),e.$on("downloadCaard",a[9]),e.$on("removeItem",a[6]),e.$on("removeAllItem",a[10]),{c(){Se(e.$$.fragment)},l(s){Oe(e.$$.fragment,s)},m(s,n){we(e,s,n),t=!0},p(s,n){const i={};n&4&&(i.data=s[2]),e.$set(i)},i(s){t||(he(e.$$.fragment,s),t=!0)},o(s){_e(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function la(a){let e,t;return e=new xs({props:{branchs:a[0],header:oa}}),e.$on("success",a[4]),{c(){Se(e.$$.fragment)},l(s){Oe(e.$$.fragment,s)},m(s,n){we(e,s,n),t=!0},p(s,n){const i={};n&1&&(i.branchs=s[0]),e.$set(i)},i(s){t||(he(e.$$.fragment,s),t=!0)},o(s){_e(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function ra(a){let e,t;return e=new Ys({props:{branchs:a[0]}}),e.$on("selectCustomer",a[5]),e.$on("selectAll",a[7]),{c(){Se(e.$$.fragment)},l(s){Oe(e.$$.fragment,s)},m(s,n){we(e,s,n),t=!0},p(s,n){const i={};n&1&&(i.branchs=s[0]),e.$set(i)},i(s){t||(he(e.$$.fragment,s),t=!0)},o(s){_e(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function na(a){let e,t;return e=new Bs({}),{c(){Se(e.$$.fragment)},l(s){Oe(e.$$.fragment,s)},m(s,n){we(e,s,n),t=!0},p:be,i(s){t||(he(e.$$.fragment,s),t=!0)},o(s){_e(e.$$.fragment,s),t=!1},d(s){Te(e,s)}}}function ia(a){let e,t,s,n,i,l,o,c="PDAM",g,d,_,b,D,S,I,C;function O(E){a[8](E)}let R={};a[1]!==void 0&&(R.currentMenu=a[1]),d=new As({props:R}),rt.push(()=>ct(d,"currentMenu",O));const p=[na,ra,la,aa],m=[];function k(E,T){return E[1]===2?0:E[1]===1?1:E[1]===3?2:3}return S=k(a),I=m[S]=p[S](a),{c(){e=f("meta"),t=f("meta"),s=Q(),n=f("section"),i=f("div"),l=f("div"),o=f("div"),o.textContent=c,g=Q(),Se(d.$$.fragment),b=Q(),D=f("div"),I.c(),this.h()},l(E){const T=us("svelte-15hq90y",at.head);e=v(T,"META",{property:!0,content:!0}),t=v(T,"META",{name:!0,content:!0}),T.forEach(h),s=N(E),n=v(E,"SECTION",{});var B=y(n);i=v(B,"DIV",{class:!0});var H=y(i);l=v(H,"DIV",{class:!0});var q=y(l);o=v(q,"DIV",{class:!0,"data-svelte-h":!0}),ie(o)!=="svelte-wws45t"&&(o.textContent=c),g=N(q),Oe(d.$$.fragment,q),q.forEach(h),b=N(H),D=v(H,"DIV",{class:!0});var M=y(D);I.l(M),M.forEach(h),H.forEach(h),B.forEach(h),this.h()},h(){u(e,"property","og:description"),u(e,"content","PDAM Card"),at.title="PDAM Card",u(t,"name","description"),u(t,"content","PDAM Card"),u(o,"class","title"),u(l,"class","column is-narrow is-one-fifth"),u(D,"class","column"),u(i,"class","columns")},m(E,T){r(at.head,e),r(at.head,t),x(E,s,T),x(E,n,T),r(n,i),r(i,l),r(l,o),r(l,g),we(d,l,null),r(i,b),r(i,D),m[S].m(D,null),C=!0},p(E,[T]){const B={};!_&&T&2&&(_=!0,B.currentMenu=E[1],ot(()=>_=!1)),d.$set(B);let H=S;S=k(E),S===H?m[S].p(E,T):(Yt(),_e(m[H],1,1,()=>{m[H]=null}),Zt(),I=m[S],I?I.p(E,T):(I=m[S]=p[S](E),I.c()),he(I,1),I.m(D,null))},i(E){C||(he(d.$$.fragment,E),he(I),C=!0)},o(E){_e(d.$$.fragment,E),_e(I),C=!1},d(E){E&&(h(s),h(n)),h(e),h(t),Te(d),m[S].d()}}}let oa="noSl, name, address, city";function ca(a,e,t){let s=[];const n=Je();let i=1,l=[];const o=R=>s.filter(p=>p.id===R)[0].address;async function c(){let R="pdam-card.pdf";const p="/v1/pdam";await De.headers({Accept:"application/pdf","Content-Type":"application/json"}).url(p).post(l).blob(m=>{var k=window.URL.createObjectURL(m),E=document.createElement("a");E.href=k,E.download=R,E.click(),E.remove(),setTimeout(()=>!1,1e3),window.URL.revokeObjectURL(k)}).catch(m=>{console.log(m)})}const g=async()=>await De.get("/v2/pdam/branch/").json(),d=ts({queryKey:["pdam","branch","list"],queryFn:async()=>await g()});it(async()=>{d.subscribe(R=>t(0,s=R.data??[]))});function _(R){n.invalidateQueries(["pdam","customer","list"]),t(1,i=1)}function b(R){const p=l.filter(m=>m.noSl===R.detail.slId)[0];if(p){t(2,l=l.filter(m=>m.noSl!=p.noSl));return}t(2,l=[...l,{address:R.detail.address,cabang:o(R.detail.branchId),city:R.detail.branchName??"",name:R.detail.name,noSl:R.detail.slId}])}function D(R){t(2,l=l.filter(p=>p.noSl!=R.detail.noSl))}function S(R){if(R.detail){const p=l.map(k=>k.noSl),m=R.detail.map(k=>({address:k.address,cabang:o(k.branchId),city:k.branchName??"",name:k.name,noSl:k.slId})).filter(k=>!p.includes(k.noSl));t(2,l=[...l,...m])}}function I(R){i=R,t(1,i)}return[s,i,l,c,_,b,D,S,I,()=>c(),()=>t(2,l=[])]}class ba extends Ae{constructor(e){super(),Qe(this,e,ca,ia,Ve,{})}}export{ba as component};
