import{s as Fe,n as Ae,r as qe}from"../chunks/scheduler.28edf0f0.js";import{S as Ge,i as Ke,g as s,s as k,m as H,C as Xe,h as o,f as r,c as y,j as v,x as $,n as R,k as m,y as e,a as W,A as Q,E as Ye,o as ie,H as ze,D as Ve}from"../chunks/index.2c506ba6.js";import{g as Qe}from"../chunks/globals.7f7f1b26.js";import{e as He}from"../chunks/each.693df04e.js";import{c as Re}from"../chunks/browser.54b85836.js";import{f as We}from"../chunks/fetch-api.03dee818.js";const{document:pe}=Qe;function Je(l,t,a){const n=l.slice();return n[21]=t[a],n[22]=t,n[23]=a,n}function Ze(l){let t,a,n,h,d,C,E,_;return{c(){t=s("input"),a=k(),n=s("span"),h=H("CSV Format ("),d=H(de),C=H(")"),this.h()},l(u){t=o(u,"INPUT",{type:!0,class:!0,accept:!0}),a=y(u),n=o(u,"SPAN",{});var f=v(n);h=R(f,"CSV Format ("),d=R(f,de),C=R(f,")"),f.forEach(r),this.h()},h(){m(t,"type","file"),m(t,"class","mb-4 mt-2"),m(t,"accept","text/csv")},m(u,f){W(u,t,f),W(u,a,f),W(u,n,f),e(n,h),e(n,d),e(n,C),E||(_=Q(t,"change",ze(l[12])),E=!0)},p:Ae,d(u){u&&(r(t),r(a),r(n)),E=!1,_()}}}function $e(l){let t,a,n,h,d,C,E,_,u,f;return{c(){t=s("div"),a=s("label"),n=s("span"),h=H("CSV Text (comma delimited) format: ("),d=H(de),C=H("):"),E=k(),_=s("textarea"),this.h()},l(b){t=o(b,"DIV",{class:!0});var L=v(t);a=o(L,"LABEL",{class:!0});var D=v(a);n=o(D,"SPAN",{});var P=v(n);h=R(P,"CSV Text (comma delimited) format: ("),d=R(P,de),C=R(P,"):"),P.forEach(r),E=y(D),_=o(D,"TEXTAREA",{class:!0,rows:!0}),v(_).forEach(r),D.forEach(r),L.forEach(r),this.h()},h(){m(_,"class","textarea column is-full svelte-5e1234"),m(_,"rows","10"),m(a,"class","label svelte-5e1234"),m(t,"class","field block")},m(b,L){W(b,t,L),e(t,a),e(a,n),e(n,h),e(n,d),e(n,C),e(a,E),e(a,_),Ve(_,l[3]),u||(f=Q(_,"input",l[11]),u=!0)},p(b,L){L&8&&Ve(_,b[3])},d(b){b&&r(t),u=!1,f()}}}function je(l){let t,a,n,h,d,C=l[21].noSl+"",E,_,u,f=l[21].name+"",b,L,D,P=l[21].address+"",M,O,K,J=l[21].city+"",X,Y,U,x=l[21].cabang+"",F,g,T,S;function V(){l[17].call(n,l[22],l[23])}return{c(){t=s("tr"),a=s("td"),n=s("input"),h=k(),d=s("td"),E=H(C),_=k(),u=s("td"),b=H(f),L=k(),D=s("td"),M=H(P),O=k(),K=s("td"),X=H(J),Y=k(),U=s("td"),F=H(x),g=k(),this.h()},l(w){t=o(w,"TR",{});var c=v(t);a=o(c,"TD",{});var B=v(a);n=o(B,"INPUT",{type:!0}),B.forEach(r),h=y(c),d=o(c,"TD",{});var z=v(d);E=R(z,C),z.forEach(r),_=y(c),u=o(c,"TD",{});var A=v(u);b=R(A,f),A.forEach(r),L=y(c),D=o(c,"TD",{});var Z=v(D);M=R(Z,P),Z.forEach(r),O=y(c),K=o(c,"TD",{});var q=v(K);X=R(q,J),q.forEach(r),Y=y(c),U=o(c,"TD",{});var ee=v(U);F=R(ee,x),ee.forEach(r),g=y(c),c.forEach(r),this.h()},h(){m(n,"type","checkbox")},m(w,c){W(w,t,c),e(t,a),e(a,n),n.checked=l[21].selected,e(t,h),e(t,d),e(d,E),e(t,_),e(t,u),e(u,b),e(t,L),e(t,D),e(D,M),e(t,O),e(t,K),e(K,X),e(t,Y),e(t,U),e(U,F),e(t,g),T||(S=Q(n,"change",V),T=!0)},p(w,c){l=w,c&2&&(n.checked=l[21].selected),c&2&&C!==(C=l[21].noSl+"")&&ie(E,C),c&2&&f!==(f=l[21].name+"")&&ie(b,f),c&2&&P!==(P=l[21].address+"")&&ie(M,P),c&2&&J!==(J=l[21].city+"")&&ie(X,J),c&2&&x!==(x=l[21].cabang+"")&&ie(F,x)},d(w){w&&r(t),T=!1,S()}}}function et(l){let t,a,n,h,d,C="Kartu PDAM",E,_,u,f,b,L="CSV Text",D,P,M,O,K="File",J,X,Y,U,x,F,g,T,S,V,w,c,B,z,A,Z,q,ee,te,ke="No. SL",me,le,ye="NAMA",ve,ae,Se="ALAMAT",be,ne,De="CABANG",ge,se,Ne="ALAMAT CABANG",Te,oe,Ce,xe;function we(i,N){return i[0]==="text"?$e:Ze}let ue=we(l),G=ue(l),re=He(l[1]),I=[];for(let i=0;i<re.length;i+=1)I[i]=je(Je(l,re,i));return{c(){t=s("meta"),a=s("meta"),n=k(),h=s("section"),d=s("div"),d.textContent=C,E=k(),_=s("div"),u=s("ul"),f=s("li"),b=s("a"),b.textContent=L,P=k(),M=s("li"),O=s("a"),O.textContent=K,X=k(),G.c(),Y=k(),U=s("div"),x=s("button"),F=H("Parse to JSON"),T=k(),S=s("button"),V=H("Download"),c=k(),B=s("table"),z=s("thead"),A=s("tr"),Z=s("th"),q=s("input"),ee=k(),te=s("th"),te.textContent=ke,me=k(),le=s("th"),le.textContent=ye,ve=k(),ae=s("th"),ae.textContent=Se,be=k(),ne=s("th"),ne.textContent=De,ge=k(),se=s("th"),se.textContent=Ne,Te=k(),oe=s("tbody");for(let i=0;i<I.length;i+=1)I[i].c();this.h()},l(i){const N=Xe("svelte-15hq90y",pe.head);t=o(N,"META",{property:!0,content:!0}),a=o(N,"META",{name:!0,content:!0}),N.forEach(r),n=y(i),h=o(i,"SECTION",{});var p=v(h);d=o(p,"DIV",{class:!0,"data-svelte-h":!0}),$(d)!=="svelte-14g43s4"&&(d.textContent=C),E=y(p),_=o(p,"DIV",{class:!0});var ce=v(_);u=o(ce,"UL",{});var fe=v(u);f=o(fe,"LI",{class:!0});var Ie=v(f);b=o(Ie,"A",{href:!0,"data-svelte-h":!0}),$(b)!=="svelte-q1uj1g"&&(b.textContent=L),Ie.forEach(r),P=y(fe),M=o(fe,"LI",{class:!0});var Le=v(M);O=o(Le,"A",{href:!0,"data-svelte-h":!0}),$(O)!=="svelte-1a2fnp4"&&(O.textContent=K),Le.forEach(r),fe.forEach(r),ce.forEach(r),X=y(p),G.l(p),Y=y(p),U=o(p,"DIV",{class:!0});var he=v(U);x=o(he,"BUTTON",{class:!0});var Pe=v(x);F=R(Pe,"Parse to JSON"),Pe.forEach(r),T=y(he),S=o(he,"BUTTON",{class:!0});var Ue=v(S);V=R(Ue,"Download"),Ue.forEach(r),he.forEach(r),p.forEach(r),c=y(i),B=o(i,"TABLE",{class:!0});var _e=v(B);z=o(_e,"THEAD",{});var Be=v(z);A=o(Be,"TR",{});var j=v(A);Z=o(j,"TH",{});var Me=v(Z);q=o(Me,"INPUT",{type:!0}),Me.forEach(r),ee=y(j),te=o(j,"TH",{"data-svelte-h":!0}),$(te)!=="svelte-ordyps"&&(te.textContent=ke),me=y(j),le=o(j,"TH",{"data-svelte-h":!0}),$(le)!=="svelte-s0ordp"&&(le.textContent=ye),ve=y(j),ae=o(j,"TH",{"data-svelte-h":!0}),$(ae)!=="svelte-hx9f2o"&&(ae.textContent=Se),be=y(j),ne=o(j,"TH",{"data-svelte-h":!0}),$(ne)!=="svelte-4f99bg"&&(ne.textContent=De),ge=y(j),se=o(j,"TH",{"data-svelte-h":!0}),$(se)!=="svelte-1fywyle"&&(se.textContent=Ne),j.forEach(r),Be.forEach(r),Te=y(_e),oe=o(_e,"TBODY",{});var Oe=v(oe);for(let Ee=0;Ee<I.length;Ee+=1)I[Ee].l(Oe);Oe.forEach(r),_e.forEach(r),this.h()},h(){m(t,"property","og:description"),m(t,"content","PDAM Card"),pe.title="PDAM Card",m(a,"name","description"),m(a,"content","PDAM Card"),m(d,"class","title"),m(b,"href","#"),m(f,"class",D=l[0]==="text"?"is-active":""),m(O,"href","#"),m(M,"class",J=l[0]==="file"?"is-active":""),m(_,"class","tabs is-toggle is-toggle-rounded is-small"),x.disabled=g=l[0]!=="text",m(x,"class","button is-link block"),S.disabled=w=!l[4],m(S,"class","button block is-primary"),m(U,"class","buttons block"),m(q,"type","checkbox"),m(B,"class","table")},m(i,N){e(pe.head,t),e(pe.head,a),W(i,n,N),W(i,h,N),e(h,d),e(h,E),e(h,_),e(_,u),e(u,f),e(f,b),e(u,P),e(u,M),e(M,O),e(h,X),G.m(h,null),e(h,Y),e(h,U),e(U,x),e(x,F),e(U,T),e(U,S),e(S,V),W(i,c,N),W(i,B,N),e(B,z),e(z,A),e(A,Z),e(Z,q),q.checked=l[2],e(A,ee),e(A,te),e(A,me),e(A,le),e(A,ve),e(A,ae),e(A,be),e(A,ne),e(A,ge),e(A,se),e(B,Te),e(B,oe);for(let p=0;p<I.length;p+=1)I[p]&&I[p].m(oe,null);Ce||(xe=[Q(b,"click",l[9]),Q(O,"click",l[10]),Q(x,"click",l[13]),Q(S,"click",l[14]),Q(q,"change",l[15]),Q(q,"input",l[16])],Ce=!0)},p(i,[N]){if(N&1&&D!==(D=i[0]==="text"?"is-active":"")&&m(f,"class",D),N&1&&J!==(J=i[0]==="file"?"is-active":"")&&m(M,"class",J),ue===(ue=we(i))&&G?G.p(i,N):(G.d(1),G=ue(i),G&&(G.c(),G.m(h,Y))),N&1&&g!==(g=i[0]!=="text")&&(x.disabled=g),N&16&&w!==(w=!i[4])&&(S.disabled=w),N&4&&(q.checked=i[2]),N&2){re=He(i[1]);let p;for(p=0;p<re.length;p+=1){const ce=Je(i,re,p);I[p]?I[p].p(ce,N):(I[p]=je(ce),I[p].c(),I[p].m(oe,null))}for(;p<I.length;p+=1)I[p].d(1);I.length=re.length}},i:Ae,o:Ae,d(i){i&&(r(n),r(h),r(c),r(B)),r(t),r(a),G.d(),Ye(I,i),Ce=!1,qe(xe)}}}let de="noSl, name, address, city";function tt(l,t,a){var F;let n="text";const h=[{name:"Jatibarang",address:"Jl. Purna Brata No. 1001 Telp. (0234)  351491"},{name:"Sindang",address:"Jl. Singalodra  - Sindang Telp. (0234) 277564"},{name:"Indramayu",address:"Jl. Tanjungpura No. 197 Kepandean - Indramayu Telp (0234) 7121205"}];let d=[],C=!1,E="",_=!1;const u=g=>h.filter(T=>T.name===g)[0].address;function f(g){const T=g.currentTarget;if(T&&T.files&&T.files[0]){const S=T.files[0],V=new FileReader;V.onload=w=>{var B;const c=((B=w.target)==null?void 0:B.result)??"";Re().fromString(c).then(z=>{a(1,d=[...d,...z.map(A=>({...A,cabang:u(A.city),selected:!0}))])})},V.readAsText(S,"utf-8")}}function b(g){a(1,d=d.map(T=>({...T,selected:!C})))}function L(g){Re().fromString(de+`
`+E).then(T=>{a(1,d=[...d,...T.map(S=>({...S,cabang:u(S.city),selected:!0}))])})}async function D(g){let T="pdam-card.pdf";const S="/v1/pdam";await We.headers({Accept:"application/pdf","Content-Type":"application/json"}).url(S).post({data:d.filter(V=>V.selected)}).blob(V=>{var w=window.URL.createObjectURL(V),c=document.createElement("a");c.href=w,c.download=T,c.click(),c.remove(),setTimeout(()=>!1,1e3),window.URL.revokeObjectURL(w)}).catch(V=>{console.log(V)})}const P=()=>a(0,n="text"),M=()=>a(0,n="file");function O(){E=this.value,a(3,E)}const K=g=>f(g),J=g=>L(),X=g=>D();function Y(){C=this.checked,a(2,C)}const U=g=>b();function x(g,T){g[T].selected=this.checked,a(1,d)}{const g=(F=document.getElementById("username"))==null?void 0:F.innerText;a(4,_=g==="mastur.st12@outlook.com")}return[n,d,C,E,_,f,b,L,D,P,M,O,K,J,X,Y,U,x]}class ct extends Ge{constructor(t){super(),Ke(this,t,tt,et,Fe,{})}}export{ct as component};
